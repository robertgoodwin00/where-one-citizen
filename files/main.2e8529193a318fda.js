"use strict";(self.webpackChunkchatng=self.webpackChunkchatng||[]).push([[179],{603:(Ac,Op,go)=>{var mo={};go.r(mo),go.d(mo,{Decoder:()=>ip,Encoder:()=>lV,PacketType:()=>ae,protocol:()=>O0});var xc={};function xe(n){return"function"==typeof n}function kc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}go.r(xc),go.d(xc,{Manager:()=>uc,Socket:()=>op,connect:()=>kr,default:()=>kr,io:()=>kr,protocol:()=>O0});const Nc=kc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Pc(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class gt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(o){e=o instanceof Nc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Vp(o)}catch(s){e=e??[],s instanceof Nc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Vp(e);else{if(e instanceof gt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pc(t,e)}remove(e){const{_finalizers:t}=this;t&&Pc(t,e),e instanceof gt&&e._removeParent(this)}}gt.EMPTY=(()=>{const n=new gt;return n.closed=!0,n})();const Fp=gt.EMPTY;function Lp(n){return n instanceof gt||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function Vp(n){xe(n)?n():n.unsubscribe()}const Fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qs={setTimeout(n,e,...t){const{delegate:r}=qs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=qs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Bp(n){qs.setTimeout(()=>{const{onUnhandledError:e}=Fr;if(!e)throw n;e(n)})}function $p(){}const EE=Rc("C",void 0,void 0);function Rc(n,e,t){return{kind:n,value:e,error:t}}let Lr=null;function Ws(n){if(Fr.useDeprecatedSynchronousErrorHandling){const e=!Lr;if(e&&(Lr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Lr;if(Lr=null,t)throw r}}else n()}class Oc extends gt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lp(e)&&e.add(this)):this.destination=kE}static create(e,t,r){return new yo(e,t,r)}next(e){this.isStopped?Lc(function ME(n){return Rc("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Lc(function SE(n){return Rc("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lc(EE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IE=Function.prototype.bind;function Fc(n,e){return IE.call(n,e)}class AE{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ks(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ks(r)}else Ks(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ks(t)}}}class yo extends Oc{constructor(e,t,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Fr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fc(e.next,o),error:e.error&&Fc(e.error,o),complete:e.complete&&Fc(e.complete,o)}):i=e}this.destination=new AE(i)}}function Ks(n){Fr.useDeprecatedSynchronousErrorHandling?function TE(n){Fr.useDeprecatedSynchronousErrorHandling&&Lr&&(Lr.errorThrown=!0,Lr.error=n)}(n):Bp(n)}function Lc(n,e){const{onStoppedNotification:t}=Fr;t&&qs.setTimeout(()=>t(n,e))}const kE={closed:!0,next:$p,error:function xE(n){throw n},complete:$p},Vc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vr(n){return n}function Up(n){return 0===n.length?Vr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function RE(n){return n&&n instanceof Oc||function PE(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}(n)&&Lp(n)}(t)?t:new yo(t,r,i);return Ws(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=jp(r))((i,o)=>{const s=new yo({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Vc](){return this}pipe(...t){return Up(t)(this)}toPromise(t){return new(t=jp(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function jp(n){var e;return null!==(e=n??Fr.Promise)&&void 0!==e?e:Promise}const OE=kc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let En=(()=>{class n extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Hp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new OE}next(t){Ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Fp:(this.currentObservers=null,o.push(t),new gt(()=>{this.currentObservers=null,Pc(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ce;return t.source=this,t}}return n.create=(e,t)=>new Hp(e,t),n})();class Hp extends En{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Fp}}function zp(n){return xe(n?.lift)}function Je(n){return e=>{if(zp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(n,e,t,r,i){return new FE(n,e,t,r,i)}class FE extends Oc{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ce(n,e){return Je((t,r)=>{let i=0;t.subscribe(We(r,o=>{r.next(n.call(e,o,i++))}))})}function Br(n){return this instanceof Br?(this.v=n,this):new Br(n)}function BE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Br?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function $E(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Wp(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Kp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Qp(n){return xe(n?.then)}function Yp(n){return xe(n[Vc])}function Zp(n){return Symbol.asyncIterator&&xe(n?.[Symbol.asyncIterator])}function Jp(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Xp=function jE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eg(n){return xe(n?.[Xp])}function tg(n){return BE(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Br(t.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{t.releaseLock()}})}function ng(n){return xe(n?.getReader)}function an(n){if(n instanceof Ce)return n;if(null!=n){if(Yp(n))return function HE(n){return new Ce(e=>{const t=n[Vc]();if(xe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Kp(n))return function zE(n){return new Ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Qp(n))return function GE(n){return new Ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Bp)})}(n);if(Zp(n))return rg(n);if(eg(n))return function qE(n){return new Ce(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ng(n))return function WE(n){return rg(tg(n))}(n)}throw Jp(n)}function rg(n){return new Ce(e=>{(function KE(n,e){var t,r,i,o;return function LE(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=$E(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Un(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function nt(n,e,t=1/0){return xe(e)?nt((r,i)=>ce((o,s)=>e(r,o,i,s))(an(n(r,i))),t):("number"==typeof e&&(t=e),Je((r,i)=>function QE(n,e,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{o&&e.next(m),c++;let _=!1;an(t(m,u++)).subscribe(We(e,E=>{i?.(E),o?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const E=l.shift();s?Un(e,s,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return n.subscribe(We(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function hi(n=1/0){return nt(Vr,n)}const jn=new Ce(n=>n.complete());function $c(n){return n[n.length-1]}function ig(n){return xe($c(n))?n.pop():void 0}function _o(n){return function ZE(n){return n&&xe(n.schedule)}($c(n))?n.pop():void 0}function og(n,e=0){return Je((t,r)=>{t.subscribe(We(r,i=>Un(r,n,()=>r.next(i),e),()=>Un(r,n,()=>r.complete(),e),i=>Un(r,n,()=>r.error(i),e)))})}function sg(n,e=0){return Je((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ag(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ce(t=>{Un(t,e,()=>{const r=n[Symbol.asyncIterator]();Un(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ve(n,e){return e?function iS(n,e){if(null!=n){if(Yp(n))return function XE(n,e){return an(n).pipe(sg(e),og(e))}(n,e);if(Kp(n))return function tS(n,e){return new Ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Qp(n))return function eS(n,e){return an(n).pipe(sg(e),og(e))}(n,e);if(Zp(n))return ag(n,e);if(eg(n))return function nS(n,e){return new Ce(t=>{let r;return Un(t,e,()=>{r=n[Xp](),Un(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(n,e);if(ng(n))return function rS(n,e){return ag(tg(n),e)}(n,e)}throw Jp(n)}(n,e):an(n)}function lg(n={}){const{connector:e=(()=>new En),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return Je((m,_)=>{c++,!d&&!u&&h();const E=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=Uc(p,i))}),E.subscribe(_),!s&&c>0&&(s=new yo({next:I=>E.next(I),error:I=>{d=!0,h(),a=Uc(f,t,I),E.error(I)},complete:()=>{u=!0,h(),a=Uc(f,r),E.complete()}}),an(m).subscribe(s))})(o)}}function Uc(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new yo({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function me(n){for(let e in n)if(n[e]===me)return e;throw Error("Could not find renamed property on target object.")}function jc(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Hc(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const sS=me({__forward_ref__:me});function be(n){return n.__forward_ref__=be,n.toString=function(){return ye(this())},n}function G(n){return zc(n)?n():n}function zc(n){return"function"==typeof n&&n.hasOwnProperty(sS)&&n.__forward_ref__===be}class S extends Error{constructor(e,t){super(function Qs(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Y(n){return"string"==typeof n?n:null==n?"":String(n)}function Ys(n,e){throw new S(-201,!1)}function Ft(n,e){null==n&&function fe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zs(n){return cg(n,Js)||cg(n,dg)}function cg(n,e){return n.hasOwnProperty(e)?n[e]:null}function ug(n){return n&&(n.hasOwnProperty(Gc)||n.hasOwnProperty(gS))?n[Gc]:null}const Js=me({\u0275prov:me}),Gc=me({\u0275inj:me}),dg=me({ngInjectableDef:me}),gS=me({ngInjectorDef:me});var j=(()=>((j=j||{})[j.Default=0]="Default",j[j.Host=1]="Host",j[j.Self=2]="Self",j[j.SkipSelf=4]="SkipSelf",j[j.Optional=8]="Optional",j))();let qc;function Kt(n){const e=qc;return qc=n,e}function hg(n,e,t){const r=Zs(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&j.Optional?null:void 0!==e?e:void Ys(ye(n))}function dr(n){return{toString:n}.toString()}var ln=(()=>((ln=ln||{})[ln.OnPush=0]="OnPush",ln[ln.Default=1]="Default",ln))(),cn=(()=>{return(n=cn||(cn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",cn;var n})();const _e=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fi={},he=[],Xs=me({\u0275cmp:me}),Wc=me({\u0275dir:me}),Kc=me({\u0275pipe:me}),fg=me({\u0275mod:me}),zn=me({\u0275fac:me}),vo=me({__NG_ELEMENT_ID__:me});let yS=0;function Gn(n){return dr(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ln.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||he,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||cn.Emulated,id:"c"+yS++,styles:n.styles||he,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=mg(n.inputs,r),i.outputs=mg(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(pg).filter(gg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(yt).filter(gg):null,i})}function pg(n){return pe(n)||mt(n)}function gg(n){return null!==n}function Lt(n){return dr(()=>({type:n.type,bootstrap:n.bootstrap||he,declarations:n.declarations||he,imports:n.imports||he,exports:n.exports||he,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mg(n,e){if(null==n)return fi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const q=Gn;function pe(n){return n[Xs]||null}function mt(n){return n[Wc]||null}function yt(n){return n[Kc]||null}function Vt(n,e){const t=n[fg]||null;if(!t&&!0===e)throw new Error(`Type ${ye(n)} does not have '\u0275mod' property.`);return t}function At(n){return Array.isArray(n)&&"object"==typeof n[1]}function dn(n){return Array.isArray(n)&&!0===n[1]}function Zc(n){return 0!=(8&n.flags)}function ra(n){return 2==(2&n.flags)}function ia(n){return 1==(1&n.flags)}function hn(n){return null!==n.template}function DS(n){return 0!=(256&n[2])}function zr(n,e){return n.hasOwnProperty(zn)?n[zn]:null}class MS{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $t(){return vg}function vg(n){return n.type.prototype.ngOnChanges&&(n.setInput=IS),TS}function TS(){const n=Cg(this),e=n?.current;if(e){const t=n.previous;if(t===fi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function IS(n,e,t,r){const i=Cg(n)||function AS(n,e){return n[wg]=e}(n,{previous:fi,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new MS(l&&l.currentValue,e,s===fi),n[r]=e}$t.ngInherit=!0;const wg="__ngSimpleChanges__";function Cg(n){return n[wg]||null}function Be(n){for(;Array.isArray(n);)n=n[0];return n}function oa(n,e){return Be(e[n])}function Zt(n,e){return Be(e[n.index])}function nu(n,e){return n.data[e]}function Ut(n,e){const t=e[n];return At(t)?t:t[0]}function sa(n){return 64==(64&n[2])}function hr(n,e){return null==e?null:n[e]}function bg(n){n[18]=0}function ru(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Q={lFrame:Ng(null),bindingsEnabled:!0};function Eg(){return Q.bindingsEnabled}function T(){return Q.lFrame.lView}function ue(){return Q.lFrame.tView}function W(n){return Q.lFrame.contextLView=n,n[8]}function K(n){return Q.lFrame.contextLView=null,n}function Ke(){let n=Sg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Sg(){return Q.lFrame.currentTNode}function Sn(n,e){const t=Q.lFrame;t.currentTNode=n,t.isParent=e}function iu(){return Q.lFrame.isParent}function vi(){return Q.lFrame.bindingIndex++}function Wn(n){const e=Q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zS(n,e){const t=Q.lFrame;t.bindingIndex=t.bindingRootIndex=n,su(e)}function su(n){Q.lFrame.currentDirectiveIndex=n}function Ag(){return Q.lFrame.currentQueryIndex}function lu(n){Q.lFrame.currentQueryIndex=n}function qS(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function xg(n,e,t){if(t&j.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&j.Host||(i=qS(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Q.lFrame=kg();return r.currentTNode=e,r.lView=n,!0}function cu(n){const e=kg(),t=n[1];Q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function kg(){const n=Q.lFrame,e=null===n?null:n.child;return null===e?Ng(n):e}function Ng(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Pg(){const n=Q.lFrame;return Q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Rg=Pg;function uu(){const n=Pg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vt(){return Q.lFrame.selectedIndex}function fr(n){Q.lFrame.selectedIndex=n}function Pe(){const n=Q.lFrame;return nu(n.tView,n.selectedIndex)}function aa(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function la(n,e,t){Og(n,e,3,t)}function ca(n,e,t,r){(3&n[2])===t&&Og(n,e,t,r)}function du(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Og(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(t1(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function t1(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class So{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function ua(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Lg(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Fg(n){return 3===n||4===n||6===n}function Lg(n){return 64===n.charCodeAt(0)}function da(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Vg(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Vg(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Bg(n){return-1!==n}function wi(n){return 32767&n}function Ci(n,e){let t=function s1(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let fu=!0;function ha(n){const e=fu;return fu=n,e}let a1=0;const Mn={};function To(n,e){const t=gu(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,pu(r.data,n),pu(e,null),pu(r.blueprint,null));const i=fa(n,e),o=n.injectorIndex;if(Bg(i)){const s=wi(i),a=Ci(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function pu(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gu(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function fa(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Kg(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function pa(n,e,t){!function l1(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(vo)&&(r=t[vo]),null==r&&(r=t[vo]=a1++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function jg(n,e,t){if(t&j.Optional||void 0!==n)return n;Ys()}function Hg(n,e,t,r){if(t&j.Optional&&void 0===r&&(r=null),0==(t&(j.Self|j.Host))){const i=n[9],o=Kt(void 0);try{return i?i.get(e,r,t&j.Optional):hg(e,r,t&j.Optional)}finally{Kt(o)}}return jg(r,0,t)}function zg(n,e,t,r=j.Default,i){if(null!==n){if(1024&e[2]){const s=function f1(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Gg(o,s,t,r|j.Self,Mn);if(a!==Mn)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(t,Mn,r);if(u!==Mn)return u}l=Kg(s),s=s[15]}o=l}return i}(n,e,t,r,Mn);if(s!==Mn)return s}const o=Gg(n,e,t,r,Mn);if(o!==Mn)return o}return Hg(e,t,r,i)}function Gg(n,e,t,r,i){const o=function d1(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(vo)?n[vo]:void 0;return"number"==typeof e?e>=0?255&e:h1:e}(t);if("function"==typeof o){if(!xg(e,n,r))return r&j.Host?jg(i,0,r):Hg(e,t,r,i);try{const s=o(r);if(null!=s||r&j.Optional)return s;Ys()}finally{Rg()}}else if("number"==typeof o){let s=null,a=gu(n,e),l=-1,c=r&j.Host?e[16][6]:null;for((-1===a||r&j.SkipSelf)&&(l=-1===a?fa(n,e):e[a+8],-1!==l&&Wg(r,!1)?(s=e[1],a=wi(l),e=Ci(l,e)):a=-1);-1!==a;){const u=e[1];if(qg(o,a,u.data)){const d=u1(a,e,t,s,r,c);if(d!==Mn)return d}l=e[a+8],-1!==l&&Wg(r,e[1].data[a+8]===c)&&qg(o,a,e)?(s=u,a=wi(l),e=Ci(l,e)):a=-1}}return i}function u1(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],u=ga(a,s,t,null==r?ra(a)&&fu:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?Io(e,s,u,a):Mn}function ga(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=s[l];if(f&&hn(f)&&f.type===t)return l}return null}function Io(n,e,t,r){let i=n[t];const o=e.data;if(function n1(n){return n instanceof So}(i)){const s=i;s.resolving&&function aS(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${t}`)}(function de(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Y(n)}(o[t]));const a=ha(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Kt(s.injectImpl):null;xg(n,r,j.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function e1(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=vg(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&Kt(l),ha(a),s.resolving=!1,Rg()}}return i}function qg(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Wg(n,e){return!(n&j.Self||n&j.Host&&e)}class bi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return zg(this._tNode,this._lView,e,r,t)}}function h1(){return new bi(Ke(),T())}function at(n){return dr(()=>{const e=n.prototype.constructor,t=e[zn]||mu(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[zn]||mu(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mu(n){return zc(n)?()=>{const e=mu(G(n));return e&&e()}:zr(n)}function Kg(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const Ei="__parameters__";function Mi(n,e,t){return dr(()=>{const r=function yu(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Ei)?l[Ei]:Object.defineProperty(l,Ei,{value:[]})[Ei];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ${constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jt(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),jt(r,e)):e!==n&&e.push(r)}return e}function Kn(n,e){n.forEach(t=>Array.isArray(t)?Kn(t,e):e(t))}function Yg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ma(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ht(n,e,t){let r=Ti(n,e);return r>=0?n[1|r]=t:(r=~r,function y1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function vu(n,e){const t=Ti(n,e);if(t>=0)return n[1|t]}function Ti(n,e){return function Xg(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Po={},Cu="__NG_DI_FLAG__",_a="ngTempTokenPath",S1=/\n/gm,em="__source";let Ro;function Ii(n){const e=Ro;return Ro=n,e}function T1(n,e=j.Default){if(void 0===Ro)throw new S(-203,!1);return null===Ro?hg(n,void 0,e):Ro.get(n,e&j.Optional?null:void 0,e)}function O(n,e=j.Default){return(function mS(){return qc}()||T1)(G(n),e)}function Oe(n,e=j.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),O(n,e)}function bu(n){const e=[];for(let t=0;t<n.length;t++){const r=G(n[t]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,o=j.Default;for(let s=0;s<r.length;s++){const a=r[s],l=I1(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(O(i,o))}else e.push(O(r))}return e}function Oo(n,e){return n[Cu]=e,n.prototype[Cu]=e,n}function I1(n){return n[Cu]}const Fo=Oo(Mi("Optional"),8),Lo=Oo(Mi("SkipSelf"),4);let Eu;class fm{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function gr(n){return n instanceof fm?n.changingThisBreaksApplicationSecurity:n}const J1=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var $e=(()=>(($e=$e||{})[$e.NONE=0]="NONE",$e[$e.HTML=1]="HTML",$e[$e.STYLE=2]="STYLE",$e[$e.SCRIPT=3]="SCRIPT",$e[$e.URL=4]="URL",$e[$e.RESOURCE_URL=5]="RESOURCE_URL",$e))();function ki(n){const e=function jo(){const n=T();return n&&n[12]}();return e?e.sanitize($e.URL,n)||"":function $o(n,e){const t=function K1(n){return n instanceof fm&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?gr(n):function Tu(n){return(n=String(n)).match(J1)?n:"unsafe:"+n}(Y(n))}const ku=new $("ENVIRONMENT_INITIALIZER"),Cm=new $("INJECTOR",-1),bm=new $("INJECTOR_DEF_TYPES");class Dm{get(e,t=Po){if(t===Po){const r=new Error(`NullInjectorError: No provider for ${ye(e)}!`);throw r.name="NullInjectorError",r}return t}}function hM(...n){return{\u0275providers:Em(0,n)}}function Em(n,...e){const t=[],r=new Set;let i;return Kn(e,o=>{const s=o;Nu(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&Sm(i,t),t}function Sm(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Kn(i,o=>{e.push(o)})}}function Nu(n,e,t,r){if(!(n=G(n)))return!1;let i=null,o=ug(n);const s=!o&&pe(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=ug(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Nu(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Kn(o.imports,u=>{Nu(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Sm(c,e)}if(!a){const c=zr(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:he},{provide:bm,useValue:i,multi:!0},{provide:ku,useValue:()=>O(i),multi:!0})}const l=o.providers;null==l||a||Kn(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}const fM=me({provide:String,useValue:me});function Pu(n){return null!==n&&"object"==typeof n&&fM in n}function Gr(n){return"function"==typeof n}const Ru=new $("Set Injector scope."),Ea={},gM={};let Ou;function Sa(){return void 0===Ou&&(Ou=new Dm),Ou}class mr{}class Im extends mr{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lu(e,s=>this.processProvider(s)),this.records.set(Cm,Ni(void 0,this)),i.has("environment")&&this.records.set(mr,Ni(void 0,this));const o=this.records.get(Ru);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bm.multi,he,j.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ii(this),r=Kt(void 0);try{return e()}finally{Ii(t),Kt(r)}}get(e,t=Po,r=j.Default){this.assertNotDestroyed();const i=Ii(this),o=Kt(void 0);try{if(!(r&j.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function wM(n){return"function"==typeof n||"object"==typeof n&&n instanceof $}(e)&&Zs(e);a=l&&this.injectableDefInScope(l)?Ni(Fu(e),Ea):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&j.Self?Sa():this.parent).get(e,t=r&j.Optional&&t===Po?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[_a]=s[_a]||[]).unshift(ye(e)),i)throw s;return function A1(n,e,t,r){const i=n[_a];throw e[em]&&i.unshift(e[em]),n.message=function x1(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ye(e);if(Array.isArray(e))i=e.map(ye).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ye(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(S1,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[_a]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Kt(o),Ii(i)}}resolveInjectorInitializers(){const e=Ii(this),t=Kt(void 0);try{const r=this.get(ku.multi,he,j.Self);for(const i of r)i()}finally{Ii(e),Kt(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ye(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let t=Gr(e=G(e))?e:G(e&&e.provide);const r=function yM(n){return Pu(n)?Ni(void 0,n.useValue):Ni(Am(n),Ea)}(e);if(Gr(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ni(void 0,Ea,!0),i.factory=()=>bu(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Ea&&(t.value=gM,t.value=t.factory()),"object"==typeof t.value&&t.value&&function vM(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=G(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Fu(n){const e=Zs(n),t=null!==e?e.factory:zr(n);if(null!==t)return t;if(n instanceof $)throw new S(204,!1);if(n instanceof Function)return function mM(n){const e=n.length;if(e>0)throw function No(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new S(204,!1);const t=function fS(n){const e=n&&(n[Js]||n[dg]);if(e){const t=function pS(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new S(204,!1)}function Am(n,e,t){let r;if(Gr(n)){const i=G(n);return zr(i)||Fu(i)}if(Pu(n))r=()=>G(n.useValue);else if(function Tm(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...bu(n.deps||[]));else if(function Mm(n){return!(!n||!n.useExisting)}(n))r=()=>O(G(n.useExisting));else{const i=G(n&&(n.useClass||n.provide));if(!function _M(n){return!!n.deps}(n))return zr(i)||Fu(i);r=()=>new i(...bu(n.deps))}return r}function Ni(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function CM(n){return!!n.\u0275providers}function Lu(n,e){for(const t of n)Array.isArray(t)?Lu(t,e):CM(t)?Lu(t.\u0275providers,e):e(t)}class xm{}class EM{resolveComponentFactory(e){throw function DM(n){const e=Error(`No component factory found for ${ye(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ho=(()=>{class n{}return n.NULL=new EM,n})();function SM(){return Pi(Ke(),T())}function Pi(n,e){return new zt(Zt(n,e))}let zt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=SM,n})();function MM(n){return n instanceof zt?n.nativeElement:n}class zo{}let Yn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function TM(){const n=T(),t=Ut(Ke().index,n);return(At(t)?t:n)[11]}(),n})(),IM=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class Go{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AM=new Go("14.2.2"),Vu={};function Hu(n){return n.ngOriginalError}class Ri{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Hu(e);for(;t&&Hu(t);)t=Hu(t);return t||null}}const zu=new Map;let UM=0;const qu="__ngContext__";function lt(n,e){At(e)?(n[qu]=e[20],function HM(n){zu.set(n[20],n)}(e)):n[qu]=e}function Hm(n){return n.ownerDocument.defaultView}function Wu(n){return n.ownerDocument}function Zn(n){return n instanceof Function?n():n}var xt=(()=>((xt=xt||{})[xt.Important=1]="Important",xt[xt.DashCase=2]="DashCase",xt))();function Qu(n,e){return undefined(n,e)}function Wo(n){const e=n[3];return dn(e)?e[3]:e}function Yu(n){return qm(n[13])}function Zu(n){return qm(n[4])}function qm(n){for(;null!==n&&!dn(n);)n=n[4];return n}function Fi(n,e,t,r,i){if(null!=r){let o,s=!1;dn(r)?o=r:At(r)&&(s=!0,r=r[0]);const a=Be(r);0===n&&null!==t?null==i?Jm(e,t,a):qr(e,t,a,i||null,!0):1===n&&null!==t?qr(e,t,a,i||null,!0):2===n?function oy(n,e,t){const r=Ma(n,e);r&&function pT(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function yT(n,e,t,r,i){const o=t[7];o!==Be(t)&&Fi(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];Ko(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function Xu(n,e,t){return n.createElement(e,t)}function Km(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,ru(i,-1)),t.splice(r,1)}function ed(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Km(i,r),e>0&&(n[t-1][4]=r[4]);const o=ma(n,10+e);!function sT(n,e){Ko(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Qm(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Ko(n,e,t,3,null,null),function cT(n){let e=n[13];if(!e)return td(n[1],n);for(;e;){let t=null;if(At(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)At(e)&&td(e[1],e),e=e[3];null===e&&(e=n),At(e)&&td(e[1],e),t=e&&e[4]}e=t}}(e)}}function td(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function fT(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof So)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function hT(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):Be(e[s]),l=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&dn(e[3])){t!==e[3]&&Km(t,e);const r=e[19];null!==r&&r.detachView(n)}!function zM(n){zu.delete(n[20])}(e)}}function Ym(n,e,t){return function Zm(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===cn.None||i===cn.Emulated)return null}return Zt(r,t)}(n,e.parent,t)}function qr(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Jm(n,e,t){n.appendChild(e,t)}function Xm(n,e,t,r,i){null!==r?qr(n,e,t,r,i):Jm(n,e,t)}function Ma(n,e){return n.parentNode(e)}let ny=function ty(n,e,t){return 40&n.type?Zt(n,t):null};function Ta(n,e,t,r){const i=Ym(n,r,e),o=e[11],a=function ey(n,e,t){return ny(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Xm(o,i,t[l],a,!1);else Xm(o,i,t,a,!1)}function Ia(n,e){if(null!==e){const t=e.type;if(3&t)return Zt(e,n);if(4&t)return rd(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ia(n,r);{const i=n[e.index];return dn(i)?rd(-1,i):Be(i)}}if(32&t)return Qu(e,n)()||Be(n[e.index]);{const r=iy(n,e);return null!==r?Array.isArray(r)?r[0]:Ia(Wo(n[16]),r):Ia(n,e.next)}}return null}function iy(n,e){return null!==e?n[16][6].projection[e.projection]:null}function rd(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Ia(r,i)}return e[7]}function id(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&lt(Be(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)id(n,e,t.child,r,i,o,!1),Fi(e,n,i,a,o);else if(32&l){const c=Qu(t,r);let u;for(;u=c();)Fi(e,n,i,u,o);Fi(e,n,i,a,o)}else 16&l?sy(n,e,r,t,i,o):Fi(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Ko(n,e,t,r,i,o){id(t,r,n.firstChild,e,i,o,!1)}function sy(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Fi(e,n,i,l[c],o);else id(n,e,l,s[3],i,o,!0)}function ay(n,e,t){n.setAttribute(e,"style",t)}function od(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ly(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const cy="ng-template";function vT(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==ly(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function uy(n){return 4===n.type&&n.value!==cy}function wT(n,e,t){return e===(4!==n.type||t?n.value:cy)}function CT(n,e,t){let r=4;const i=n.attrs||[],o=function ET(n){for(let e=0;e<n.length;e++)if(Fg(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!wT(n,l,t)||""===l&&1===e.length){if(fn(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!vT(n.attrs,c,t)){if(fn(r))return!1;s=!0}continue}const d=bT(8&r?"class":l,i,uy(n),t);if(-1===d){if(fn(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==ly(f,c,0)||2&r&&c!==h){if(fn(r))return!1;s=!0}}}}else{if(!s&&!fn(r)&&!fn(l))return!1;if(s&&fn(l))continue;s=!1,r=l|1&r}}return fn(r)||s}function fn(n){return 0==(1&n)}function bT(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ST(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function dy(n,e,t=!1){for(let r=0;r<e.length;r++)if(CT(n,e[r],t))return!0;return!1}function hy(n,e){return n?":not("+e.trim()+")":e}function TT(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!fn(s)&&(e+=hy(o,i),i=""),r=s,o=o||!fn(r);t++}return""!==i&&(e+=hy(o,i)),e}const Z={};function w(n){fy(ue(),T(),vt()+n,!1)}function fy(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&la(e,o,t)}else{const o=n.preOrderHooks;null!==o&&ca(e,o,0,t)}fr(t)}function yy(n,e=null,t=null,r){const i=_y(n,e,t,r);return i.resolveInjectorInitializers(),i}function _y(n,e=null,t=null,r,i=new Set){const o=[t||he,hM(n)];return r=r||("object"==typeof n?void 0:ye(n)),new Im(o,e||Sa(),r||null,i)}let Jt=(()=>{class n{static create(t,r){if(Array.isArray(t))return yy({name:""},r,t,"");{const i=t.name??"";return yy({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Po,n.NULL=new Dm,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>O(Cm)}),n.__NG_ELEMENT_ID__=-1,n})();function M(n,e=j.Default){const t=T();return null===t?O(n,e):zg(Ke(),t,G(n),e)}function ud(){throw new Error("invalid")}function xa(n,e){return n<<17|e<<2}function pn(n){return n>>17&32767}function dd(n){return 2|n}function Jn(n){return(131068&n)>>2}function hd(n,e){return-131069&n|e<<2}function fd(n){return 1|n}function Oy(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];lu(i),s.contentQueries(2,e[o],o)}}}function Pa(n,e,t,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),bg(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function jM(){return UM++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Vi(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Cd(n,e,t,r,i){const o=Sg(),s=iu(),l=n.data[e]=function cI(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),function HS(){return Q.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Eo(){const n=Q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Sn(o,!0),o}function Bi(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function bd(n,e,t){cu(e);try{const r=n.viewQuery;null!==r&&xd(1,r,t);const i=n.template;null!==i&&Fy(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Oy(n,e),n.staticViewQueries&&xd(2,n.viewQuery,t);const o=n.components;null!==o&&function sI(n,e){for(let t=0;t<e.length;t++)SI(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,uu()}}function Ra(n,e,t,r){const i=e[2];if(128!=(128&i)){cu(e);try{bg(e),function Tg(n){return Q.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Fy(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&la(e,c,null)}else{const c=n.preOrderHooks;null!==c&&ca(e,c,0,null),du(e,0)}if(function DI(n){for(let e=Yu(n);null!==e;e=Zu(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&ru(o,1),i[2]|=512}}}(e),function bI(n){for(let e=Yu(n);null!==e;e=Zu(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];sa(r)&&Ra(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Oy(n,e),s){const c=n.contentCheckHooks;null!==c&&la(e,c)}else{const c=n.contentHooks;null!==c&&ca(e,c,1),du(e,1)}!function iI(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)fr(~i);else{const o=i,s=t[++r],a=t[++r];zS(s,o),a(2,e[o])}}}finally{fr(-1)}}(n,e);const a=n.components;null!==a&&function oI(n,e){for(let t=0;t<e.length;t++)EI(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&xd(2,l,r),s){const c=n.viewCheckHooks;null!==c&&la(e,c)}else{const c=n.viewHooks;null!==c&&ca(e,c,2),du(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,ru(e[3],-1))}finally{uu()}}}function Fy(n,e,t,r,i){const o=vt(),s=2&r;try{fr(-1),s&&e.length>22&&fy(n,e,22,!1),t(r,i)}finally{fr(o)}}function Dd(n,e,t){!Eg()||(function pI(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||To(t,e),lt(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=hn(l);c&&vI(e,t,l);const u=Io(e,n,a,t);lt(u,e),null!==s&&wI(0,a-i,u,l,0,s),c&&(Ut(t.index,e)[8]=u)}}(n,e,t,Zt(t,e)),128==(128&t.flags)&&function gI(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function GS(){return Q.lFrame.currentDirectiveIndex}();try{fr(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];su(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&zy(l,c)}}finally{fr(-1),su(s)}}(n,e,t))}function Ed(n,e,t=Zt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function Vy(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Sd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Sd(n,e,t,r,i,o,s,a,l,c){const u=22+r,d=u+i,h=function aI(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Z);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function By(n,e,t,r){const i=Qy(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Yy(n).push(r,i.length-1))}function $y(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Uy(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===o||uy(e)?null:CI(d,o);s.push(h),a=$y(d,c,a),l=$y(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}function Gt(n,e,t,r,i,o,s,a){const l=Zt(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(kd(n,t,u,r,i),ra(e)&&jy(t,e.index)):3&e.type&&(r=function uI(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function jy(n,e){const t=Ut(e,n);16&t[2]||(t[2]|=32)}function Md(n,e,t,r){let i=!1;if(Eg()){const o=function mI(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];dy(t,s.selectors,!1)&&(i||(i=[]),pa(To(t,e),n,s.type),hn(s)?(Gy(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,qy(t,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Bi(n,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];t.mergedAttrs=da(t.mergedAttrs,d.hostAttrs),Wy(n,t,e,c,d),_I(c,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}Uy(n,t)}s&&function yI(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new S(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=da(t.mergedAttrs,t.attrs),i}function Hy(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function fI(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function zy(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Gy(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function _I(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hn(e)&&(t[""]=n)}}function qy(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Wy(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=zr(i.type)),s=new So(o,hn(i),M);n.blueprint[r]=s,t[r]=s,Hy(n,e,0,r,Bi(n,t,i.hostVars,Z),i)}function vI(n,e,t){const r=Zt(e,n),i=Vy(t),o=n[10],s=Oa(n,Pa(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function Tn(n,e,t,r,i,o){const s=Zt(n,e);!function Td(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Y(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function wI(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function CI(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Ky(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function EI(n,e){const t=Ut(e,n);if(sa(t)){const r=t[1];48&t[2]?Ra(r,t,r.template,t[8]):t[5]>0&&Id(t)}}function Id(n){for(let r=Yu(n);null!==r;r=Zu(r))for(let i=10;i<r.length;i++){const o=r[i];if(sa(o))if(512&o[2]){const s=o[1];Ra(s,o,s.template,o[8])}else o[5]>0&&Id(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ut(t[r],n);sa(i)&&i[5]>0&&Id(i)}}function SI(n,e){const t=Ut(e,n),r=t[1];(function MI(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),bd(r,t,t[8])}function Oa(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Ad(n){for(;n;){n[2]|=32;const e=Wo(n);if(DS(n)&&!e)return n;n=e}return null}function Fa(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{Ra(n,e,n.template,t)}catch(s){throw r&&Jy(e,s),s}finally{i.end&&i.end()}}function xd(n,e,t){lu(0),e(n,t)}function Qy(n){return n[7]||(n[7]=[])}function Yy(n){return n.cleanup||(n.cleanup=[])}function Jy(n,e){const t=n[9],r=t?t.get(Ri,null):null;r&&r.handleError(e)}function kd(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Xn(n,e,t){const r=oa(e,n);!function Wm(n,e,t){n.setValue(e,t)}(n[11],r,t)}function La(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Hc(i,a):2==o&&(r=Hc(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Va(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Be(o)),dn(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Va(l[1],l,c,r)}const s=t.type;if(8&s)Va(n,e,t.child,r);else if(32&s){const a=Qu(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=iy(e,t);if(Array.isArray(a))r.push(...a);else{const l=Wo(e[16]);Va(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Qo{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Va(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(dn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(ed(e,r),ma(t,r))}this._attachedToViewContainer=!1}Qm(this._lView[1],this._lView)}onDestroy(e){By(this._lView[1],this._lView,null,e)}markForCheck(){Ad(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Fa(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lT(n,e){Ko(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class TI extends Qo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Fa(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Nd extends Ho{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=pe(e);return new Yo(t,this.ngModule)}}function Xy(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class AI{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,Vu,r);return i!==Vu||t===Vu?i:this.parentInjector.get(e,t,r)}}class Yo extends xm{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function IT(n){return n.map(TT).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Xy(this.componentDef.inputs)}get outputs(){return Xy(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof mr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new AI(e,o):e,a=s.get(zo,null);if(null===a)throw new S(407,!1);const l=s.get(IM,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function lI(n,e,t){return n.selectRootElement(e,t===cn.ShadowDom)}(c,r,this.componentDef.encapsulation):Xu(a.createRenderer(null,this.componentDef),u,function II(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=Sd(0,null,null,1,0,null,null,null,null,null),p=Pa(null,f,null,h,null,null,a,c,l,s,null);let m,_;cu(p);try{const E=function NI(n,e,t,r,i,o){const s=t[1];t[22]=n;const l=Vi(s,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(La(l,c,!0),null!==n&&(ua(i,n,c),null!==l.classes&&od(i,n,l.classes),null!==l.styles&&ay(i,n,l.styles)));const u=r.createRenderer(n,e),d=Pa(t,Vy(e),null,e.onPush?32:16,t[22],l,r,u,o||null,null,null);return s.firstCreatePass&&(pa(To(l,t),s,e.type),Gy(s,l),qy(l,t.length,1)),Oa(t,d),t[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)ua(c,d,["ng-version",AM.full]);else{const{attrs:I,classes:b}=function AT(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!fn(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);I&&ua(c,d,I),b&&b.length>0&&od(c,d,b.join(" "))}if(_=nu(f,22),void 0!==t){const I=_.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const x=t[b];I.push(null!=x?Array.from(x):null)}}m=function PI(n,e,t,r){const i=t[1],o=function hI(n,e,t){const r=Ke();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Wy(n,r,e,Bi(n,e,1,null),t),Uy(n,r));const i=Io(e,n,r.directiveStart,r);lt(i,e);const o=Zt(r,e);return o&&lt(o,e),i}(i,t,e);if(n[8]=t[8]=o,null!==r)for(const a of r)a(o,e);if(e.contentQueries){const a=Ke();e.contentQueries(1,o,a.directiveStart)}const s=Ke();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fr(s.index),Hy(t[1],s,0,s.directiveStart,s.directiveEnd,e),zy(e,o)),o}(E,this.componentDef,p,[RI]),bd(f,p,null)}finally{uu()}return new kI(this.componentType,m,Pi(_,p),p,_)}}class kI extends class bM{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new TI(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;kd(o[1],o,i,e,t),jy(o,this._tNode.index)}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function RI(){const n=Ke();aa(T()[1],n)}function ge(n){let e=function e_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(hn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Pd(n.inputs),s.declaredInputs=Pd(n.declaredInputs),s.outputs=Pd(n.outputs);const a=i.hostBindings;a&&VI(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&FI(n,l),c&&LI(n,c),jc(n.inputs,i.inputs),jc(n.declaredInputs,i.declaredInputs),jc(n.outputs,i.outputs),hn(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ge&&(t=!1)}}e=Object.getPrototypeOf(e)}!function OI(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=da(i.hostAttrs,t=da(t,i.hostAttrs))}}(r)}function Pd(n){return n===fi?{}:n===he?[]:n}function FI(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function LI(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function VI(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Ba=null;function Wr(){if(!Ba){const n=_e.Symbol;if(n&&n.iterator)Ba=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ba=r)}}}return Ba}function Zo(n){return!!Rd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Wr()in n)}function Rd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ct(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function An(n,e,t,r){const i=T();return ct(i,vi(),e)&&(ue(),Tn(Pe(),i,n,e,t,r)),An}function Ui(n,e,t,r){return ct(n,vi(),t)?e+Y(t)+r:Z}function ji(n,e,t,r,i,o){const a=function Kr(n,e,t,r){const i=ct(n,e,t);return ct(n,e+1,r)||i}(n,function qn(){return Q.lFrame.bindingIndex}(),t,i);return Wn(2),a?e+Y(t)+r+Y(i)+o:Z}function A(n,e,t,r,i,o,s,a){const l=T(),c=ue(),u=n+22,d=c.firstCreatePass?function qI(n,e,t,r,i,o,s,a,l){const c=e.consts,u=Vi(e,n,4,s||null,hr(c,a));Md(e,t,u,hr(c,l)),aa(e,u);const d=u.tViews=Sd(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,o,s):c.data[u];Sn(d,!1);const h=l[11].createComment("");Ta(c,l,h,d),lt(h,l),Oa(l,l[u]=Ky(h,l,h,d)),ia(d)&&Dd(c,l,d),null!=s&&Ed(l,d,a)}function Od(n){return function _i(n,e){return n[e]}(function jS(){return Q.lFrame.contextLView}(),22+n)}function C(n,e,t){const r=T();return ct(r,vi(),e)&&Gt(ue(),Pe(),r,n,e,r[11],t,!1),C}function Fd(n,e,t,r,i){const s=i?"class":"style";kd(n,t,e.inputs[s],s,r)}function y(n,e,t,r){const i=T(),o=ue(),s=22+n,a=i[11],l=i[s]=Xu(a,e,function XS(){return Q.lFrame.currentNamespace}()),c=o.firstCreatePass?function KI(n,e,t,r,i,o,s){const a=e.consts,c=Vi(e,n,2,i,hr(a,o));return Md(e,t,c,hr(a,s)),null!==c.attrs&&La(c,c.attrs,!1),null!==c.mergedAttrs&&La(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];Sn(c,!0);const u=c.mergedAttrs;null!==u&&ua(a,l,u);const d=c.classes;null!==d&&od(a,l,d);const h=c.styles;return null!==h&&ay(a,l,h),64!=(64&c.flags)&&Ta(o,i,l,c),0===function LS(){return Q.lFrame.elementDepthCount}()&&lt(l,i),function VS(){Q.lFrame.elementDepthCount++}(),ia(c)&&(Dd(o,i,c),function Ly(n,e,t){if(Zc(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}(o,c,i)),null!==r&&Ed(i,c),y}function g(){let n=Ke();iu()?function ou(){Q.lFrame.isParent=!1}():(n=n.parent,Sn(n,!1));const e=n;!function BS(){Q.lFrame.elementDepthCount--}();const t=ue();return t.firstCreatePass&&(aa(t,n),Zc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function i1(n){return 0!=(16&n.flags)}(e)&&Fd(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function o1(n){return 0!=(32&n.flags)}(e)&&Fd(t,e,T(),e.stylesWithoutHost,!1),g}function F(n,e,t,r){return y(n,e,t,r),g(),F}function se(){return T()}function Xo(n){return!!n&&"function"==typeof n.then}const Bd=function d_(n){return!!n&&"function"==typeof n.subscribe};function N(n,e,t,r){const i=T(),o=ue(),s=Ke();return function f_(n,e,t,r,i,o,s,a){const l=ia(r),u=n.firstCreatePass&&Yy(n),d=e[8],h=Qy(e);let f=!0;if(3&r.type||a){const _=Zt(r,e),E=a?a(_):_,I=h.length,b=a?J=>a(Be(J[r.index])):r.index;let x=null;if(!a&&l&&(x=function YI(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,f=!1;else{o=g_(r,e,d,o,!1);const J=t.listen(E,i,o);h.push(o,J),u&&u.push(i,b,I,I+1)}}else o=g_(r,e,d,o,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let E=0;E<_;E+=2){const re=e[m[E]][m[E+1]].subscribe(o),Te=h.length;h.push(o,re),u&&u.push(i,r.index,Te,-(Te+1))}}}(o,i,i[11],s,n,e,0,r),N}function p_(n,e,t,r){try{return!1!==t(r)}catch(i){return Jy(n,i),!1}}function g_(n,e,t,r,i){return function o(s){if(s===Function)return r;Ad(2&n.flags?Ut(n.index,e):e);let l=p_(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=p_(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function D(n=1){return function WS(n){return(Q.lFrame.contextLView=function KS(n,e){for(;n>0;)e=e[15],n--;return e}(n,Q.lFrame.contextLView))[8]}(n)}function es(n,e,t){return $d(n,"",e,"",t),es}function $d(n,e,t,r,i){const o=T(),s=Ui(o,e,t,r);return s!==Z&&Gt(ue(),Pe(),o,n,s,o[11],i,!1),$d}function E_(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?pn(o):Jn(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];nA(n[a],e)&&(l=!0,n[a+1]=r?fd(u):dd(u)),a=r?pn(u):Jn(u)}l&&(n[t+1]=r?dd(o):fd(o))}function nA(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ti(n,e)>=0}function Ua(n,e){return function gn(n,e,t,r){const i=T(),o=ue(),s=Wn(2);o.firstUpdatePass&&function P_(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[vt()],s=function N_(n,e){return e>=n.expandoStartIndex}(n,t);(function L_(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function dA(n,e,t,r){const i=function au(n){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ts(t=Ud(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Ud(i,n,e,t,r),null===o){let l=function hA(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Jn(r))return n[pn(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Ud(null,n,e,l[1],r),l=ts(l,e.attrs,r),function fA(n,e,t,r){n[pn(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function pA(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ts(r,n[o].hostAttrs,t);return ts(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function eA(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=pn(s),l=Jn(s);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Ti(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=pn(n[a+1]);n[r+1]=xa(h,a),0!==h&&(n[h+1]=hd(n[h+1],r)),n[a+1]=function KT(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=xa(a,0),0!==a&&(n[a+1]=hd(n[a+1],r)),a=r;else n[r+1]=xa(l,0),0===a?a=r:n[l+1]=hd(n[l+1],r),l=r;c&&(n[r+1]=dd(n[r+1])),E_(n,u,r,!0),E_(n,u,r,!1),function tA(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ti(o,e)>=0&&(t[r+1]=fd(t[r+1]))}(e,u,n,r,o),s=xa(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Z&&ct(i,s,e)&&function O_(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];ja(function Ty(n){return 1==(1&n)}(c)?F_(l,e,t,i,Jn(c),s):void 0)||(ja(o)||function My(n){return 2==(2&n)}(c)&&(o=F_(l,null,t,i,a,s)),function _T(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:xt.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xt.Important),n.setStyle(t,r,i,o))}}(r,s,oa(vt(),t),i,o))}(o,o.data[vt()],i,i[11],n,i[s+1]=function yA(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ye(gr(n)))),n}(e,t),r,s)}(n,e,null,!0),Ua}function Ud(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=ts(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ts(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ht(n,s,!!t||e[++o]))}return void 0===n?null:n}function F_(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===Z&&(h=d?he:void 0);let f=d?vu(h,r):u===r?h:void 0;if(c&&!ja(f)&&(f=vu(l,r)),ja(f)&&(a=f,s))return a;const p=n[i+1];i=s?pn(p):Jn(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=vu(l,r))}return a}function ja(n){return void 0!==n}function v(n,e=""){const t=T(),r=ue(),i=n+22,o=r.firstCreatePass?Vi(r,i,1,e,null):r.data[i],s=t[i]=function Ju(n,e){return n.createText(e)}(t[11],e);Ta(r,t,s,o),Sn(o,!1)}function er(n){return Ue("",n,""),er}function Ue(n,e,t){const r=T(),i=Ui(r,n,e,t);return i!==Z&&Xn(r,vt(),i),Ue}function Yi(n,e,t,r,i){const o=T(),s=ji(o,n,e,t,r,i);return s!==Z&&Xn(o,vt(),s),Yi}const Ji="en-US";let iv=Ji;function zd(n,e,t,r,i){if(n=G(n),Array.isArray(n))for(let o=0;o<n.length;o++)zd(n[o],e,t,r,i);else{const o=ue(),s=T();let a=Gr(n)?n:G(n.provide),l=Am(n);const c=Ke(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Gr(n)||!n.multi){const f=new So(l,i,M),p=qd(a,e,i?u:u+h,d);-1===p?(pa(To(c,s),o,a),Gd(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=qd(a,e,u+h,d),p=qd(a,e,u,u+h),m=f>=0&&t[f],_=p>=0&&t[p];if(i&&!_||!i&&!m){pa(To(c,s),o,a);const E=function Ox(n,e,t,r,i){const o=new So(n,t,M);return o.multi=[],o.index=e,o.componentProviders=0,Av(o,i,r&&!t),o}(i?Rx:Px,t.length,i,r,l);!i&&_&&(t[p].providerFactory=E),Gd(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(E),s.push(E)}else Gd(o,n,f>-1?f:p,Av(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function Gd(n,e,t,r){const i=Gr(e),o=function pM(n){return!!n.useClass}(e);if(i||o){const l=(o?G(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function Av(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function qd(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Px(n,e,t,r){return Wd(this.multi,[])}function Rx(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Io(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),Wd(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Wd(i,o);return o}function Wd(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ae(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Nx(n,e,t){const r=ue();if(r.firstCreatePass){const i=hn(n);zd(t,r.data,r.blueprint,i,!0),zd(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Yr{}class xv{}class kv extends Yr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nd(this);const r=Vt(e);this._bootstrapComponents=Zn(r.bootstrap),this._r3Injector=_y(e,t,[{provide:Yr,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],ye(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Kd extends xv{constructor(e){super(),this.moduleType=e}create(e){return new kv(this.moduleType,e)}}class Lx extends Yr{constructor(e,t,r){super(),this.componentFactoryResolver=new Nd(this),this.instance=null;const i=new Im([...e,{provide:Yr,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],t||Sa(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Wa(n,e,t=null){return new Lx(n,e,t).injector}let Vx=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Em(0,t.type),i=r.length>0?Wa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(O(mr))}),n})();function Nv(n){n.getStandaloneInjector=e=>e.get(Vx).getOrCreateStandaloneInjector(n)}function Bv(n,e,t){const r=function _t(){const n=Q.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=T();return i[r]===Z?function In(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function Jo(n,e){return n[e]}(i,r)}function Yd(n){return e=>{setTimeout(n,void 0,e)}}const Se=class ck extends En{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Yd(o),i&&(i=Yd(i)),s&&(s=Yd(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof gt&&e.add(a),a}};function uk(){return this._results[Wr()]()}class Zd{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Wr(),r=Zd.prototype;r[t]||(r[t]=uk)}get changes(){return this._changes||(this._changes=new Se)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=jt(e);(this._changesDetected=!function g1(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let tr=(()=>{class n{}return n.__NG_ELEMENT_ID__=fk,n})();const dk=tr,hk=class extends dk{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Pa(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),bd(r,i,e),new Qo(i)}};function fk(){return Ka(Ke(),T())}function Ka(n,e){return 4&n.type?new hk(e,n,Pi(n,e)):null}let yn=(()=>{class n{}return n.__NG_ELEMENT_ID__=pk,n})();function pk(){return Wv(Ke(),T())}const gk=yn,Gv=class extends gk{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Pi(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const e=fa(this._hostTNode,this._hostLView);if(Bg(e)){const t=Ci(e,this._hostLView),r=wi(e);return new bi(t[1].data[r+8],t)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=qv(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function ko(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?e:new Yo(pe(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(mr,null);h&&(o=h)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function FS(n){return dn(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new Gv(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function uT(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],Yg(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function dT(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=rd(o,s),l=r[11],c=Ma(l,s[7]);return null!==c&&function aT(n,e,t,r,i,o){r[0]=i,r[6]=e,Ko(n,r,t,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),Yg(Jd(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=qv(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=ed(this._lContainer,t);r&&(ma(Jd(this._lContainer),t),Qm(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=ed(this._lContainer,t);return r&&null!=ma(Jd(this._lContainer),t)?new Qo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function qv(n){return n[8]}function Jd(n){return n[8]||(n[8]=[])}function Wv(n,e){let t;const r=e[n.index];if(dn(r))t=r;else{let i;if(8&n.type)i=Be(r);else{const o=e[11];i=o.createComment("");const s=Zt(n,e);qr(o,Ma(o,s),i,function gT(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=Ky(r,e,i,n),Oa(e,t)}return new Gv(t,n,e)}class Xd{constructor(e){this.queryList=e,this.matches=null}clone(){return new Xd(this.queryList)}setDirty(){this.queryList.setDirty()}}class eh{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new eh(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Xv(e,t).matches&&this.queries[t].setDirty()}}class Kv{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class th{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new th(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class nh{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new nh(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,_k(t,o)),this.matchTNodeWithReadOption(e,t,ga(t,e,o,!1,!1))}else r===tr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ga(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===zt||i===yn||i===tr&&4&t.type)this.addMatch(t.index,-2);else{const o=ga(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function _k(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function wk(n,e,t,r){return-1===t?function vk(n,e){return 11&n.type?Pi(n,e):4&n.type?Ka(n,e):null}(e,n):-2===t?function Ck(n,e,t){return t===zt?Pi(e,n):t===tr?Ka(e,n):t===yn?Wv(e,n):void 0}(n,e,r):Io(n,n[1],t,e)}function Qv(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:wk(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function rh(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=Qv(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&rh(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];rh(f[1],f,c,r)}}}}}return r}function Qa(n){const e=T(),t=ue(),r=Ag();lu(r+1);const i=Xv(t,r);if(n.dirty&&function OS(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?rh(t,e,r,[]):Qv(t,e,i,r);n.reset(o,MM),n.notifyOnChanges()}return!0}return!1}function Yv(n,e,t){const r=ue();r.firstCreatePass&&(function Jv(n,e,t){null===n.queries&&(n.queries=new th),n.queries.track(new nh(e,t))}(r,new Kv(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function Zv(n,e,t){const r=new Zd(4==(4&t));By(n,e,r,r.destroy),null===e[19]&&(e[19]=new eh),e[19].queries.push(new Xd(r))}(r,T(),e)}function Xv(n,e){return n.queries.getByIndex(e)}function Ja(...n){}const Xa=new $("Application Initializer");let el=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Ja,this.reject=Ja,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Xo(o))t.push(o);else if(Bd(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(O(Xa,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const us=new $("AppId",{providedIn:"root",factory:function _w(){return`${ch()}${ch()}${ch()}`}});function ch(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vw=new $("Platform Initializer"),ww=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Cw=new $("appBootstrapListener"),bw=new $("AnimationModuleType");let zk=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nr=new $("LocaleId",{providedIn:"root",factory:()=>Oe(nr,j.Optional|j.SkipSelf)||function Gk(){return typeof $localize<"u"&&$localize.locale||Ji}()});class Wk{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let uh=(()=>{class n{compileModuleSync(t){return new Kd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Zn(Vt(t).declarations).reduce((s,a)=>{const l=pe(a);return l&&s.push(new Yo(l)),s},[]);return new Wk(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yk=(()=>Promise.resolve(0))();function dh(n){typeof Zone>"u"?Yk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Zk(){let n=_e.requestAnimationFrame,e=_e.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function eN(n){const e=()=>{!function Xk(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_e,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fh(n),n.isCheckStableRunning=!0,hh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return Sw(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Mw(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return Sw(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Mw(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,fh(n),hh(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new S(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Jk,Ja,Ja);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Jk={};function hh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Sw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Mw(n){n._nesting--,hh(n)}class tN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Tw=new $(""),tl=new $("");let mh,ph=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mh||(function nN(n){mh=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),dh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dh(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(O(Fe),O(gh),O(tl))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),gh=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return mh?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vr=null;const Iw=new $("AllowMultipleToken"),yh=new $("PlatformDestroyListeners");class Aw{constructor(e,t){this.name=e,this.token=t}}function kw(n,e,t=[]){const r=`Platform: ${e}`,i=new $(r);return(o=[])=>{let s=_h();if(!s||s.injector.get(Iw,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function oN(n){if(vr&&!vr.get(Iw,!1))throw new S(400,!1);vr=n;const e=n.get(Pw);(function xw(n){const e=n.get(vw,null);e&&e.forEach(t=>t())})(n)}(function Nw(n=[],e){return Jt.create({name:e,providers:[{provide:Ru,useValue:"platform"},{provide:yh,useValue:new Set([()=>vr=null])},...n]})}(a,r))}return function aN(n){const e=_h();if(!e)throw new S(401,!1);return e}()}}function _h(){return vr?.get(Pw)??null}let Pw=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Ow(n,e){let t;return t="noop"===n?new tN:("zone.js"===n?void 0:n)||new Fe(e),t}(r?.ngZone,function Rw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Fe,useValue:i}];return i.run(()=>{const s=Jt.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(Ri,null);if(!l)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{nl(this._modules,a),c.unsubscribe()})}),function Fw(n,e,t){try{const r=t();return Xo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(el);return c.runInitializers(),c.donePromise.then(()=>(function ov(n){Ft(n,"Expected localeId to be defined"),"string"==typeof n&&(iv=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(nr,Ji)||Ji),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Lw({},r);return function rN(n,e,t){const r=new Kd(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(ds);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new S(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(yh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(O(Jt))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Lw(n,e){return Array.isArray(e)?e.reduce(Lw,n):{...n,...e}}let ds=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ce(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ce(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),dh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function oS(...n){const e=_o(n),t=function JE(n,e){return"number"==typeof $c(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?an(r[0]):hi(t)(Ve(r,e)):jn}(o,s.pipe(lg()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof xm;if(!this._injector.get(el).done)throw!i&&function pi(n){const e=pe(n)||mt(n)||yt(n);return null!==e&&e.standalone}(t),new S(405,false);let s;s=i?t:this._injector.get(Ho).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function iN(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Yr),c=s.create(Jt.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(Tw,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),nl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;nl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Cw,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>nl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(O(Fe),O(mr),O(Ri))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Bw=!0,rl=(()=>{class n{}return n.__NG_ELEMENT_ID__=uN,n})();function uN(n){return function dN(n,e,t){if(ra(n)&&!t){const r=Ut(n.index,e);return new Qo(r,r)}return 47&n.type?new Qo(e[16],e):null}(Ke(),T(),16==(16&n))}class zw{constructor(){}supports(e){return Zo(e)}create(e){return new yN(e)}}const mN=(n,e)=>e;class yN{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mN}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<qw(r,i,o)?t:r,a=qw(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Zo(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function HI(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Wr()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new _N(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Gw),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gw),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _N{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vN{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Gw{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new vN,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qw(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Ww{constructor(){}supports(e){return e instanceof Map||Rd(e)}create(){return new wN}}class wN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Rd(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new CN(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class CN{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kw(){return new sl([new zw])}let sl=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Kw()),deps:[[n,new Lo,new Fo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:Kw}),n})();function Qw(){return new hs([new Ww])}let hs=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Qw()),deps:[[n,new Lo,new Fo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new S(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:Qw}),n})();const EN=kw(null,"core",[]);let SN=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(O(ds))},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({}),n})();let al=null;function Nn(){return al}const ut=new $("DocumentToken");let Dh=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return function AN(){return O(Yw)}()},providedIn:"platform"}),n})();const xN=new $("Location Initialized");let Yw=(()=>{class n extends Dh{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(t){const r=Nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Zw()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Zw()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(O(ut))},n.\u0275prov=H({token:n,factory:function(){return function kN(){return new Yw(O(ut))}()},providedIn:"platform"}),n})();function Zw(){return!!window.history.pushState}function Eh(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Jw(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function or(n){return n&&"?"!==n[0]?"?"+n:n}let Jr=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return Oe(eC)},providedIn:"root"}),n})();const Xw=new $("appBaseHref");let eC=(()=>{class n extends Jr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Oe(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Eh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+or(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Dh),O(Xw,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NN=(()=>{class n extends Jr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Eh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Dh),O(Xw,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Sh=(()=>{class n{constructor(t){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Jw(tC(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+or(r))}normalize(t){return n.stripTrailingSlash(function RN(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,tC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+or(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+or(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=or,n.joinWithSlash=Eh,n.stripTrailingSlash=Jw,n.\u0275fac=function(t){return new(t||n)(O(Jr))},n.\u0275prov=H({token:n,factory:function(){return function PN(){return new Sh(O(Jr))}()},providedIn:"root"}),n})();function tC(n){return n.replace(/\/index.html$/,"")}let uC=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Zo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ye(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(M(sl),M(hs),M(zt),M(Yn))},n.\u0275dir=q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class vP{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oh=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new vP(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),fC(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{fC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(M(yn),M(tr),M(sl))},n.\u0275dir=q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fC(n,e){n.context.$implicit=e.item}let to=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new CP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(M(yn),M(tr))},n.\u0275dir=q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class CP{constructor(){this.$implicit=null,this.ngIf=null}}function pC(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ye(e)}'.`)}let KP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({}),n})();let JP=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new XP(O(ut),window)}),n})();class XP{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function eR(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_C(this.window.history)||_C(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _C(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jh extends class vR extends class IN{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function TN(n){al||(al=n)}(new jh)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wR(){return ms=ms||document.querySelector("base"),ms?ms.getAttribute("href"):null}();return null==t?null:function CR(n){_l=_l||document.createElement("a"),_l.setAttribute("href",n);const e=_l.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function yP(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let _l,ms=null;const bC=new $("TRANSITION_ID"),DR=[{provide:Xa,useFactory:function bR(n,e,t){return()=>{t.get(el).donePromise.then(()=>{const r=Nn(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[bC,ut,Jt],multi:!0}];let SR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const vl=new $("EventManagerPlugins");let wl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(O(vl),O(Fe))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class DC{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Nn().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let EC=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),ys=(()=>{class n extends EC{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(SC),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(SC))}}return n.\u0275fac=function(t){return new(t||n)(O(ut))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function SC(n){Nn().remove(n)}const Hh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zh=/%COMP%/g;function Cl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Cl(n,i,t):(i=i.replace(zh,n),t.push(i))}return t}function IC(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bl=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Gh(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case cn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new kR(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case cn.ShadowDom:return new NR(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Cl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(O(wl),O(ys),O(us))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class Gh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Hh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(xC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Hh[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Hh[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(xt.DashCase|xt.Important)?e.style.setProperty(t,r,i&xt.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&xt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,IC(r)):this.eventManager.addEventListener(e,t,IC(r))}}function xC(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class kR extends Gh{constructor(e,t,r,i){super(e),this.component=r;const o=Cl(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function IR(n){return"_ngcontent-%COMP%".replace(zh,n)}(i+"-"+r.id),this.hostAttr=function AR(n){return"_nghost-%COMP%".replace(zh,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class NR extends Gh{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Cl(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let PR=(()=>{class n extends DC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(O(ut))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const kC=["alt","control","meta","shift"],RR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let FR=(()=>{class n extends DC{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kC.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=RR[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kC.forEach(s=>{s!==i&&(0,OR[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(O(ut))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const $R=kw(EN,"browser",[{provide:ww,useValue:"browser"},{provide:vw,useValue:function LR(){jh.makeCurrent()},multi:!0},{provide:ut,useFactory:function BR(){return function $1(n){Eu=n}(document),document},deps:[]}]),RC=new $(""),OC=[{provide:tl,useClass:class ER{addToWindow(e){_e.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},_e.getAllAngularTestabilities=()=>e.getAllTestabilities(),_e.getAllAngularRootElements=()=>e.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Nn().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Tw,useClass:ph,deps:[Fe,gh,tl]},{provide:ph,useClass:ph,deps:[Fe,gh,tl]}],FC=[{provide:Ru,useValue:"root"},{provide:Ri,useFactory:function VR(){return new Ri},deps:[]},{provide:vl,useClass:PR,multi:!0,deps:[ut,Fe,ww]},{provide:vl,useClass:FR,multi:!0,deps:[ut]},{provide:bl,useClass:bl,deps:[wl,ys,us]},{provide:zo,useExisting:bl},{provide:EC,useExisting:ys},{provide:ys,useClass:ys,deps:[ut]},{provide:wl,useClass:wl,deps:[vl,Fe]},{provide:class tR{},useClass:SR,deps:[]},[]];let LC=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:us,useValue:t.appId},{provide:bC,useExisting:us},DR]}}}return n.\u0275fac=function(t){return new(t||n)(O(RC,12))},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({providers:[...FC,...OC],imports:[KP,SN]}),n})(),VC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(O(ut))},n.\u0275prov=H({token:n,factory:function(t){let r=null;return r=t?new t:function jR(){return new VC(O(ut))}(),r},providedIn:"root"}),n})();function B(...n){return Ve(n,_o(n))}typeof window<"u"&&window;class Cn extends En{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Dl=kc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:YR}=Array,{getPrototypeOf:ZR,prototype:JR,keys:XR}=Object;function UC(n){if(1===n.length){const e=n[0];if(YR(e))return{args:e,keys:null};if(function eO(n){return n&&"object"==typeof n&&ZR(n)===JR}(e)){const t=XR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:tO}=Array;function jC(n){return ce(e=>function nO(n,e){return tO(e)?n(...e):n(e)}(n,e))}function HC(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zC(...n){const e=_o(n),t=ig(n),{args:r,keys:i}=UC(n);if(0===r.length)return Ve([],e);const o=new Ce(function rO(n,e,t=Vr){return r=>{GC(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)GC(e,()=>{const c=Ve(n[l],e);let u=!1;c.subscribe(We(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>HC(i,s):Vr));return t?o.pipe(jC(t)):o}function GC(n,e,t){n?Un(t,n,e):e()}function Kh(...n){return function iO(){return hi(1)}()(Ve(n,_o(n)))}function qC(n){return new Ce(e=>{an(n()).subscribe(e)})}function _s(n,e){const t=xe(n)?n:()=>n,r=i=>i.error(t());return new Ce(e?i=>e.schedule(r,0,i):r)}function Qh(){return Je((n,e)=>{let t=null;n._refCount++;const r=We(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class WC extends Ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,zp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gt;const t=this.getSubject();e.add(this.source.subscribe(We(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gt.EMPTY)}return e}refCount(){return Qh()(this)}}function Pn(n,e){return Je((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(We(r,l=>{i?.unsubscribe();let c=0;const u=o++;an(n(l,u)).subscribe(i=We(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function vs(n){return n<=0?()=>jn:Je((e,t)=>{let r=0;e.subscribe(We(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Cr(n,e){return Je((t,r)=>{let i=0;t.subscribe(We(r,o=>n.call(e,o,i++)&&r.next(o)))})}function El(n){return Je((e,t)=>{let r=!1;e.subscribe(We(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function KC(n=sO){return Je((e,t)=>{let r=!1;e.subscribe(We(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function sO(){return new Dl}function br(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Cr((i,o)=>n(i,o,r)):Vr,vs(1),t?El(e):KC(()=>new Dl))}function Xr(n,e){return xe(e)?nt(n,e,1):nt(n,1)}function ht(n,e,t){const r=xe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Je((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(We(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Vr}function Dr(n){return Je((e,t)=>{let o,r=null,i=!1;r=e.subscribe(We(t,void 0,void 0,s=>{o=an(n(s,Dr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function aO(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(We(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function QC(n,e){return Je(aO(n,e,arguments.length>=2,!0))}function Yh(n){return n<=0?()=>jn:Je((e,t)=>{let r=[];e.subscribe(We(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function YC(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Cr((i,o)=>n(i,o,r)):Vr,Yh(1),t?El(e):KC(()=>new Dl))}function Zh(n){return Je((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ne="primary",ws=Symbol("RouteTitle");class uO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function no(n){return new uO(n)}function dO(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Rn(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ZC(n[i],e[i]))return!1;return!0}function ZC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function JC(n){return Array.prototype.concat.apply([],n)}function XC(n){return n.length>0?n[n.length-1]:null}function rt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Er(n){return Bd(n)?n:Xo(n)?Ve(Promise.resolve(n)):B(n)}const pO={exact:function nb(n,e,t){if(!ti(n.segments,e.segments)||!Sl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!nb(n.children[r],e.children[r],t))return!1;return!0},subset:rb},eb={exact:function gO(n,e){return Rn(n,e)},subset:function mO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZC(n[t],e[t]))},ignored:()=>!0};function tb(n,e,t){return pO[t.paths](n.root,e.root,t.matrixParams)&&eb[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function rb(n,e,t){return ib(n,e,e.segments,t)}function ib(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ti(i,t)||e.hasChildren()||!Sl(i,t,r))}if(n.segments.length===t.length){if(!ti(n.segments,t)||!Sl(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!rb(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ti(n.segments,i)&&Sl(n.segments,i,r)&&n.children[ne])&&ib(n.children[ne],e,o,r)}}function Sl(n,e,t){return e.every((r,i)=>eb[t](n[i].parameters,r.parameters))}class ei{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return vO.serialize(this)}}class ie{constructor(e,t){this.segments=e,this.children=t,this.parent=null,rt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ml(this)}}class Cs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=no(this.parameters)),this._parameterMap}toString(){return lb(this)}}function ti(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ob=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return new Xh},providedIn:"root"}),n})();class Xh{parse(e){const t=new IO(e);return new ei(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${bs(e.root,!0)}`,r=function bO(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Tl(t)}=${Tl(i)}`).join("&"):`${Tl(t)}=${Tl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function wO(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vO=new Xh;function Ml(n){return n.segments.map(e=>lb(e)).join("/")}function bs(n,e){if(!n.hasChildren())return Ml(n);if(e){const t=n.children[ne]?bs(n.children[ne],!1):"",r=[];return rt(n.children,(i,o)=>{o!==ne&&r.push(`${o}:${bs(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function _O(n,e){let t=[];return rt(n.children,(r,i)=>{i===ne&&(t=t.concat(e(r,i)))}),rt(n.children,(r,i)=>{i!==ne&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ne?[bs(n.children[ne],!1)]:[`${i}:${bs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ne]?`${Ml(n)}/${t[0]}`:`${Ml(n)}/(${t.join("//")})`}}function sb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(n){return sb(n).replace(/%3B/gi,";")}function ef(n){return sb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Il(n){return decodeURIComponent(n)}function ab(n){return Il(n.replace(/\+/g,"%20"))}function lb(n){return`${ef(n.path)}${function CO(n){return Object.keys(n).map(e=>`;${ef(e)}=${ef(n[e])}`).join("")}(n.parameters)}`}const DO=/^[^\/()?;=#]+/;function Al(n){const e=n.match(DO);return e?e[0]:""}const EO=/^[^=?&#]+/,MO=/^[^&#]+/;class IO{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new ie(e,t)),r}parseSegment(){const e=Al(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Cs(Il(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Al(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Al(this.remaining);i&&(r=i,this.capture(r))}e[Il(t)]=Il(r)}parseQueryParam(e){const t=function SO(n){const e=n.match(EO);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function TO(n){const e=n.match(MO);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=ab(t),o=ab(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Al(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ne]:new ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function tf(n){return n.segments.length>0?new ie([],{[ne]:n}):n}function xl(n){const e={};for(const r of Object.keys(n.children)){const o=xl(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function AO(n){if(1===n.numberOfChildren&&n.children[ne]){const e=n.children[ne];return new ie(n.segments.concat(e.segments),e.children)}return n}(new ie(n.segments,e))}function ni(n){return n instanceof ei}function NO(n,e,t,r,i){if(0===t.length)return ro(e.root,e.root,e.root,r,i);const o=function db(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ub(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return rt(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new ub(t,e,r)}(t);return o.toRoot()?ro(e.root,e.root,new ie([],{}),r,i):function s(l){const c=function RO(n,e,t,r){if(n.isAbsolute)return new io(e.root,!0,0);if(-1===r)return new io(t,t===e.root,0);return function hb(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new io(r,!1,i-o)}(t,r+(Ds(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?Ss(c.segmentGroup,c.index,o.commands):rf(c.segmentGroup,c.index,o.commands);return ro(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Ds(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Es(n){return"object"==typeof n&&null!=n&&n.outlets}function ro(n,e,t,r,i){let s,o={};r&&rt(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:cb(n,e,t);const a=tf(xl(s));return new ei(a,o,i)}function cb(n,e,t){const r={};return rt(n.children,(i,o)=>{r[o]=i===e?t:cb(i,e,t)}),new ie(n.segments,r)}class ub{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ds(r[0]))throw new S(4003,!1);const i=r.find(Es);if(i&&i!==XC(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class io{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function rf(n,e,t){if(n||(n=new ie([],{})),0===n.segments.length&&n.hasChildren())return Ss(n,e,t);const r=function FO(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Es(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!pb(l,c,s))return o;r+=2}else{if(!pb(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ie(n.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ie(n.segments.slice(r.pathIndex),n.children),Ss(o,0,i)}return r.match&&0===i.length?new ie(n.segments,{}):r.match&&!n.hasChildren()?sf(n,e,t):r.match?Ss(n,0,i):sf(n,e,t)}function Ss(n,e,t){if(0===t.length)return new ie(n.segments,{});{const r=function OO(n){return Es(n[0])?n[0].outlets:{[ne]:n}}(t),i={};return rt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=rf(n.children[s],e,o))}),rt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ie(n.segments,i)}}function sf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Es(o)){const l=LO(o.outlets);return new ie(r,l)}if(0===i&&Ds(t[0])){r.push(new Cs(n.segments[e].path,fb(t[0]))),i++;continue}const s=Es(o)?o.outlets[ne]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ds(a)?(r.push(new Cs(s,fb(a))),i+=2):(r.push(new Cs(s,{})),i++)}return new ie(r,{})}function LO(n){const e={};return rt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sf(new ie([],{}),0,t))}),e}function fb(n){const e={};return rt(n,(t,r)=>e[r]=`${t}`),e}function pb(n,e,t){return n==t.path&&Rn(e,t.parameters)}class ar{constructor(e,t){this.id=e,this.url=t}}class af extends ar{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends ar{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kl extends ar{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gb extends ar{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VO extends ar{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BO extends ar{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $O extends ar{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class UO extends ar{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jO extends ar{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HO{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zO{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GO{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qO{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WO{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KO{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mb{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cf(e,this._root).map(t=>t.value)}}function lf(n,e){if(n===e.value)return e;for(const t of e.children){const r=lf(n,t);if(r)return r}return null}function cf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cf(n,t);if(r.length)return r.unshift(e),r}return[]}class lr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function oo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _b extends yb{constructor(e,t){super(e),this.snapshot=t,uf(this,e)}toString(){return this.snapshot.toString()}}function vb(n,e){const t=function YO(n,e){const s=new Nl([],{},{},"",{},ne,e,null,n.root,-1,{});return new Cb("",new lr(s,[]))}(n,e),r=new Cn([new Cs("",{})]),i=new Cn({}),o=new Cn({}),s=new Cn({}),a=new Cn(""),l=new Sr(r,i,s,a,o,ne,e,t.root);return l.snapshot=t.root,new _b(new lr(l,[]),t)}class Sr{constructor(e,t,r,i,o,s,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ce(c=>c[ws]))??B(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(e=>no(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(e=>no(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wb(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function ZO(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Nl{constructor(e,t,r,i,o,s,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[ws],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=no(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cb extends yb{constructor(e,t){super(t),this.url=e,uf(this,t)}toString(){return bb(this._root)}}function uf(n,e){e.value._routerState=n,e.children.forEach(t=>uf(n,t))}function bb(n){const e=n.children.length>0?` { ${n.children.map(bb).join(", ")} } `:"";return`${n.value}${e}`}function df(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rn(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Rn(e.params,t.params)||n.params.next(t.params),function hO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Rn(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hf(n,e){const t=Rn(n.params,e.params)&&function yO(n,e){return ti(n,e)&&n.every((t,r)=>Rn(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hf(n.parent,e.parent))}function Ms(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function XO(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ms(n,r,i);return Ms(n,r)})}(n,e,t);return new lr(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ms(n,a)),s}}const r=function eF(n){return new Sr(new Cn(n.url),new Cn(n.params),new Cn(n.queryParams),new Cn(n.fragment),new Cn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Ms(n,o));return new lr(r,i)}}const ff="ngNavigationCancelingError";function Db(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ni(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Eb(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Eb(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ff]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Sb(n){return Mb(n)&&ni(n.url)}function Mb(n){return n&&n[ff]}class tF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ts,this.attachRef=null}}let Ts=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new tF,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pl=!1;let pf=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.name=i||ne,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Pl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Pl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Pl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,Pl);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new nF(t,a,i.injector);if(r&&function rF(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(M(Ts),M(yn),function Ao(n){return function c1(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Fg(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ke(),n)}("name"),M(rl),M(mr))},n.\u0275dir=q({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class nF{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Sr?this.route:e===Ts?this.childContexts:this.parent.get(e,t)}}let gf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Nv],decls:1,vars:0,template:function(t,r){1&t&&F(0,"router-outlet")},dependencies:[pf],encapsulation:2}),n})();function Tb(n,e){return n.providers&&!n._injector&&(n._injector=Wa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yf(n){const e=n.children&&n.children.map(yf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=gf),t}function nn(n){return n.outlet||ne}function Ib(n,e){const t=n.filter(r=>nn(r)===e);return t.push(...n.filter(r=>nn(r)!==e)),t}function Is(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lF{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),df(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=oo(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),rt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=oo(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=oo(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=oo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new KO(o.value.snapshot))}),e.children.length&&this.forwardEvent(new qO(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(df(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),df(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Is(i.snapshot),l=a?.get(Ho)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class Ab{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rl{constructor(e,t){this.component=e,this.route=t}}function cF(n,e,t){const r=n._root;return As(r,e?e._root:null,t,[r.value])}function so(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function hS(n){return null!==Zs(n)}(n)?e.get(n):n:r}function As(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=oo(e);return n.children.forEach(s=>{(function dF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function hF(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ti(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ti(n.url,e.url)||!Rn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hf(n,e)||!Rn(n.queryParams,e.queryParams);default:return!hf(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ab(r)):(o.data=s.data,o._resolvedData=s._resolvedData),As(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rl(a.outlet.component,s))}else s&&xs(e,a,i),i.canActivateChecks.push(new Ab(r)),As(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),rt(o,(s,a)=>xs(s,t.getContext(a),i)),i}function xs(n,e,t){const r=oo(n),i=n.value;rt(r,(o,s)=>{xs(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Rl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ks(n){return"function"==typeof n}function _f(n){return n instanceof Dl||"EmptyError"===n?.name}const Ol=Symbol("INITIAL_VALUE");function ao(){return Pn(n=>zC(n.map(e=>e.pipe(vs(1),function oO(...n){const e=_o(n);return Je((t,r)=>{(e?Kh(n,t,e):Kh(n,t)).subscribe(r)})}(Ol)))).pipe(ce(e=>{for(const t of e)if(!0!==t){if(t===Ol)return Ol;if(!1===t||t instanceof ei)return t}return!0}),Cr(e=>e!==Ol),vs(1)))}function xb(n){return function NE(...n){return Up(n)}(ht(e=>{if(ni(e))throw Db(0,e)}),ce(e=>!0===e))}const vf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kb(n,e,t,r,i){const o=wf(n,e,t);return o.matched?function AF(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?B(i.map(s=>{const a=so(s,n);return Er(function _F(n){return n&&ks(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ao(),xb()):B(!0)}(r=Tb(e,r),e,t).pipe(ce(s=>!0===s?o:{...vf})):B(o)}function wf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...vf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||dO)(t,n,e);if(!i)return{...vf};const o={};rt(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Fl(n,e,t,r,i="corrected"){if(t.length>0&&function NF(n,e,t){return t.some(r=>Ll(n,e,r)&&nn(r)!==ne)}(n,t,r)){const s=new ie(e,function kF(n,e,t,r){const i={};i[ne]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&nn(o)!==ne){const s=new ie([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[nn(o)]=s}return i}(n,e,r,new ie(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function PF(n,e,t){return t.some(r=>Ll(n,e,r))}(n,t,r)){const s=new ie(n.segments,function xF(n,e,t,r,i,o){const s={};for(const a of r)if(Ll(n,t,a)&&!i[nn(a)]){const l=new ie([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[nn(a)]=l}return{...i,...s}}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new ie(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Ll(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Nb(n,e,t,r){return!!(nn(n)===r||r!==ne&&Ll(e,t,n))&&("**"===n.path||wf(e,n,t).matched)}function Pb(n,e,t){return 0===e.length&&!n.children[t]}const Vl=!1;class Bl{constructor(e){this.segmentGroup=e||null}}class Rb{constructor(e){this.urlTree=e}}function Ns(n){return _s(new Bl(n))}function Ob(n){return _s(new Rb(n))}class LF{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Fl(this.urlTree.root,[],[],this.config).segmentGroup,t=new ie(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ne).pipe(ce(o=>this.createUrlTree(xl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Dr(o=>{if(o instanceof Rb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Bl?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ne).pipe(ce(i=>this.createUrlTree(xl(i),e.queryParams,e.fragment))).pipe(Dr(i=>{throw i instanceof Bl?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Vl)}createUrlTree(e,t,r){const i=tf(e);return new ei(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ce(o=>new ie([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ve(i).pipe(Xr(o=>{const s=r.children[o],a=Ib(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(ce(l=>({segment:l,outlet:o})))}),QC((o,s)=>(o[s.outlet]=s.segment,o),{}),YC())}expandSegment(e,t,r,i,o,s){return Ve(r).pipe(Xr(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Dr(c=>{if(c instanceof Bl)return B(null);throw c}))),br(a=>!!a),Dr((a,l)=>{if(_f(a))return Pb(t,i,o)?B(new ie([],{})):Ns(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return Nb(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):Ns(t):Ns(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ob(o):this.lineralizeSegments(r,o).pipe(nt(s=>{const a=new ie(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=wf(t,i,o);if(!a)return Ns(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?Ob(d):this.lineralizeSegments(i,d).pipe(nt(h=>this.expandSegment(e,t,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=Tb(r,e),r.loadChildren?(r._loadedRoutes?B({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ie(i,{})))):B(new ie(i,{}))):kb(t,r,i,e).pipe(Pn(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(nt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=Fl(t,a,l,h),m=new ie(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(ce(b=>new ie(a,b)));if(0===h.length&&0===p.length)return B(new ie(a,{}));const _=nn(r)===o;return this.expandSegment(d,m,h,p,_?ne:o,!0).pipe(ce(I=>new ie(a.concat(I.segments),I.children)))})):Ns(t)))}getChildConfig(e,t,r){return t.children?B({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?B({routes:t._loadedRoutes,injector:t._loadedInjector}):function IF(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(s=>{const a=so(s,n);return Er(function pF(n){return n&&ks(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ao(),xb())}(e,t,r).pipe(nt(i=>i?this.configLoader.loadChildren(e,t).pipe(ht(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function OF(n){return _s(Eb(Vl,3))}())):B({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[ne])return _s(new S(4e3,Vl));i=i.children[ne]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ei(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return rt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return rt(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,i)}),new ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new S(4001,Vl);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class BF{}class jF{constructor(e,t,r,i,o,s,a,l){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=Fl(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(ce(t=>{if(null===t)return null;const r=new Nl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new lr(r,t),o=new Cb(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=wb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Ve(Object.keys(r.children)).pipe(Xr(i=>{const o=r.children[i],s=Ib(t,i);return this.processSegmentGroup(e,s,o,i)}),QC((i,o)=>i&&o?(i.push(...o),i):null),function lO(n,e=!1){return Je((t,r)=>{let i=0;t.subscribe(We(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),El(null),YC(),ce(i=>{if(null===i)return null;const o=Fb(i);return function HF(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return Ve(t).pipe(Xr(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),br(s=>!!s),Dr(s=>{if(_f(s))return Pb(r,i,o)?B([]):B(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!Nb(t,r,i,o))return B(null);let s;if("**"===t.path){const a=i.length>0?XC(i).parameters:{},l=Vb(r)+i.length;s=B({snapshot:new Nl(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$b(t),nn(t),t.component??t._loadedComponent??null,t,Lb(r),l,Ub(t),l),consumedSegments:[],remainingSegments:[]})}else s=kb(r,t,i,e).pipe(ce(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=Vb(r)+l.length;return{snapshot:new Nl(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$b(t),nn(t),t.component??t._loadedComponent??null,t,Lb(r),d,Ub(t),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(Pn(a=>{if(null===a)return B(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function zF(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Fl(r,c,u,h.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ce(_=>null===_?null:[new lr(l,_)]));if(0===h.length&&0===p.length)return B([new lr(l,[])]);const m=nn(t)===o;return this.processSegment(d,h,f,p,m?ne:o).pipe(ce(_=>null===_?null:[new lr(l,_)]))}))}}function GF(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fb(n){const e=[],t=new Set;for(const r of n){if(!GF(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Fb(r.children);e.push(new lr(r.value,i))}return e.filter(r=>!t.has(r))}function Lb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vb(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function $b(n){return n.data||{}}function Ub(n){return n.resolve||{}}function jb(n){return"string"==typeof n.title||null===n.title}function Cf(n){return Pn(e=>{const t=n(e);return t?Ve(t).pipe(ce(()=>e)):B(e)})}let Hb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[ws]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return Oe(zb)},providedIn:"root"}),n})(),zb=(()=>{class n extends Hb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(O(VC))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XF{}class tL extends class eL{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ul=new $("",{providedIn:"root",factory:()=>({})}),bf=new $("ROUTES");let Df=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return B(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Er(t.loadComponent()).pipe(ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Zh(()=>{this.componentLoaders.delete(t)})),i=new WC(r,()=>new En).pipe(Qh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=JC(l.get(bf,[],j.Self|j.Optional)));return{routes:c.map(yf),injector:l}}),Zh(()=>{this.childrenLoaders.delete(r)})),s=new WC(o,()=>new En).pipe(Qh());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Er(t()).pipe(nt(r=>r instanceof xv||Array.isArray(r)?B(r):Ve(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(O(Jt),O(uh))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rL{}class iL{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function oL(n){throw n}function sL(n,e,t){return e.parse("/")}const aL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function qb(){const n=Oe(ob),e=Oe(Ts),t=Oe(Sh),r=Oe(Jt),i=Oe(uh),o=Oe(bf,{optional:!0})??[],s=Oe(Ul,{optional:!0})??{},a=Oe(zb),l=Oe(Hb,{optional:!0}),c=Oe(rL,{optional:!0}),u=Oe(XF,{optional:!0}),d=new ze(null,n,e,t,r,i,JC(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function cL(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let ze=(()=>{class n{constructor(t,r,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new En,this.errorHandler=oL,this.malformedUriErrorHandler=sL,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>B(void 0),this.urlHandlingStrategy=new iL,this.routeReuseStrategy=new tL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Df),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new zO(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new HO(h)),this.ngModule=s.get(Yr),this.console=s.get(zk);const d=s.get(Fe);this.isNgZoneEnabled=d instanceof Fe&&Fe.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function fO(){return new ei(new ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vb(this.currentUrlTree,this.rootComponentType),this.transitions=new Cn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Cr(i=>0!==i.id),ce(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Pn(i=>{let o=!1,s=!1;return B(i).pipe(ht(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Wb(a.source)&&(this.browserUrlTree=a.extractedUrl),B(a).pipe(Pn(d=>{const h=this.transitions.getValue();return r.next(new af(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?jn:Promise.resolve(d)}),function VF(n,e,t,r){return Pn(i=>function FF(n,e,t,r,i){return new LF(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ce(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ht(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function WF(n,e,t,r,i,o){return nt(s=>function UF(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new jF(n,e,t,r,i,s,a,o).recognize().pipe(Pn(l=>null===l?function $F(n){return new Ce(e=>e.error(n))}(new BF):B(l)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(ce(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ht(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new VO(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,E=new af(h,this.serializeUrl(f),p,m);r.next(E);const I=vb(f,this.rootComponentType).snapshot;return B(i={...a,targetSnapshot:I,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),jn}),ht(a=>{const l=new BO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ce(a=>i={...a,guards:cF(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function wF(n,e){return nt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?B({...t,guardsResult:!0}):function CF(n,e,t,r){return Ve(n).pipe(nt(i=>function TF(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?B(o.map(a=>{const l=Is(e)??i,c=so(a,l);return Er(function yF(n){return n&&ks(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(br())})).pipe(ao()):B(!0)}(i.component,i.route,t,e,r)),br(i=>!0!==i,!0))}(s,r,i,n).pipe(nt(a=>a&&function fF(n){return"boolean"==typeof n}(a)?function bF(n,e,t,r){return Ve(e).pipe(Xr(i=>Kh(function EF(n,e){return null!==n&&e&&e(new GO(n)),B(!0)}(i.route.parent,r),function DF(n,e){return null!==n&&e&&e(new WO(n)),B(!0)}(i.route,r),function MF(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function uF(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>qC(()=>B(s.guards.map(l=>{const c=Is(s.node)??t,u=so(l,c);return Er(function mF(n){return n&&ks(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(br())})).pipe(ao())));return B(o).pipe(ao())}(n,i.path,t),function SF(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(o=>qC(()=>{const s=Is(e)??t,a=so(o,s);return Er(function gF(n){return n&&ks(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(br())}));return B(i).pipe(ao())}(n,i.route,t))),br(i=>!0!==i,!0))}(r,o,n,e):B(a)),ce(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ht(a=>{if(i.guardsResult=a.guardsResult,ni(a.guardsResult))throw Db(0,a.guardsResult);const l=new $O(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Cr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Cf(a=>{if(a.guards.canActivateChecks.length)return B(a).pipe(ht(l=>{const c=new UO(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Pn(l=>{let c=!1;return B(l).pipe(function KF(n,e){return nt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return B(t);let o=0;return Ve(i).pipe(Xr(s=>function QF(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!jb(i)&&(o[ws]=i.title),function YF(n,e,t,r){const i=function ZF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return B({});const o={};return Ve(i).pipe(nt(s=>function JF(n,e,t,r){const i=Is(e)??r,o=so(n,i);return Er(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(br(),ht(a=>{o[s]=a}))),Yh(1),function cO(n){return ce(()=>n)}(o),Dr(s=>_f(s)?jn:_s(s)))}(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=wb(n,t).resolve,i&&jb(i)&&(n.data[ws]=i.title),null)))}(s.route,r,n,e)),ht(()=>o++),Yh(1),nt(s=>o===i.length?B(t):jn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ht({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),ht(l=>{const c=new jO(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Cf(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(ht(d=>{c.component=d}),ce(()=>{})));for(const d of c.children)u.push(...l(d));return u};return zC(l(a.targetSnapshot.root)).pipe(El(),vs(1))}),Cf(()=>this.afterPreactivation()),ce(a=>{const l=function JO(n,e,t){const r=Ms(n,e._root,t?t._root:void 0);return new _b(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),ht(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ce(r=>(new lF(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ht({next(){o=!0},complete(){o=!0}}),Zh(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Dr(a=>{if(s=!0,Mb(a)){Sb(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new kl(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),Sb(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wb(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new gb(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return jn}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(t.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(yf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),NO(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ni(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function uL(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new S(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...aL}:!1===r?{...lL}:r,ni(t))return tb(this.currentUrlTree,t,i);const o=this.parseUrl(t);return tb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ri(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new kl(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){ud()},n.\u0275prov=H({token:n,factory:function(){return qb()},providedIn:"root"}),n})();function Wb(n){return"imperative"!==n}class Kb{}let fL=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Cr(t=>t instanceof ri),Xr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Wa(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ve(i).pipe(hi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):B(null);const o=i.pipe(nt(s=>null===s?B(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Ve([o,this.loader.loadComponent(r)]).pipe(hi()):o})}}return n.\u0275fac=function(t){return new(t||n)(O(ze),O(uh),O(mr),O(Kb),O(Df))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mf=new $("");let Qb=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof af?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ri&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new mb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){ud()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function lo(n,e){return{\u0275kind:n,\u0275providers:e}}function Tf(n){return[{provide:bf,multi:!0,useValue:n}]}function Zb(){const n=Oe(Jt);return e=>{const t=n.get(ds);if(e!==t.components[0])return;const r=n.get(ze),i=n.get(Jb);1===n.get(If)&&r.initialNavigation(),n.get(Xb,null,j.Optional)?.setUpPreloading(),n.get(Mf,null,j.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Jb=new $("",{factory:()=>new En}),If=new $("",{providedIn:"root",factory:()=>1});const Xb=new $("");function yL(n){return lo(0,[{provide:Xb,useExisting:fL},{provide:Kb,useExisting:n}])}const eD=new $("ROUTER_FORROOT_GUARD"),_L=[Sh,{provide:ob,useClass:Xh},{provide:ze,useFactory:qb},Ts,{provide:Sr,useFactory:function Yb(n){return n.routerState.root},deps:[ze]},Df];function vL(){return new Aw("Router",ze)}let Af=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_L,[],Tf(t),{provide:eD,useFactory:DL,deps:[[ze,new Fo,new Lo]]},{provide:Ul,useValue:r||{}},r?.useHash?{provide:Jr,useClass:NN}:{provide:Jr,useClass:eC},{provide:Mf,useFactory:()=>{const n=Oe(ze),e=Oe(JP),t=Oe(Ul);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Qb(n,e,t)}},r?.preloadingStrategy?yL(r.preloadingStrategy).\u0275providers:[],{provide:Aw,multi:!0,useFactory:vL},r?.initialNavigation?EL(r):[],[{provide:tD,useFactory:Zb},{provide:Cw,multi:!0,useExisting:tD}]]}}static forChild(t){return{ngModule:n,providers:[Tf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(O(eD,8))},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({imports:[gf]}),n})();function DL(n){return"guarded"}function EL(n){return["disabled"===n.initialNavigation?lo(3,[{provide:Xa,multi:!0,useFactory:()=>{const e=Oe(ze);return()=>{e.setUpLocationChangeListener()}}},{provide:If,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?lo(2,[{provide:If,useValue:0},{provide:Xa,multi:!0,deps:[Jt],useFactory:e=>{const t=e.get(xN,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(o=>{const s=e.get(ze),a=e.get(Jb);(function i(o){e.get(ze).events.pipe(Cr(a=>a instanceof ri||a instanceof kl||a instanceof gb),ce(a=>a instanceof ri||a instanceof kl&&(0===a.code||1===a.code)&&null),Cr(a=>null!==a),vs(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||a.closed?B(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const tD=new $("");let nD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(M(Yn),M(zt))},n.\u0275dir=q({type:n}),n})(),ii=(()=>{class n extends nD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=at(n)))(r||n)}}(),n.\u0275dir=q({type:n,features:[ge]}),n})();const On=new $("NgValueAccessor"),IL={provide:On,useExisting:be(()=>co),multi:!0},xL=new $("CompositionEventMode");let co=(()=>{class n extends nD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AL(){const n=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(M(Yn),M(zt),M(xL,8))},n.\u0275dir=q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&N("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ae([IL]),ge]}),n})();function Mr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function iD(n){return null!=n&&"number"==typeof n.length}const ft=new $("NgValidators"),Tr=new $("NgAsyncValidators"),NL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gl{static min(e){return function oD(n){return e=>{if(Mr(e.value)||Mr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function sD(n){return e=>{if(Mr(e.value)||Mr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function aD(n){return Mr(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function lD(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function cD(n){return Mr(n.value)||NL.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function uD(n){return e=>Mr(e.value)||!iD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return dD(e)}static pattern(e){return function hD(n){if(!n)return ql;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Mr(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return _D(e)}static composeAsync(e){return vD(e)}}function dD(n){return e=>iD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function ql(n){return null}function fD(n){return null!=n}function pD(n){return Xo(n)?Ve(n):n}function gD(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function mD(n,e){return e.map(t=>t(n))}function yD(n){return n.map(e=>function PL(n){return!n.validate}(e)?e:t=>e.validate(t))}function _D(n){if(!n)return null;const e=n.filter(fD);return 0==e.length?null:function(t){return gD(mD(t,e))}}function xf(n){return null!=n?_D(yD(n)):null}function vD(n){if(!n)return null;const e=n.filter(fD);return 0==e.length?null:function(t){return function ML(...n){const e=ig(n),{args:t,keys:r}=UC(n),i=new Ce(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;an(t[u]).subscribe(We(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?HC(r,a):a),o.complete())}))}});return e?i.pipe(jC(e)):i}(mD(t,e).map(pD)).pipe(ce(gD))}}function kf(n){return null!=n?vD(yD(n)):null}function wD(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function CD(n){return n._rawValidators}function bD(n){return n._rawAsyncValidators}function Nf(n){return n?Array.isArray(n)?n:[n]:[]}function Wl(n,e){return Array.isArray(n)?n.includes(e):n===e}function DD(n,e){const t=Nf(e);return Nf(n).forEach(i=>{Wl(t,i)||t.push(i)}),t}function ED(n,e){return Nf(e).filter(t=>!Wl(n,t))}class SD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Dt extends SD{get formDirective(){return null}get path(){return null}}class Ir extends SD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kl=(()=>{class n extends MD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(M(Ir,2))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ua("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ge]}),n})(),Pf=(()=>{class n extends MD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(M(Dt,10))},n.\u0275dir=q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ua("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ge]}),n})();const Ps="VALID",Yl="INVALID",uo="PENDING",Rs="DISABLED";function Lf(n){return(Zl(n)?n.validators:n)||null}function ID(n){return Array.isArray(n)?xf(n):n||null}function Vf(n,e){return(Zl(e)?e.asyncValidators:n)||null}function AD(n){return Array.isArray(n)?kf(n):n||null}function Zl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function xD(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[t])throw new S(1001,"")}function kD(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new S(1002,"")})}class Jl{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ID(this._rawValidators),this._composedAsyncValidatorFn=AD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ps}get invalid(){return this.status===Yl}get pending(){return this.status==uo}get disabled(){return this.status===Rs}get enabled(){return this.status!==Rs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ID(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=AD(e)}addValidators(e){this.setValidators(DD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ED(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ED(e,this._rawAsyncValidators))}hasValidator(e){return Wl(this._rawValidators,e)}hasAsyncValidator(e){return Wl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Rs,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ps,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ps||this.status===uo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rs:Ps}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uo,this._hasOwnPendingAsyncValidator=!0;const t=pD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?Rs:this.errors?Yl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uo)?uo:this._anyControlsHaveStatus(Yl)?Yl:Ps}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class oi extends Jl{constructor(e,t,r){super(Lf(t),Vf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kD(this,0,e),Object.keys(e).forEach(r=>{xD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ND extends oi{}function Xl(n,e){return[...e.path,n]}function Os(n,e){Bf(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function UL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&PD(n,e)})}(n,e),function HL(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function jL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&PD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $L(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ec(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),nc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Bf(n,e){const t=CD(n);null!==e.validator?n.setValidators(wD(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=bD(n);null!==e.asyncValidator?n.setAsyncValidators(wD(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();tc(e._rawValidators,i),tc(e._rawAsyncValidators,i)}function nc(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=CD(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=bD(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return tc(e._rawValidators,r),tc(e._rawAsyncValidators,r),t}function PD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $f(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Uf(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===co?t=o:function qL(n){return Object.getPrototypeOf(n.constructor)===ii}(o)?r=o:i=o}),i||r||t||null}function LD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function VD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const si=class extends Jl{constructor(e=null,t,r){super(Lf(t),Vf(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=VD(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){VD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ZL={provide:Ir,useExisting:be(()=>Hf)},UD=(()=>Promise.resolve())();let Hf=(()=>{class n extends Ir{constructor(t,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new si,this._registered=!1,this.update=new Se,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Uf(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),$f(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Os(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){UD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function ir(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);UD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Xl(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(M(Dt,9),M(ft,10),M(Tr,10),M(On,10),M(rl,8))},n.\u0275dir=q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ae([ZL]),ge,$t]}),n})(),zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),HD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({}),n})();const Gf=new $("NgModelWithFormControlWarning"),r2={provide:Dt,useExisting:be(()=>Ls)};let Ls=(()=>{class n extends Dt{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Se,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Os(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ec(t.control||null,t,!1),function WL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function FD(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ec(r||null,t),(n=>n instanceof si)(i)&&(Os(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function RD(n,e){Bf(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function zL(n,e){return nc(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bf(this.form,this),this._oldForm&&nc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(M(ft,10),M(Tr,10))},n.\u0275dir=q({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&N("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ae([r2]),ge,$t]}),n})();const s2={provide:Ir,useExisting:be(()=>rc)};let rc=(()=>{class n extends Ir{constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Se,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Uf(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),$f(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Xl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(M(Dt,13),M(ft,10),M(Tr,10),M(On,10),M(Gf,8))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ae([s2]),ge,$t]}),n})();let ai=(()=>{class n{constructor(){this._validator=ql}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ql,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,features:[$t]}),n})();const v2={provide:ft,useExisting:be(()=>Zf),multi:!0};let Zf=(()=>{class n extends ai{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function YD(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>dD(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=at(n)))(r||n)}}(),n.\u0275dir=q({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&An("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ae([v2]),ge]}),n})(),o0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({imports:[HD]}),n})(),C2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({imports:[o0]}),n})(),s0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gf,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({imports:[o0]}),n})();class a0 extends Jl{constructor(e,t,r){super(Lf(t),Vf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kD(this,0,e),e.forEach((r,i)=>{xD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function l0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let c0=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return l0(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new oi(i,o)}record(t,r=null){const i=this._reduceControls(t);return new ND(i,r)}control(t,r,i){let o={};return this.useNonNullable?(l0(r)?o=r:(o.validators=r,o.asyncValidators=i),new si(t,{...o,nonNullable:!0})):new si(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new a0(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof si||t instanceof Jl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:s0}),n})();class b2{constructor(e){this.l="",this.num_clues=0,this.clues=[0,0,0,0,0,0,0,0,0],this.r_pts=0,this.r_next=0,this.r_level="",this.id="",this.w=0,this.t=-1,this.y=-1,this.a=-1,this.m=-1,this.sc=!1,this.o=-1,this.devil=-1,this.all=[],this.new_loc="",this.update_loc="",console.log("begin parse oobstring="+e);var t=e.indexOf("l");-1!=t&&(this.l=e.substring(t+1,t+3),console.log("loc="+this.l));var r=e.indexOf("c");if(-1!=r){this.num_clues=0;var i=e.indexOf("c",r+1),o=e.substring(r+1,i),s=0;for(let Or of o){var a=parseInt(Or);this.clues[s]=a,a>=1&&(this.num_clues+=1),s++}console.log("oob numclues="+this.num_clues.toString()+" and clues="+this.clues.toString())}var l=e.indexOf("r");if(-1!=l){var c=e.indexOf("-",l+1),u=e.substring(l+1,c);this.r_pts=parseInt(u),c=e.indexOf("-",(l=c+1)+1);var d=e.substring(l,c);this.r_next=parseInt(d),c=e.indexOf("r",(l=c+1)+1),this.r_level=e.substring(l,c),console.log("r_pts="+this.r_pts+" r_next="+this.r_next+" r_level="+this.r_level)}var h=e.indexOf("i");if(-1!=h){var f=e.indexOf("i",h+1);this.id=e.substring(h+1,f),console.log("userid="+this.id)}var p=e.indexOf("y");if(-1!=p){var m=e.indexOf("y",p+1),_=e.substring(p+1,m);"1"==_&&"0"==(E=e.substring(p+2,p+3))&&(_+=E),this.y=parseInt(_),console.log("y="+this.y)}var I=e.indexOf("w");if(-1!=I){var b=e.substring(I+1,I+2);this.w=parseInt(b),console.log("w="+this.w)}var x=e.indexOf("t");if(-1!=x){var J=e.substring(x+1,x+2);this.t=parseInt(J),console.log("t="+this.t)}var re=e.indexOf("d");if(-1!=re){var Te=e.substring(re+1,re+2);this.devil=parseInt(Te),console.log("d="+this.devil)}var it=e.indexOf("a");if(-1!=it){var Et=e.indexOf("a",it+1),St=e.substring(it+1,Et);this.a=parseInt(St),console.log("a="+this.a)}var Bn=e.indexOf("k");if(-1!=Bn){var Dn=e.indexOf("k",Bn+1),Nt=e.substring(Bn+1,Dn);for(let Or=0;Or<Nt.length;Or++)this.all[Or]=parseInt(Nt[Or]);console.log("all="+this.all.toString())}var $n=e.indexOf("n");if(-1!=$n){var R=e.indexOf("n",$n+2),L=e.substring($n+1,R);this.new_loc=L,console.log("n="+this.new_loc.toString())}var V=e.indexOf("u");if(-1!=V){var le=e.indexOf("u",V+2),qe=e.substring(V+1,le);this.update_loc=qe,console.log("u="+this.update_loc.toString())}var Pt=e.indexOf("m");if(-1!=Pt){var Mt=e.substring(Pt+1,Pt+2);this.m=parseInt(Mt),console.log("m="+this.m)}var Rt=e.indexOf("o");if(-1!=Rt){var E,we=e.substring(Rt+1,Rt+2);"1"==we&&"0"==(E=e.substring(Rt+2,Rt+3))&&(we+=E),this.o=parseInt(we),console.log("o="+this.o)}-1!=e.indexOf("sc")&&(this.sc=!0,console.log("sc=true"))}}class Vs{constructor(e,t){this.msgid="",this.createdAt="",this.username="",this.msgtext="",this.isbot=!1,this.isdevil=!1,this.iscrysanthea=!1,this.oobstring="",this.username=e,this.msgtext=t}}class u0{}const cr="*";function Fn(n,e){return{type:7,name:n,definitions:e,options:{}}}function et(n,e=null){return{type:4,styles:e,timings:n}}function d0(n,e=null){return{type:2,steps:n,options:e}}function ve(n){return{type:6,styles:n,offset:null}}function Me(n,e,t){return{type:0,name:n,styles:e,options:t}}function tt(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function h0(n){Promise.resolve().then(n)}class Bs{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){h0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class f0{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?h0(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Ln=Object.create(null);Ln.open="0",Ln.close="1",Ln.ping="2",Ln.pong="3",Ln.message="4",Ln.upgrade="5",Ln.noop="6";const ic=Object.create(null);Object.keys(Ln).forEach(n=>{ic[Ln[n]]=n});const E2={type:"error",data:"parser error"},S2="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),M2="function"==typeof ArrayBuffer,p0=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+r)},t.readAsDataURL(n)},g0=({type:n,data:e},t,r)=>S2&&e instanceof Blob?t?r(e):p0(e,r):M2&&(e instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(e))?t?r(e):p0(new Blob([e]),r):r(Ln[n]+(e||"")),ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$s=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<ho.length;n++)$s[ho.charCodeAt(n)]=n;const x2="function"==typeof ArrayBuffer,N2=(n,e)=>{if(x2){const t=(n=>{let r,o,s,a,l,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<t;r+=4)o=$s[n.charCodeAt(r)],s=$s[n.charCodeAt(r+1)],a=$s[n.charCodeAt(r+2)],l=$s[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(15&s)<<4|a>>2,u[i++]=(3&a)<<6|63&l;return c})(n);return m0(t,e)}return{base64:!0,data:n}},m0=(n,e)=>"blob"===e&&n instanceof ArrayBuffer?new Blob([n]):n,y0=(n,e)=>{if("string"!=typeof n)return{type:"message",data:m0(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:N2(n.substring(1),e)}:ic[t]?n.length>1?{type:ic[t],data:n.substring(1)}:{type:ic[t]}:E2},_0=String.fromCharCode(30);function Ge(n){if(n)return function O2(n){for(var e in Ge.prototype)n[e]=Ge.prototype[e];return n}(n)}Ge.prototype.on=Ge.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Ge.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Ge.prototype.off=Ge.prototype.removeListener=Ge.prototype.removeAllListeners=Ge.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Ge.prototype.emitReserved=Ge.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Ge.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ge.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Ar=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function w0(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const F2=setTimeout,L2=clearTimeout;function oc(n,e){e.useNativeTimers?(n.setTimeoutFn=F2.bind(Ar),n.clearTimeoutFn=L2.bind(Ar)):(n.setTimeoutFn=setTimeout.bind(Ar),n.clearTimeoutFn=clearTimeout.bind(Ar))}function B2(n){return"string"==typeof n?function $2(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}class U2 extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class C0 extends Ge{constructor(e){super(),this.writable=!1,oc(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new U2(e,t,r)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=y0(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const b0="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),D0={};let S0,E0=0,xr=0;function M0(n){let e="";do{e=b0[n%64]+e,n=Math.floor(n/64)}while(n>0);return e}function T0(){const n=M0(+new Date);return n!==S0?(E0=0,S0=n):n+"."+M0(E0++)}for(;xr<64;xr++)D0[b0[xr]]=xr;function I0(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}let A0=!1;try{A0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const H2=A0;function x0(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||H2))return new XMLHttpRequest}catch{}if(!e)try{return new(Ar[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function z2(){}const G2=null!=new x0({xdomain:!1}).responseType;let ac=(()=>{class n extends Ge{constructor(t,r){super(),oc(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.async=!1!==r.async,this.data=void 0!==r.data?r.data:null,this.create()}create(){const t=w0(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const r=this.xhr=new x0(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}typeof document<"u"&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=z2,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function k0(){for(let n in ac.requests)ac.requests.hasOwnProperty(n)&&ac.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",k0):"function"==typeof addEventListener&&addEventListener("onpagehide"in Ar?"pagehide":"unload",k0,!1));const W2="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),lc=Ar.WebSocket||Ar.MozWebSocket,N0=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Y2={websocket:class Q2 extends C0{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=N0?{}:w0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=N0?new lc(e,t,r):t?new lc(e,t):new lc(e)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;g0(e[t],this.supportsBinary,o=>{try{this.ws.send(o)}catch{}i&&W2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=T0()),this.supportsBinary||(e.b64=1);const i=I0(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!lc}},polling:class q2 extends C0{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}this.supportsBinary=G2&&!(e&&e.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split(_0),r=[];for(let i=0;i<t.length;i++){const o=y0(t[i],e);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((o,s)=>{g0(o,!1,a=>{r[s]=a,++i===t&&e(r.join(_0))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=T0()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const i=I0(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new ac(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}},Z2=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,J2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ep(n){const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=Z2.exec(n||""),o={},s=14;for(;s--;)o[J2[s]]=i[s]||"";return-1!=t&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function X2(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&r.splice(0,1),"/"==e.substr(e.length-1,1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function eV(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}(0,o.query),o}let P0=(()=>{class n extends Ge{constructor(t,r={}){super(),t&&"object"==typeof t&&(r=t,t=null),t?(t=ep(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=ep(r.host).host),oc(this,r),this.secure=null!=r.secure?r.secure:typeof location<"u"&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function j2(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[t],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Y2[t](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch{return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!i)if("pong"===h.type&&"probe"===h.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function s(){i||(i=!0,d(),r.close(),r=null)}const a=h=>{const f=new Error("probe error: "+h);f.transport=r.name,s(),this.emitReserved("upgradeError",f)};function l(){a("transport closed")}function c(){a("socket closed")}function u(h){r&&h.name!==r.name&&s()}const d=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",o),r.once("error",a),r.once("close",l),this.once("close",c),this.once("upgrading",u),r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=B2(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let i=0;const o=t.length;for(;i<o;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}return n.protocol=4,n})();const nV="function"==typeof ArrayBuffer,R0=Object.prototype.toString,iV="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===R0.call(Blob),oV="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===R0.call(File);function tp(n){return nV&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||iV&&n instanceof Blob||oV&&n instanceof File}function cc(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(cc(n[t]))return!0;return!1}if(tp(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return cc(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&cc(n[t]))return!0;return!1}function sV(n){const e=[],r=n;return r.data=np(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function np(n,e){if(!n)return n;if(tp(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=np(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=np(n[r],e));return t}return n}function aV(n,e){return n.data=rp(n.data,e),n.attachments=void 0,n}function rp(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=rp(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=rp(n[t],e));return n}const O0=5;var ae=(()=>{return(n=ae||(ae={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",ae;var n})();class lV{constructor(e){this.replacer=e}encode(e){return e.type!==ae.EVENT&&e.type!==ae.ACK||!cc(e)?[this.encodeAsString(e)]:(e.type=e.type===ae.EVENT?ae.BINARY_EVENT:ae.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return(e.type===ae.BINARY_EVENT||e.type===ae.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=sV(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}class ip extends Ge{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===ae.BINARY_EVENT||t.type===ae.BINARY_ACK?(this.reconstructor=new cV(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!tp(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===ae[r.type])throw new Error("unknown packet type "+r.type);if(r.type===ae.BINARY_EVENT||r.type===ae.BINARY_ACK){const o=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(o,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){const o=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(o,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const o=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(!ip.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case ae.CONNECT:return"object"==typeof t;case ae.DISCONNECT:return void 0===t;case ae.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case ae.EVENT:case ae.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case ae.ACK:case ae.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class cV{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=aV(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function bn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const uV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class op extends Ge{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[bn(e,"open",this.onopen.bind(this)),bn(e,"packet",this.onpacket.bind(this)),bn(e,"error",this.onerror.bind(this)),bn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(uV.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const r={type:ae.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const s=this.ids++,a=t.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this.packet({type:ae.CONNECT,data:e})}):this.packet({type:ae.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ae.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ae.EVENT:case ae.BINARY_EVENT:this.onevent(e);break;case ae.ACK:case ae.BINARY_ACK:this.onack(e);break;case ae.DISCONNECT:this.ondisconnect();break;case ae.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:ae.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function fo(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}fo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=0==(1&Math.floor(10*e))?n-t:n+t}return 0|Math.min(n,this.max)},fo.prototype.reset=function(){this.attempts=0},fo.prototype.setMin=function(n){this.ms=n},fo.prototype.setMax=function(n){this.max=n},fo.prototype.setJitter=function(n){this.jitter=n};class uc extends Ge{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,oc(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new fo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout??2e4),this._readyState="closed",this.uri=e;const i=t.parser||mo;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new P0(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=bn(t,"open",function(){r.onopen(),e&&e()}),o=bn(t,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),e?e(s):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const s=this._timeout;0===s&&i();const a=this.setTimeoutFn(()=>{i(),t.close(),t.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(bn(e,"ping",this.onping.bind(this)),bn(e,"data",this.ondata.bind(this)),bn(e,"error",this.onerror.bind(this)),bn(e,"close",this.onclose.bind(this)),bn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch{this.onclose("parse error")}}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new op(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Us={};function kr(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function tV(n,e="",t){let r=n;t=t||typeof location<"u"&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof t<"u"?t.protocol+"//"+n:"https://"+n),r=ep(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||Us[i]&&t.path in Us[i].nsps?l=new uc(r,e):(Us[i]||(Us[i]=new uc(r,e)),l=Us[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(kr,{Manager:uc,Socket:op,io:kr,connect:kr});class sp{constructor(e){this.config=e,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===e&&(e=this.emptyConfig),this.ioSocket=(kr||xc)(e.url,e.options)}of(e){this.ioSocket.of(e)}on(e,t){this.ioSocket.on(e,t)}once(e,t){this.ioSocket.once(e,t)}connect(){return this.ioSocket.connect()}disconnect(e){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(e,...t){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(e,t){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(e){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(e){return this.subscribersCounter[e]||(this.subscribersCounter[e]=0),this.subscribersCounter[e]++,this.eventObservables$[e]||(this.eventObservables$[e]=new Ce(t=>{const r=i=>{t.next(i)};return this.ioSocket.on(e,r),()=>{this.subscribersCounter[e]--,0===this.subscribersCounter[e]&&(this.ioSocket.removeListener(e,r),delete this.eventObservables$[e])}}).pipe(lg())),this.eventObservables$[e]}fromOneTimeEvent(e){return new Promise(t=>this.once(e,t))}}function dV(n){return new sp(n)}const F0=new $("__SOCKET_IO_CONFIG__");let hV=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:F0,useValue:t},{provide:sp,useFactory:dV,deps:[F0]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({}),n})(),ap=(()=>{class n{constructor(t){this.socket=t,this.limit_size=5,this.skip_size=0,this.initial_take_size=3,this.hot_store_array=[],this.awaitingSocketResponse=!1,this.username="",this.doneCreateRoom=()=>Ce.create(r=>{this.socket.on("done-create-room-"+this.username,()=>{r.next()})}),this.getMessages=()=>Ce.create(r=>{console.log("get messages for "+this.username),this.socket.on("emit-message-"+this.username,i=>{console.log("incoming message for "+this.username),r.next(i)})})}initializeChatHistoryProcessing(){this.skip_size=0,this.awaitingSocketResponse=!1}createRoom(t){console.log("beginning create room"),this.initializeChatHistoryProcessing(),this.username=t,this.socket.emit("create room",{username:t})}sendMessage(t){this.socket.emit("new-message",t)}offSocket(){this.socket.removeAllListeners()}getInitialChatHistory(){var t=this.initial_take_size+this.limit_size;return console.log("emit with take_size="+t+", skip_size="+this.skip_size),this.awaitingSocketResponse=!0,this.socket.emit("chathistory",{username:this.username,limit:t,skip:this.skip_size}),Ce.create(r=>{this.socket.on("chathistoryresults-"+this.username,i=>{if(console.log("received chathistory response="+i),i){var o=i.data;console.log("length of incoming take_history_array="+o.length);var s=[];if(0==this.skip_size){for(var a=0;a<o.length;a++){var l=o[a];a<this.initial_take_size?s.push(l):this.hot_store_array.push(l)}console.log("length of hot_history_array="+this.hot_store_array.length),console.log("length of return_array="+s.length),r.next(s),this.skip_size+=t}else this.skip_size+=this.limit_size,console.log("skip size increased to "+this.skip_size),this.hot_store_array=o,console.log("hot_store_array is now length="+this.hot_store_array.length)}this.awaitingSocketResponse=!1})})}getMoreChatHistory(){if(console.log("get more chat history for username="+this.username),this.awaitingSocketResponse)return Ce.create(i=>{console.log("returning empty array"),i.next([])});var r,t=this.limit_size;return console.log("now emit with take_size="+t+", skip_size="+this.skip_size),this.awaitingSocketResponse=!0,console.log("limit_size="+this.limit_size.toString()+", skip_size="+this.skip_size.toString()),this.socket.emit("chathistory",{username:this.username,limit:t,skip:this.skip_size}),r=[...this.hot_store_array],Ce.create(i=>{console.log("returning array of length="+r.length),i.next(r)})}moreToLoad(){return console.log("skip size="+this.skip_size+" hot store length="+this.hot_store_array.length+" and limit size="+this.limit_size),0==this.skip_size?(console.log("inital call"),this.hot_store_array.length>0):(console.log("another call"),this.hot_store_array.length==this.limit_size)}deleteUser(t){console.log("call backend to delete -user for user="+t),this.socket.emit("delete-user",{username:t})}}return n.\u0275fac=function(t){return new(t||n)(O(sp))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lp=(()=>{class n{constructor(){this.invokeToggleDevilFunction=new Se}onToggleDevil(){this.invokeToggleDevilFunction.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L0=(()=>{class n{constructor(){this._developer=!1}set developer(t){this._developer=t}get developer(){return this._developer}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V0(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}let pV=(()=>{class n{constructor(t){this.router=t}ngOnInit(){var t=this;return function fV(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){V0(o,r,i,s,a,"next",l)}function a(l){V0(o,r,i,s,a,"throw",l)}s(void 0)})}}(function*(){var r="assets/unencoded/Build",i={dataUrl:r+"/built.data",frameworkUrl:r+"/built.framework.js",codeUrl:r+"/built.wasm",streamingAssetsUrl:"StreamingAssets",companyName:"chattyfiction",productName:"chatbot_thing",productVersion:"1.0.0",devicePixelRatio:0};let o=document.querySelector("#unity-container")||new Element;var s=document.querySelector("#unity-canvas")||new HTMLElement,a=document.querySelector("#unity-loading-bar")||new HTMLElement,l=document.querySelector("#unity-progress-bar-full")||new HTMLElement,c=document.querySelector("#unity-fullscreen-button")||new HTMLElement,u=document.querySelector("#unity-mobile-warning")||new HTMLElement;s.style.height="640px",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?(o.className="unity-mobile",i.devicePixelRatio=1,u.style.display="block",setTimeout(()=>{u.style.display="none"},5e3)):s.style.height="640px",a.style.display="block",s.style.width=window.innerWidth.toString()+"px",console.log("canvas width="+s.style.width),t.gameInstance=createUnityInstance(s,i,d=>{l.style.width=100*d+"%"}).then(d=>{t.gameInstance=d,a.style.display="none",c.onclick=()=>{d.SetFullscreen(1)}}).catch(d=>{alert(d)}),t.unitycanvas=s})()}closeUnity(){console.log("closing unity"),this.gameInstance.Quit().then(()=>{console.log("closed unity"),this.router.navigate(["/home"])}),this.gameInstance=null}onResize(){var t=window.innerWidth.toString()+"px";this.unitycanvas.style.width=t,console.log("window resized to width="+t.toString()),this.refreshPositions()}doChereeAnimation(t){console.log("start cheree animation"+t);try{this.gameInstance.SendMessage("Cheree","StartAnimation",t)}catch(r){console.log("err sending to unity: "+r)}}doMellenAnimation(t){console.log("start mellen animation"+t);try{this.gameInstance.SendMessage("Mellen","StartAnimation",t)}catch(r){console.log("err sending to unity: "+r)}}doStopAnimations(){this.gameInstance.SendMessage("Cheree","StopAnimation"),this.gameInstance.SendMessage("Mellen","StopAnimation")}doCameraToLeft(){console.log("camera to left"),this.gameInstance.SendMessage("Main Camera","CameraToLeft")}doCameraToRight(){console.log("camera to right"),this.gameInstance.SendMessage("Main Camera","CameraToRight")}showMellen(){console.log("showing mellen");try{this.gameInstance.SendMessage("Cheree","ShowMellen")}catch(t){console.log("err sending to unity: "+t)}setTimeout(()=>{this.refreshPositions()},100)}refreshPositions(){console.log("refreshing positions");var t=window.innerWidth/1e3;t<.5&&(t=.5),t>1&&(t=1),console.log("half_width="+t.toString());var r=t-.22,i=-t-.22;console.log("x1="+r.toString()+" x2="+i.toString()),this.gameInstance.SendMessage("Cheree","SetBase",r),this.gameInstance.SendMessage("Mellen","SetBase",i)}hideMellen(){console.log("hiding mellen");try{this.gameInstance.SendMessage("Cheree","HideMellen")}catch(t){console.log("err sending to unity: "+t)}}rotateCheree(t){this.gameInstance.SendMessage("Cheree",t?"RotateRight":"RotateLeft")}rotateMellen(t){this.gameInstance.SendMessage("Mellen",t?"RotateRight":"RotateLeft")}setChereeBase(t){this.gameInstance.SendMessage("Cheree","SetBase",t)}setMellenBase(t){this.gameInstance.SendMessage("Mellen","SetBase",t)}}return n.\u0275fac=function(t){return new(t||n)(M(ze))},n.\u0275cmp=Gn({type:n,selectors:[["unity"]],decls:11,vars:0,consts:[["id","unity-container",1,"unity-desktop",3,"resize"],["id","unity-canvas","width","1792","height","640"],["id","unity-loading-bar"],["id","unity-logo"],["id","unity-progress-bar-empty"],["id","unity-progress-bar-full"],["id","unity-warning"],["id","unity-footer"],["id","unity-webgl-logo"],["id","unity-fullscreen-button"],["id","unity-mobile-warning"]],template:function(t,r){1&t&&(y(0,"div",0),N("resize",function(){return r.onResize()},0,Hm),F(1,"canvas",1),y(2,"div",2),F(3,"div",3),y(4,"div",4),F(5,"div",5),g()(),F(6,"div",6),y(7,"div",7),F(8,"div",8)(9,"div",9)(10,"div",10),g()())},encapsulation:2}),n})();function gV(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," Communicating with Cheree "),g(),F(3,"br")(4,"br"),y(5,"div",3),v(6," Conveying your thoughts to Cheree is no different from chatting. Simply type in English whatever you're thinking and press the "),y(7,"span",4),v(8,"ENTER"),g(),v(9," key or click the "),y(10,"span",4),v(11,"Think it"),g(),v(12," button. "),F(13,"br")(14,"br"),v(15," When you aren't sure what to type, it's okay to type nothing. "),g()())}function mV(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," The Location List "),g(),F(3,"br")(4,"br"),y(5,"div",3),v(6," View the locations Cheree can visit by clicking the "),y(7,"span",5),v(8,"location name"),g(),v(9," in the upper left corner. From there you can request a location by clicking its name. "),F(10,"br")(11,"br"),v(12," Or you can ask her in English by referring to the location number. "),g()())}function yV(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," Collecting Clues "),g(),F(3,"br")(4,"br"),y(5,"div",3),v(6," Certain topics when discussed with Cheree will trigger a realization, resulting in a clue. The two of you will need to find all clues in order to solve the mystery. "),F(7,"br")(8,"br"),v(9," View the clues you have collected by clicking "),y(10,"span",5),v(11,"Clues"),g(),v(12," in the upper right corner. "),F(13,"br")(14,"br"),y(15,"span",4),v(16,"Tip"),g(),v(17,": Pay attention to names of people and concepts that come up in conversation. You can, for instance, ask what (according to Cheree) one person thinks about another. "),g()())}function _V(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," Deciphering Clues "),g(),F(3,"br")(4,"br"),y(5,"div",3),v(6," A clue once collected must be deciphered. Each letter in the alphabet codes for a different letter. "),F(7,"br")(8,"br"),v(9," To change a letter first click on it in the code. Then type on the keyboard the letter you wish to change it to, or use the letter input field. "),F(10,"br")(11,"br"),y(12,"span",4),v(13,"Tips"),g(),v(14,': Begin with short words commonly occuring in sentences, such as "I", "it", "the". If you are having trouble solving the code, sometimes trying random letters may give you ideas. '),g()())}function vV(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," Relationship Levels "),g(),F(3,"br")(4,"br"),y(5,"div",3),v(6," Your relationship with Cheree is represented by a "),y(7,"span",5),v(8,"level"),g(),v(9," displayed in the upper right corner. As your level increases, Cheree becomes comfortable discussing more topics. "),F(10,"br")(11,"br"),v(12,' You naturally accumulate points towards the next level as you "converse" thoughts, but not all thoughts accumulate points. '),F(13,"br")(14,"br"),v(15," Which ones do? There is no way to know in advance, but generally, Cheree likes it when you pose "),y(16,"span",4),v(17,"questions"),g(),v(18," and make "),y(19,"span",4),v(20,"statements"),g(),v(21," that she can understand. "),g()())}function wV(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," Locations Without Clues "),g(),F(3,"br")(4,"br"),y(5,"div",3),v(6," At times, Cheree will infer that there are no more clues to be found at a location. "),v(7," The names of such locations will appear in "),y(8,"span",6),v(9,"green"),g(),v(10," in the location list. (Note that simply because a location isn't green doesn't mean there is necessarily a clue there) "),g()())}function CV(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," Cheree's Moods (1/3) "),g(),F(3,"br")(4,"br"),y(5,"div",3),v(6,' The way that you go about "conversing" with Cheree has an effect on her mood. For instance, being very terse can cause her to feel neglected. '),F(7,"br")(8,"br"),v(9," Cheree's mood is displayed in the upper left. When her mood is anything other than "),y(10,"span",4),v(11,"normal"),g(),v(12," it will halt the increase of relationship points. "),F(13,"br"),v(14," (Exception: Correctly answering trivia questions always increases points) "),g()())}function bV(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," Cheree's Moods (2/3) "),g(),F(3,"br")(4,"br"),y(5,"div",3)(6,"div")(7,"span",7),v(8,"Agitated"),g(),v(9," - Triggered by using too much negative language "),g(),F(10,"br"),y(11,"div")(12,"span",7),v(13,"Neglected"),g(),v(14," - Triggered by thinking too many short thoughts "),g(),F(15,"br"),y(16,"div")(17,"span",7),v(18,"Misunderstood"),g(),v(19," - Triggered by only making statements, not asking questions "),g(),F(20,"br"),y(21,"div")(22,"span",7),v(23,"Interrogated"),g(),v(24," - Triggered by only asking questions, not making statements "),g(),F(25,"br"),g()())}function DV(n,e){1&n&&(y(0,"div",1)(1,"div",2),v(2," Cheree's Moods (3/3) "),g(),F(3,"br")(4,"br"),y(5,"div",3)(6,"div")(7,"span",7),v(8,"Flustered"),g(),v(9," - Triggered by changing topics too frequently "),g(),F(10,"br"),y(11,"div")(12,"span",7),v(13,"Harrassed"),g(),v(14," - Triggered by flirting above relationship level (at sufficiently high level does not trigger) "),g(),F(15,"br"),v(16," Her mood will revert to normal over time, but you may discover certain actions that can immediately break Cheree out of a bad mood. You can try, for example, asking her to dance for you. "),g()())}let EV=(()=>{class n{constructor(){this.whichTutorialView=-1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gn({type:n,selectors:[["tutorial"]],inputs:{whichTutorialView:"whichTutorialView"},decls:9,vars:9,consts:[["class","tut",4,"ngIf"],[1,"tut"],[1,"system-title"],[1,"system-text"],[2,"color","lightseagreen"],[2,"color","yellow"],[2,"color","#3a1"],[2,"color","violet"]],template:function(t,r){1&t&&(A(0,gV,16,0,"div",0),A(1,mV,13,0,"div",0),A(2,yV,18,0,"div",0),A(3,_V,15,0,"div",0),A(4,vV,22,0,"div",0),A(5,wV,11,0,"div",0),A(6,CV,15,0,"div",0),A(7,bV,26,0,"div",0),A(8,DV,17,0,"div",0)),2&t&&(C("ngIf",0==r.whichTutorialView),w(1),C("ngIf",1==r.whichTutorialView),w(1),C("ngIf",2==r.whichTutorialView),w(1),C("ngIf",3==r.whichTutorialView),w(1),C("ngIf",4==r.whichTutorialView),w(1),C("ngIf",5==r.whichTutorialView),w(1),C("ngIf",6==r.whichTutorialView),w(1),C("ngIf",7==r.whichTutorialView),w(1),C("ngIf",8==r.whichTutorialView))},dependencies:[to],styles:[".system-title[_ngcontent-%COMP%] {\n      font-size: 20px;\n      font-family:'playfair'; \n      color: #d88;\n      padding-top: 15px;\n    }\n\n    .system-text[_ngcontent-%COMP%] {\n      font-size: 14px;\n      color: white;\n    }\n\n    .tut[_ngcontent-%COMP%] {\n      padding-left: 10px;\n      padding-right: 10px;\n    }"]}),n})();function SV(n,e){if(1&n){const t=se();y(0,"div")(1,"span",12),N("@letterAnim.done",function(){return W(t),K(D(4).afterLetterAnim())}),v(2),g()()}if(2&n){const t=D(2),r=t.$implicit,i=t.index,o=D().index,s=D();w(1),C("@letterAnim",s.whichLetterAnimColor),w(1),Ue(" ",s.adjustLetter(r,o,i)," ")}}function MV(n,e){if(1&n&&(y(0,"div")(1,"span",12),v(2),g()()),2&n){const t=D(2),r=t.$implicit,i=t.index,o=D().index,s=D();w(1),C("@letterAnim",s.whichLetterAnimColor),w(1),Ue(" ",s.adjustLetter(r,o,i)," ")}}function TV(n,e){if(1&n){const t=se();y(0,"div")(1,"a",13),N("click",function(){W(t);const i=D(3),o=i.$implicit,s=i.index,a=D().index;return K(D().highlightThisLetter(o,a,s))}),v(2),g()()}if(2&n){const t=D(3),r=t.$implicit,i=t.index,o=D().index,s=D();w(2),er(s.adjustLetter(r,o,i))}}function IV(n,e){if(1&n){const t=se();y(0,"div")(1,"a",14),N("click",function(){W(t);const i=D(4),o=i.$implicit,s=i.index,a=D().index,l=D(),c=Od(10);return l.highlightThisLetter(o,a,s),K(c.select())}),v(2),g()()}if(2&n){const t=D(4),r=t.$implicit,i=t.index,o=D().index,s=D();w(2),er(s.adjustLetter(r,o,i))}}function AV(n,e){if(1&n&&(y(0,"div")(1,"span",15),v(2),g()()),2&n){const t=D(4),r=t.$implicit,i=t.index,o=D().index,s=D();w(2),er(s.adjustLetter(r,o,i))}}function xV(n,e){if(1&n&&(y(0,"div"),A(1,IV,3,1,"div",11),A(2,AV,3,1,"div",11),g()),2&n){const t=D(3).$implicit;w(1),C("ngIf",t>="a"&&t<="z"),w(1),C("ngIf",t<"a"||t>"z")}}function kV(n,e){if(1&n&&(y(0,"div"),A(1,TV,3,1,"div",11),A(2,xV,3,2,"div",11),g()),2&n){const t=D(2).$implicit,r=D(2);w(1),C("ngIf",t==r.highlightedletter),w(1),C("ngIf",t!=r.highlightedletter)}}function NV(n,e){if(1&n&&(y(0,"div",10),A(1,SV,3,2,"div",11),A(2,MV,3,2,"div",11),A(3,kV,3,2,"div",11),g()),2&n){const t=D().index,r=D().index,i=D();w(1),C("ngIf",i.codesolved&&0==r&&0==t),w(1),C("ngIf",i.codesolved&&(0!=r||0!=t)),w(1),C("ngIf",!i.codesolved)}}function PV(n,e){if(1&n&&(y(0,"div",8),A(1,NV,4,3,"div",9),v(2," \xad "),g()),2&n){const t=e.$implicit;w(1),C("ngIf"," "!=t)}}function RV(n,e){if(1&n&&(y(0,"div",6),A(1,PV,3,1,"div",7),v(2," \xa0\xa0\n"),g()),2&n){const t=e.$implicit;w(1),C("ngForOf",t)}}let OV=(()=>{class n{constructor(t){this.varsService=t,this.whichCode=-1,this.buttonTextChange=new Se,this.puzzleSolved=new Se,this.code=[],this.codemap=[],this.highlightedletter=" ",this.inputletter="",this.codesolved=!1,this.codepuzzleinstructions="Select letter and key in new letter for it.",this.codehint="",this.codewordarray=[],this.codetargetarray=[],this.highlighted_i=-1,this.highlighted_j=-1,this.whichLetterAnimColor="one"}afterLetterAnim(){for(var t=this.whichLetterAnimColor;t==this.whichLetterAnimColor;)switch(Math.floor(8*Math.random())){case 0:this.whichLetterAnimColor="one";break;case 1:this.whichLetterAnimColor="two";break;case 2:this.whichLetterAnimColor="three";break;case 3:this.whichLetterAnimColor="four";break;case 4:this.whichLetterAnimColor="five";break;case 5:this.whichLetterAnimColor="six";break;case 6:this.whichLetterAnimColor="seven";break;case 7:this.whichLetterAnimColor="eight"}}ngOnInit(){console.log("init with whichcode="+this.whichCode),this.prepareCode(this.whichCode)}ngOnChanges(){}getCodeBody(t){return 0==t?"the year 1891 was the last year of my life. i died that year. where i do not remember but it was not at home.":1==t?"the cause of my death was a head injury. something hard struck the back of my head. it may have happened suddenly. i may not have seen who inflicted it.":2==t?"the police that day were carrying umbrellas. that means they were from hampshire. then my body must have been found in hampshire.":3==t?"i am certain that i have had personal experience with chloroform having been administered to me by somebody. it was likely against my will.":4==t?"although she was stabbed dozens of times, the weapon that killed martha tabram may have been a bayonet, possibly owned by one of the soldiers she had been with that night.":5==t?"burton was my sister's fiance. he was a guardsman in london, but he left with my sister during the murders.":6==t?"my sister offered to conduct a seance and chauncy took her up on the offer. however, it did not further his investigation. quite the opposite.":7==t?"burton had many experiences during the war, including assisting the army surgeon in administering drugs. he went on to leave the military despite achieving high rank.":"i was present during a carriage ride in which the horses were whipped. the destination of this ride was hampshire."}getCodeHint(t){return 0==t?"What happened in the year 1891?":1==t?"What was the cause of death?":2==t?"Where was Cheree found?":3==t?"''If it was good enough for the Queen''":4==t?"The killing blow?":5==t?"My sister had a fiance.":6==t?"What business did my sister have in London?":7==t?"How accomplished was Burton?":"Why can I remember a whip cracking?"}highlightThisLetter(t,r,i){this.highlightedletter=t,this.inputletter=t,console.log("highlighted "+this.highlightedletter+" at i="+r+" j="+i),this.highlighted_i=r,this.highlighted_j=i}prepareCode(t,r=!1){var i=this.getCodeBody(t);this.codehint=this.getCodeHint(t),this.whichCode=t,this.codetargetarray=[];var o=i.split(" ");for(let c of o){var s=Array.from(Array(c.length)).map((u,d)=>c[d]);this.codetargetarray.push(s)}this.code=Array.from(Array(i.length)).map((c,u)=>i[u]);var a=r?i:this.codify(i,t);this.buttonTextChange.emit("Try Later"),this.codepuzzleinstructions="Select letter and key in new letter for it.",this.codewordarray=[];var l=a.split(" ");console.log("wordarray="+l.toString());for(let c of l)s=Array.from(Array(c.length)).map((d,h)=>c[h]),this.codewordarray.push(s)}codify(t,r){var i="";switch(r){case 0:i="lpmkonjibhuvgycftxdrzseawq";break;case 1:i="kjhgfdsaqwertyuiopmnbvcxzl";break;case 2:i="qetuoadgjlzcbmwryipsfhkxvn";break;case 3:i="zaqxswcdevfrbgtnhymjukilop";break;case 4:i="piyrwouteqljgdakhfsmbcznvx";break;case 5:i="opiuytrewqlkjhgfdsamnbvcxz";break;case 6:i="mnbvcxzlkjhgfdsapoiuytrewq";break;case 7:i="tyuiopqwerghjklasdfbnmzxcv";break;case 8:i="hoadgjwryipsfkxvnqetulzcbm"}this.codemap=Array.from(Array(26)).map((m,_)=>i[_]);const s=Array.from(Array(26)).map((m,_)=>_+97).map(m=>String.fromCharCode(m));console.log("alphabet="+s);for(var a=t,l=t.length,c=0;c<t.length;c++){var h=s[this.codemap.indexOf(a[c])];if(h){var f=a.substring(0,c),p=a.substring(c+1,l);a=f+h+p}}return console.log("code="+a),a}solvepuzzle(){console.log("solved it!"),this.codesolved=!0,this.highlightedletter=" ",this.buttonTextChange.emit("Close"),this.codepuzzleinstructions="Solved!",this.puzzleSolved.emit()}adjustLetter(t,r,i){if(0==r&&0==i)return t.toUpperCase();if(0==i){var o=this.codetargetarray[r-1];if("."==o[o.length-1]||"i"==this.codetargetarray[r][i]&&1==this.codetargetarray[r].length||"h"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=9&&"a"==this.codetargetarray[r][i+1]&&"m"==this.codetargetarray[r][i+2]||"m"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"a"==this.codetargetarray[r][i+1]&&"r"==this.codetargetarray[r][i+2]||"t"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"a"==this.codetargetarray[r][i+1]&&"b"==this.codetargetarray[r][i+2]||"b"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"u"==this.codetargetarray[r][i+1]&&"r"==this.codetargetarray[r][i+2]||"l"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"o"==this.codetargetarray[r][i+1]&&"n"==this.codetargetarray[r][i+2]||"c"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=7&&"h"==this.codetargetarray[r][i+1]&&"a"==this.codetargetarray[r][i+2])return t.toUpperCase()}return t}handleKeyboardEvent(t){if("ArrowLeft"==t.key?(0!=this.highlighted_i||0!=this.highlighted_j)&&(0==this.highlighted_j?(this.highlighted_i-=1,this.highlighted_j=0):this.highlighted_j-=1,this.highlightedletter=this.codewordarray[this.highlighted_i][this.highlighted_j]):"ArrowRight"==t.key&&(this.highlighted_i!=this.codewordarray.length-1||this.highlighted_j!=this.codewordarray[this.codewordarray.length-1].length-1)&&(this.highlighted_j==this.codewordarray[this.highlighted_i].length-1?(this.highlighted_i+=1,this.highlighted_j=0):this.highlighted_j+=1,this.highlightedletter=this.codewordarray[this.highlighted_i][this.highlighted_j]),!this.codesolved&&(this.varsService.developer||t.shiftKey)&&"F4"==t.key)return this.solvepuzzle(),void this.prepareCode(this.whichCode,!0);if(!this.codesolved&&" "!=this.highlightedletter){var o=t.key;if(!/^[A-Za-z]/.exec(o)||"Enter"==o||"Shift"==o||"CapsLock"==o||"ArrowLeft"==o||"ArrowRight"==o||"ArrowUp"==o||"ArrowDown"==o||"PageUp"==o||"PageDown"==o||"Escape"==o||"PrintScreen"==o||"Insert"==o||"Delete"==o||"Tab"==o||"Control"==o||"Alt"==o||"Home"==o||"End"==o||"Backspace"==o||"F1"==o||"F2"==o||"F3"==o||"F4"==o||"F5"==o||"F6"==o||"F7"==o||"F8"==o||"F9"==o||"F10"==o||"F11"==o||"F12"==o||"Pause"==o||"NumLock"==o||"ScrollLock"==o||"ContextMenu"==o)return;if(console.log("original key="+t.key+" and highlightedletter="+this.highlightedletter+" and inputletter="+this.inputletter),(!t.key||"Unidentified"==t.key)&&(o=this.inputletter),t.preventDefault(),o>="A"&&o<="Z"&&(o=o.toLowerCase()),console.log("key to use is "+o),o>="a"&&o<="z"){for(var s=0;s<this.codewordarray.length;s++)for(var a=this.codewordarray[s],l=0;l<a.length;l++)a[l]==o?this.codewordarray[s][l]=this.highlightedletter:a[l]==this.highlightedletter&&(this.codewordarray[s][l]=o);this.highlightedletter=o,this.inputletter=o,console.log("highlightedletter now="+this.highlightedletter)}for(s=0;s<this.codewordarray.length;s++){a=this.codewordarray[s];var c=this.codetargetarray[s];for(l=0;l<a.length;l++)if(a[l]>="a"&&a[l]<="z"&&a[l]!=c[l])return}this.solvepuzzle()}}shorten(){this.inputletter.length>1&&(console.log("old inputletter="+this.inputletter),this.inputletter=this.inputletter[this.inputletter.length-1],console.log("new inputletter="+this.inputletter))}}return n.\u0275fac=function(t){return new(t||n)(M(L0))},n.\u0275cmp=Gn({type:n,selectors:[["codepuzzle"]],hostBindings:function(t,r){1&t&&N("keyup",function(o){return r.handleKeyboardEvent(o)},0,Wu)},inputs:{whichCode:"whichCode"},outputs:{buttonTextChange:"buttonTextChange",puzzleSolved:"puzzleSolved"},features:[$t],decls:13,vars:5,consts:[[2,"font-size","18px","font-weight","bold","margin-top","20px"],["style","display:inline-block;",4,"ngFor","ngForOf"],["id","singlekeydiv",3,"ngClass"],["type","text","id","inputField","autofocus","","maxlength","1",2,"width","38px",3,"ngModel","ngModelChange","click","input"],["singlekey",""],["id","helptext"],[2,"display","inline-block"],["class","codeletter",4,"ngFor","ngForOf"],[1,"codeletter"],["style","  color:white;",4,"ngIf"],[2,"color","white"],[4,"ngIf"],[1,"letter-solved",2,"color","rgb(102, 172, 177)","cursor","default"],[2,"color","red","cursor","pointer",3,"click"],[2,"color","yellow","text-decoration","none","cursor","pointer",3,"click"],[2,"color","rgb(102, 172, 177)","cursor","default"]],template:function(t,r){if(1&t){const i=se();y(0,"div",0),v(1),g(),F(2,"br")(3,"br"),A(4,RV,3,1,"div",1),F(5,"br")(6,"br"),y(7,"div")(8,"div",2)(9,"input",3,4),N("ngModelChange",function(s){return r.inputletter=s})("click",function(){return W(i),K(Od(10).select())})("input",function(){return r.shorten()}),g()(),y(11,"div",5),v(12),g()()}2&t&&(w(1),er(r.codehint),w(3),C("ngForOf",r.codewordarray),w(4),C("ngClass",r.codesolved?"invisible":"visible"),w(1),C("ngModel",r.inputletter),w(3),Ue(" ",r.codepuzzleinstructions," "))},dependencies:[uC,Oh,to,co,Kl,Zf,Hf],styles:["#singlekeydiv[_ngcontent-%COMP%] {\n    display: inline-block;\n   }\n\n   #helptext[_ngcontent-%COMP%] {\n    display: inline-block;\n    margin-left: 15px;\n    font-size:12px;\n    color:white;\n   }\n\n  .codeletter[_ngcontent-%COMP%] {\n    line-height:26px;\n    font-size:30px;\n    display:inline-block;\n  }\n\n  .visible[_ngcontent-%COMP%] {\n    visibility: normal;\n  }\n  .invisible[_ngcontent-%COMP%] {\n    visibility: hidden;\n  }\n\n  .letter-solved[_ngcontent-%COMP%] {\n    top: 0px;\n  }\n\n  @media screen and (max-width:720px) {\n    .codeletter[_ngcontent-%COMP%] {\n        line-height: 20px;\n        font-size: 24px;\n    }\n  }"],data:{animation:[Fn("letterAnim",[Me("one",ve({color:"lightblue"})),Me("two",ve({color:"pink"})),Me("three",ve({color:"yellow"})),Me("four",ve({color:"orange"})),Me("five",ve({color:"lightgreen"})),Me("six",ve({color:"silver"})),Me("seven",ve({color:"violet"})),Me("eight",ve({color:"lightred"})),tt("* => *",[et(".4s")])])]}}),n})();const FV=["unity"];function LV(n,e){1&n&&F(0,"span",29)}function VV(n,e){if(1&n){const t=se();y(0,"div",30)(1,"a",11),N("click",function(){return W(t),K(D().toggleShowCluesText())}),y(2,"span"),v(3,"Clues: \xa0"),g(),y(4,"span",31),v(5),g()()()}if(2&n){const t=D();w(5),Yi("",t.num_clues,"/",t.maxClues,"")}}function BV(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function $V(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function UV(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function jV(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function HV(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function zV(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function GV(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function qV(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function WV(n,e){1&n&&(y(0,"span",32),v(1,"Q"),g())}function KV(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function QV(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function YV(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function ZV(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function JV(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function XV(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function eB(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function tB(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function nB(n,e){1&n&&(y(0,"span",33),v(1,"Q"),g())}function rB(n,e){if(1&n){const t=se();y(0,"div",52),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(0))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(0))}function iB(n,e){if(1&n){const t=se();y(0,"div",53),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(1))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(1))}function oB(n,e){if(1&n){const t=se();y(0,"div",54),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(2))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(2))}function sB(n,e){if(1&n){const t=se();y(0,"div",55),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(3))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(3))}function aB(n,e){if(1&n){const t=se();y(0,"div",56),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(4))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(4))}function lB(n,e){if(1&n){const t=se();y(0,"div",57),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(5))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(5))}function cB(n,e){if(1&n){const t=se();y(0,"div",58),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(6))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(6))}function uB(n,e){if(1&n){const t=se();y(0,"div",59),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(7))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(7))}function dB(n,e){if(1&n){const t=se();y(0,"div",60),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(8))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(8))}function hB(n,e){if(1&n){const t=se();y(0,"div",61),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(9))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(9))}function fB(n,e){if(1&n){const t=se();y(0,"div",62),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(10))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(10))}function pB(n,e){if(1&n){const t=se();y(0,"div",63),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(11))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(11))}function gB(n,e){if(1&n){const t=se();y(0,"div",64),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(12))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(12))}function mB(n,e){if(1&n){const t=se();y(0,"div",65),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(13))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(13))}function yB(n,e){if(1&n){const t=se();y(0,"div",66),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(14))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(14))}function _B(n,e){if(1&n){const t=se();y(0,"div",67),N("@romTrigger.done",function(){return W(t),K(D(2).afterRomBlink(15))}),g()}2&n&&C("@romTrigger",D(2).determineBlink(15))}function vB(n,e){if(1&n&&(y(0,"div",34)(1,"span"),v(2,"R Level: \xa0"),g(),y(3,"span"),v(4),g(),y(5,"div",35),A(6,rB,1,1,"div",36),A(7,iB,1,1,"div",37),A(8,oB,1,1,"div",38),A(9,sB,1,1,"div",39),A(10,aB,1,1,"div",40),A(11,lB,1,1,"div",41),A(12,cB,1,1,"div",42),A(13,uB,1,1,"div",43),A(14,dB,1,1,"div",44),A(15,hB,1,1,"div",45),A(16,fB,1,1,"div",46),A(17,pB,1,1,"div",47),A(18,gB,1,1,"div",48),A(19,mB,1,1,"div",49),A(20,yB,1,1,"div",50),A(21,_B,1,1,"div",51),g()()),2&n){const t=D();w(4),er(t.r_level),w(2),C("ngIf",t.rombarfillwidth>=1),w(1),C("ngIf",t.rombarfillwidth>=7),w(1),C("ngIf",t.rombarfillwidth>=13),w(1),C("ngIf",t.rombarfillwidth>=20),w(1),C("ngIf",t.rombarfillwidth>=26),w(1),C("ngIf",t.rombarfillwidth>=32),w(1),C("ngIf",t.rombarfillwidth>=38),w(1),C("ngIf",t.rombarfillwidth>=44),w(1),C("ngIf",t.rombarfillwidth>=51),w(1),C("ngIf",t.rombarfillwidth>=57),w(1),C("ngIf",t.rombarfillwidth>=63),w(1),C("ngIf",t.rombarfillwidth>=69),w(1),C("ngIf",t.rombarfillwidth>=75),w(1),C("ngIf",t.rombarfillwidth>=82),w(1),C("ngIf",t.rombarfillwidth>=88),w(1),C("ngIf",t.rombarfillwidth>=94)}}function wB(n,e){if(1&n){const t=se();y(0,"div",68),F(1,"tutorial",69)(2,"br")(3,"br"),y(4,"button",70),N("click",function(){return W(t),K(D().onSubmit())}),v(5,"OK"),g()()}if(2&n){const t=D();w(1),C("whichTutorialView",t.whichTutorialView)}}function CB(n,e){1&n&&F(0,"div",78)}function bB(n,e){if(1&n){const t=se();y(0,"div",79)(1,"a",80),N("click",function(){W(t);const i=D().index;return K(D(2).doCodePuzzle(i))}),v(2,"???"),g()()}}function DB(n,e){if(1&n&&(y(0,"div",81),v(1),g()),2&n){const t=D().index,r=D(2);w(1),Ue(" ",r.getClueText(t)," ")}}function EB(n,e){if(1&n&&(y(0,"div",74)(1,"div"),A(2,CB,1,0,"div",75),A(3,bB,3,0,"div",76),A(4,DB,2,1,"div",77),g()()),2&n){const t=e.index,r=D(2);w(2),C("ngIf",0==r.clues[t]),w(1),C("ngIf",1==r.clues[t]),w(1),C("ngIf",2==r.clues[t])}}function SB(n,e){if(1&n){const t=se();y(0,"div",71)(1,"div",72),v(2,"CLUES FOUND"),g(),F(3,"br")(4,"br"),A(5,EB,5,3,"div",73),F(6,"br")(7,"br"),y(8,"button",70),N("click",function(){return W(t),K(D().onSubmit())}),v(9,"OK"),g()()}if(2&n){const t=D();w(5),C("ngForOf",t.clues)}}function MB(n,e){if(1&n&&(y(0,"div",78),v(1),g()),2&n){const t=D().index,r=D(2);w(1),Yi(" ",r.addPrecedingZero(t.toString())," ",r.getLocationName(t.toString())," ")}}function TB(n,e){if(1&n&&(y(0,"span",91),v(1),g()),2&n){const t=D(2).index,r=D(2);w(1),Yi(" ",r.addPrecedingZero(t.toString())," ",r.getLocationName(t.toString())," ")}}function IB(n,e){if(1&n&&(y(0,"span"),v(1),g()),2&n){const t=D(2).index,r=D(2);w(1),Yi(" ",r.addPrecedingZero(t.toString())," ",r.getLocationName(t.toString())," ")}}function AB(n,e){if(1&n){const t=se();y(0,"div")(1,"a",89),N("click",function(){W(t);const i=D().index;return K(D(2).clickLocation(i))}),A(2,TB,2,2,"span",90),A(3,IB,2,2,"span",19),g()()}if(2&n){const t=D().index,r=D(2);w(2),C("ngIf",r.locationUpdated(t)),w(1),C("ngIf",!r.locationUpdated(t))}}function xB(n,e){if(1&n&&(y(0,"div",88)(1,"div"),A(2,MB,2,2,"div",75),A(3,AB,4,2,"div",19),g()()),2&n){const t=e.index,r=D(2);w(2),C("ngIf",!r.locationIsKnown(t)),w(1),C("ngIf",r.locationIsKnown(t))}}const kB=function(){return[]};function NB(n,e){if(1&n){const t=se();y(0,"div",82)(1,"div",83),v(2,"LOCATIONS"),g(),y(3,"div",84),A(4,xB,4,2,"div",85),y(5,"div",86)(6,"button",87),N("click",function(){return W(t),K(D().onSubmit())}),v(7,"OK"),g()()()()}if(2&n){const t=D();w(4),C("ngForOf",Bv(1,kB).constructor(t.NUM_LOCS))}}function PB(n,e){if(1&n){const t=se();y(0,"div",92)(1,"a",11),N("click",function(){return W(t),K(D().toggleShowKnownLocations())}),v(2),g()()}if(2&n){const t=D();w(2),Ue(" ",t.location_name," ")}}function RB(n,e){if(1&n&&(y(0,"div")(1,"span",94),v(2),g(),y(3,"span",95),v(4),g()()),2&n){const t=D(2);w(2),Ue(" ",t.getMood()," "),w(2),Ue(" ",t.getMood()," ")}}function OB(n,e){if(1&n&&(y(0,"div")(1,"span",96),v(2),g(),y(3,"span",97),v(4),g()()),2&n){const t=D(2);w(2),Ue(" ",t.getMood()," "),w(2),Ue(" ",t.getMood()," ")}}function FB(n,e){if(1&n){const t=se();y(0,"div"),A(1,RB,5,2,"div",19),A(2,OB,5,2,"div",19),y(3,"div",93),N("@moodRecoveredTrigger.done",function(){return W(t),K(D().afterMoodRecovered())}),y(4,"span"),v(5," Mood Recovered "),g()()()}if(2&n){const t=D();w(1),C("ngIf",0==t.mood),w(1),C("ngIf",0!=t.mood),w(1),C("@moodRecoveredTrigger",t.moodRecovered?"faded_in":"faded_out")}}function LB(n,e){if(1&n){const t=se();y(0,"div")(1,"a",101),N("click",function(){return W(t),K(D(2).loadMore())}),v(2,"Load more"),g()()}}function VB(n,e){if(1&n&&(y(0,"div",104)(1,"div",105),v(2),g()()),2&n){const t=D().$implicit,r=D(2);w(2),Ue(" ",r.processMessage(t.msgtext)," ")}}function BB(n,e){if(1&n&&(y(0,"div",106)(1,"div",107),v(2),g()()),2&n){const t=D().$implicit,r=D(2);w(2),Ue(" ",r.processMessage(t.msgtext)," ")}}function $B(n,e){if(1&n&&(y(0,"div"),A(1,VB,3,1,"div",102),A(2,BB,3,1,"div",103),g()),2&n){const t=e.$implicit;w(1),C("ngIf",0==t.isbot),w(1),C("ngIf",t.isbot)}}function UB(n,e){if(1&n&&(y(0,"div",112)(1,"div",105),v(2),g()()),2&n){const t=D().$implicit,r=D(2);w(2),Ue(" ",r.processMessage(t.msgtext)," ")}}function jB(n,e){if(1&n&&(y(0,"div",113)(1,"div",107),v(2),g()()),2&n){const t=D().$implicit,r=D(2);C("@newMessage","expand"),w(2),Ue(" ",r.processMessage(t.msgtext)," ")}}function HB(n,e){if(1&n&&(y(0,"div",114)(1,"div",107),v(2),g()()),2&n){const t=D().$implicit,r=D(2);w(2),Ue(" ",r.processMessage(t.msgtext)," ")}}function zB(n,e){if(1&n&&(y(0,"div",115)(1,"div",107),v(2),g()()),2&n){const t=D().$implicit,r=D(2);C("@newMessage","expand"),w(2),Ue(" ",r.processMessage(t.msgtext)," ")}}function GB(n,e){if(1&n&&(y(0,"div"),A(1,UB,3,1,"div",108),A(2,jB,3,2,"div",109),A(3,HB,3,1,"div",110),A(4,zB,3,2,"div",111),g()),2&n){const t=e.$implicit;w(1),C("ngIf",0==t.isbot),w(1),C("ngIf",!t.isdevil&&!t.iscrysanthea&&t.isbot),w(1),C("ngIf",t.isdevil&&t.isbot),w(1),C("ngIf",t.iscrysanthea&&t.isbot)}}function qB(n,e){if(1&n&&(y(0,"div",98),A(1,LB,3,0,"div",19),A(2,$B,3,2,"div",99),F(3,"br")(4,"br"),A(5,GB,5,4,"div",99),F(6,"div",100),g()),2&n){const t=D();w(1),C("ngIf",t.moreHistoryToLoad),w(1),C("ngForOf",t.messages_history),w(3),C("ngForOf",t.messages_emitted)}}function WB(n,e){if(1&n){const t=se();y(0,"div")(1,"label"),v(2,"Animation control:"),g(),y(3,"button",125),N("click",function(){return W(t),K(D(2).doChereeAnimation(0))}),v(4,"Start"),g(),y(5,"button",125),N("click",function(){return W(t),K(D(2).doStopAnimation())}),v(6,"Stop"),g(),y(7,"button",125),N("click",function(){return W(t),K(D(2).doCameraToLeft())}),v(8,"Left"),g(),y(9,"button",125),N("click",function(){return W(t),K(D(2).doCameraToRight())}),v(10,"Right"),g()()}}function KB(n,e){if(1&n){const t=se();y(0,"form",116,117),N("ngSubmit",function(){return W(t),K(D().onSubmit())}),y(2,"div")(3,"div",118),F(4,"input",119,120),g(),y(6,"div",121)(7,"button",122),v(8,"THINK IT"),g()(),y(9,"div",123)(10,"a",124),N("click",function(){return W(t),K(D().onQuit())}),v(11,"Quit"),g()()(),A(12,WB,11,0,"div",19),g()}if(2&n){const t=D();C("formGroup",t.chatForm),w(7),C("disabled",t.loadingRoom),w(5),C("ngIf",t.varsService.developer)}}function QB(n,e){if(1&n){const t=se();y(0,"div",126)(1,"codepuzzle",127),N("buttonTextChange",function(i){return W(t),K(D().updateCodePuzzleButtonText(i))})("puzzleSolved",function(){return W(t),K(D().puzzlesolved())}),g(),F(2,"br"),y(3,"div",86)(4,"button",70),N("click",function(){return W(t),K(D().onSubmit())}),v(5),g()()()}if(2&n){const t=D();w(1),C("whichCode",t.doingcode),w(4),er(t.codePuzzleButtonText)}}let YB=(()=>{class n{constructor(t,r,i,o,s,a){this.chatService=t,this.activatedRoute=r,this.router=i,this.formBuilder=o,this.eventEmitterService=s,this.varsService=a,this.messages_emitted=[],this.messages_history=[],this.invalidMessage="",this.maxLengthMsg=100,this.loadingRoom=!1,this.username="",this.imgpath="assets/limbo.jpg",this.imgpath_m="assets/limbom.jpg",this.imgpath_s="assets/limbos.jpg",this.clues=[0,0,0,0,0,0,0,0,0],this.num_clues=0,this.r_pts=0,this.r_next=0,this.r_level="0",this.rombarfillwidth=0,this.romBlink=!1,this.whichBlink=-1,this.blinkCounter=0,this.seenMellen=!1,this.NUM_LOCS=56,this.loc="",this.location_name="Nowhere",this.showKnownLocations=!1,this.all=[],this.locationTitleShowable=!1,this.needscrolldown=!1,this.formVisible=!0,this.submitted=!1,this.messagesSubscription=new gt,this.messageHistorySubscription=new gt,this.moreHistoryToLoad=!1,this.showTutorialView=!1,this.whichTutorialView=-1,this.initial_oob_refresh=!0,this.newClueFade=!1,this.newClueText="",this.showCluesText=!1,this.newLevelUp=!1,this.maxClues=4,this.nextback="",this.transitionIn=!0,this.countdown_to_free_volley=0,this.fadeUnity=!0,this.fadeBack=!1,this.fadeDarken=!0,this.mellenVisible=!0,this.rotating=!1,this.rotate_left=!0,this.chereeAnimFrozen=!1,this.melAnimFrozen=!1,this.displayChat=!0,this.displayChatText="HIDE",this.displayCodePuzzle=!1,this.doingcode=-1,this.codePuzzleButtonText="Close",this.codePuzzleSolved=!1,this.allowEnterToCloseCodePuzzle=!1,this.mood=0,this.devil=0,this.moodRecovered=!1,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.chatForm=new oi({msg:new si("",[Gl.minLength(1),Gl.maxLength(this.maxLengthMsg)])})}afterTransition(){this.transitionIn?this.countdown_to_free_volley>0&&(this.countdown_to_free_volley-=1,0==this.countdown_to_free_volley&&(console.log("countdown_to_free_volley=0"),this.chatService.sendMessage(new Vs(this.username,"[astravel]")),this.setLocationName(),this.seenMellen&&1!=Math.floor(3*Math.random())&&"52"!=this.loc&&this.showMellen())):(this.transitionIn=!0,this.fadeDarken=!1,""!=this.nextback&&(this.imgpath="assets/"+this.nextback+".jpg",this.imgpath_m="assets/"+this.nextback+"m.jpg",this.imgpath_s="assets/"+this.nextback+"s.jpg",this.nextback=""))}afterNewClueFade(){this.newClueFade=!1,this.newLevelUp=!1}determineBlink(t){return this.whichBlink==t&&this.romBlink?"blink_out":"blink_in"}afterRomBlink(t){this.whichBlink==t&&(this.blinkCounter>0?(this.romBlink=!this.romBlink,this.blinkCounter-=1):this.romBlink=!1)}afterLevelUp(){this.newLevelUp=!1}afterMoodRecovered(){this.moodRecovered=!1}get_username(){const t=localStorage.getItem("stored");this.username=null!==t?JSON.parse(t):"",console.log("got username "+this.username)}ngOnInit(){this.loadingRoom=!0,this.get_username(),""==this.username&&this.router.navigate(["/home"]),this.chatService.createRoom(this.username),this.chatService.doneCreateRoom().subscribe(()=>{console.log("room created"),this.loadingRoom=!1,this.formVisible=!0,this.messageHistorySubscription=this.chatService.getInitialChatHistory().subscribe(t=>{console.log("received new chat history from socket service"),this.processNewMessageHistory(t),this.needscrolldown=!0,0==this.chatService.skip_size&&(console.log("first batch of history for username="+this.username),this.chatService.sendMessage(new Vs(this.username,"refresh clear")))})}),this.messagesSubscription=this.chatService.getMessages().subscribe(t=>{console.log("received new message="+t.msgtext);var r=-1,i=-1;if(t.oobstring){var o=new b2(t.oobstring);if(-1!=o.y&&(i=o.y,console.log("system code="+i),this.doSystemCode(i),0==o.y&&(this.all=o.all,this.all[1]>=1&&(this.locationTitleShowable=!0))),""!=o.l&&(this.loc=o.l,0==i?(this.nextback=this.loc,this.setLocationName(),console.log("loc refreshed to "+o.l+" location name="+this.location_name),this.all=o.all):0==this.countdown_to_free_volley&&(this.nextback=this.loc,console.log("loc will change to "+o.l),this.countdown_to_free_volley=3,this.transitionIn=!1,this.seenMellen&&1!=Math.floor(3*Math.random())&&this.hideMellen())),0!=o.num_clues){if(0!=i)for(var s=0;s<9;s++)if(this.clues[s]!=o.clues[s]){this.doCodePuzzle(s);break}this.clues=o.clues,this.num_clues=o.num_clues,console.log("clues="+this.clues.toString()+" num_clues="+this.num_clues)}if(0!=o.r_pts){var c=this.rombarfillwidth;this.r_pts=o.r_pts,this.r_next=o.r_next,this.r_level!=o.r_level&&(this.r_level=o.r_level,this.initial_oob_refresh||(this.newLevelUp=!0)),this.rombarfillwidth=~~(100*this.r_pts/this.r_next),this.rombarfillwidth>c&&(this.whichBlink=~~(this.rombarfillwidth/6),console.log("whichBlink="+this.whichBlink.toString()),this.blinkCounter=10,this.romBlink=!0),console.log("rlevel="+this.r_level+" rombarfillwidth="+this.rombarfillwidth)}if(-1!=o.a&&(r=o.a),-1!=o.t&&(this.whichTutorialView=o.t,this.showTutorialView=!0),-1!=o.m&&(0==o.m&&this.mood>0&&(this.moodRecovered=!0),this.mood=o.m),-1!=o.o&&(i=o.o,console.log("test system code="+i),this.doSystemCode(i)),o.sc&&this.toggleShowCluesText(),""!=o.new_loc){for(var u=o.new_loc,d=0;d<u.length;){var h=u.substring(d,d+2),f=parseInt(h);this.all[f]=1,console.log("set n "+f.toString()+" to 1"),d+=2}this.all[1]>=1&&(this.locationTitleShowable=!0),console.log("locationTitleShowable="+this.locationTitleShowable.toString())}if(""!=o.update_loc){var p=parseInt(o.update_loc);this.all[p]=2,console.log("set u "+p.toString()+" to w")}(this.initial_oob_refresh||o.w>0||-1!=o.devil)&&(this.initial_oob_refresh=!1,o.w>=3&&(this.maxClues=9),1==o.w?(this.fadeUnity=!1,this.fadeDarken=!1):2==o.w||3==o.w||4==o.w||7==o.w?(this.seenMellen=!0,this.fadeUnity=!1,this.fadeDarken=!1):(5==o.w||6==o.w)&&(this.seenMellen=!1,this.fadeUnity=!1,this.fadeDarken=!1),0==o.devil?this.devil=0:1==o.devil?(this.fadeUnity=!0,this.fadeDarken=!0,this.devil=1):2==o.devil&&(this.fadeUnity=!0,this.fadeDarken=!1,this.devil=2))}-1==r&&(r=this.analyzeOutput(t.msgtext)),-1!=r&&(console.log("animation code="+r),this.doAnimationCode(r)),t.isbot=!0,console.log("sys code = "+i.toString()+" emitted_message = "+t.msgtext),(0!=i||""!=t.msgtext)&&(1==this.devil?t.isdevil=!0:2==this.devil&&(t.iscrysanthea=!0),this.messages_emitted.push(t),this.displayChat=!0,this.displayChatText="HIDE",this.needscrolldown=!0)})}processNewMessageHistory(t){console.log("processing new history with length="+t.length.toString());for(var r=0;r<t.length;r++){var i=t[r];console.log("message="+i.msgtext),i.createdAt=this.formatDate(i.createdAt),""!=i.msgtext&&this.messages_history.unshift(i)}this.moreHistoryToLoad=!!this.chatService.moreToLoad(),console.log("moretoload="+this.moreHistoryToLoad)}loadMore(){console.log("loadMore"),this.messageHistorySubscription=this.chatService.getMoreChatHistory().subscribe(t=>{this.processNewMessageHistory(t)})}ngOnDestroy(){this.chatService.offSocket()}resetData(){this.clues=[0,0,0,0,0,0,0,0,0],this.num_clues=0,this.r_pts=0,this.r_next=0,this.r_level="0",this.rombarfillwidth=0,this.loc="",this.location_name="nowhere",this.all=[],this.newClueText="",this.mellenVisible=!1,this.rotating=!1,this.displayChat=!0,this.displayChatText="HIDE"}sendMessage(t){if(t||(t=""),this.countdown_to_free_volley>0&&""==t)return;console.log("sending message:"+t);let r=new Vs(this.username,t);this.chatService.sendMessage(r),null!=t&&""!=t&&this.messages_emitted.push(r),":reset"==t&&this.resetData(),"dev"==t&&(this.varsService.developer=!this.varsService.developer),this.needscrolldown=!0,this.submitted=!0}get f(){return this.chatForm.controls}onSubmit(){if(this.displayCodePuzzle){if(this.allowEnterToCloseCodePuzzle&&(console.log("close code puzzle"),this.displayCodePuzzle=!1,this.allowEnterToCloseCodePuzzle=!1,this.codePuzzleSolved&&-1!=this.doingcode)){this.newClueText=this.getClueText(this.doingcode),this.newClueFade=!0,console.log("sending message [ decipher "+this.doingcode.toString()+" ]");var t=new Vs(this.username,"[ decipher "+this.doingcode.toString()+" ]");this.chatService.sendMessage(t),this.doingcode=-1}}else if(this.showCluesText)console.log("close clues text"),this.showCluesText=!1;else if(this.showKnownLocations)console.log("close known locations"),this.showKnownLocations=!1;else if(this.showTutorialView)6==this.whichTutorialView||7==this.whichTutorialView?this.whichTutorialView+=1:(console.log("close system text"),this.showTutorialView=!1);else{console.log("Form Submitted !");var r=this.chatForm.get("msg")?.value;if(this.invalidMessage="",this.chatForm.invalid)return void(this.invalidMessage="invalid");this.sendMessage(r),this.chatForm.reset()}}formatDate(t){return t}ngAfterViewChecked(){this.needscrolldown&&(this.needscrolldown=!1,this.scroll_to_bottom())}scroll_to_bottom(){var t=document.getElementById("scrollview");t&&(t.scrollTop=t.scrollHeight)}messageClick(t){}toggleDisplayChat(){this.displayChat=!this.displayChat,this.displayChatText=this.displayChat?"HIDE":"SHOW"}copy(t){let r=document.createElement("textarea");r.style.position="fixed",r.style.opacity="0",r.value=t,document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r)}processMessage(t){return t&&t.replace(new RegExp("\n","g"),"<br />")}analyzeOutput(t){if(0!=this.devil)return-1;var o,r=-1,i=t.length;return((o=t.substring(0,3)).includes("No.")||o.includes("NO.")||o.includes("No,")||o.includes("No!")||o.includes("NO!"))&&(r=0,console.log("detected no. a="+r)),((o=t.substring(0,4)).includes("Yes.")||o.includes("YES.")||o.includes("Yes,")||o.includes("Yes!")||o.includes("YES!"))&&(r=1,console.log("detected yes. a="+r)),(t.substring(i-6,i-1).includes("Ehehe")||o.includes("ehehe")||o.includes("Hehe")||o.includes("hehe"))&&(r=2,console.log("detected laugh. a="+r)),(t.includes("I dunno")||t.includes("I don't know")||t.includes("I do not know"))&&(r=3,console.log("detected dunno. a="+r)),-1==r&&t.includes("...")&&(r=14,console.log("detected elipsis. a="+r)),-1==r&&t.includes("Mel, ")&&(r=63,console.log("detected react. a="+r)),-1==r&&t.includes(", Mel")&&(r=35,console.log("detected react. a="+r)),t.includes("murder")&&(r=62,console.log("detected murder. a="+r)),(t.includes("Mel tells")||t.includes("Mellen tells")||t.includes("Mel is telling")||t.includes("Mel is saying"))&&(r=65,console.log("detected mel says. a="+r)),(t.includes("Mel says")||t.includes("Mellen says")||t.includes("says Mel"))&&(r=60,console.log("detected mel says. a="+r)),-1==r&&i>250&&(r=i>350?6:i>300?5:4),-1==r&&this.melAnimFrozen&&(r=201,console.log("unfreeze mel"),this.melAnimFrozen=!1),-1==r&&this.chereeAnimFrozen&&(r=200,console.log("unfreeze cheree"),this.chereeAnimFrozen=!1),14==r&&(this.chereeAnimFrozen=!0),63==r&&(this.melAnimFrozen=!0),console.log("a="+r),r}doSystemCode(t){0==t||(1==t?this.fadeUnity=!0:2==t?this.fadeUnity=!1:3==t?this.fadeBack=!0:4==t?this.fadeBack=!1:6==t?this.hideMellen():7==t?(this.seenMellen=!0,this.showMellen()):8==t?this.eventEmitterService.onToggleDevil():9==t?this.fadeDarken=!0:10==t&&(this.fadeDarken=!1))}doAnimationCode(t){0==this.devil&&(200==t?this.doChereeAnimation(-1):201==t?this.doMellenAnimation(-1):t<50?(20==t&&(t=20+Math.floor(4*Math.random())),this.doChereeAnimation(t),(8==t||10==t)&&this.doMellenAnimation(t),26==t&&this.doMellenAnimation(t)):this.seenMellen&&this.doMellenAnimation(t))}doChereeAnimation(t){this.unity.doChereeAnimation(t)}doMellenAnimation(t){this.unity.doMellenAnimation(t)}doStopAnimation(){this.showMellen(),this.doCodePuzzle(1)}doCameraToLeft(){this.unity.doCameraToLeft(),this.fadeDarken=!1}doCameraToRight(){this.newClueFade=!this.newClueFade,this.unity.doCameraToRight(),this.hideMellen(),this.fadeDarken=!0}showMellen(){this.seenMellen&&(this.mellenVisible=!0,this.unity.showMellen())}hideMellen(){this.seenMellen&&(this.mellenVisible=!1,this.unity.hideMellen())}mouseDown(){this.rotating=!0,this.rotate_left=!0}mouseUp(){this.rotating=!1}ngAfterContentChecked(){this.rotating&&(this.unity.rotateCheree(this.rotate_left),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(this.rotate_left))}setChereeBase(t){this.unity.setChereeBase(t)}setMellenBase(t){this.unity.setMellenBase(t)}addPrecedingZero(t){return 1==t.length&&(t="0"+t),t}setLocationName(){this.location_name=this.getLocationName(this.loc)}getLocationName(t){var r="here";switch(t=this.addPrecedingZero(t)){case"01":r="Valley of Color";break;case"02":r="Steadwell Manse";break;case"03":r="Rollindale River";break;case"04":r="Lighthouse of Selsey";break;case"05":r="Botanic Room";break;case"06":r="Phong Nha Ke Bang";break;case"07":r="Doyle Estate";break;case"08":r="Plains of Heather";break;case"09":r="Heritage Centre";break;case"10":r="Willem Bluff";break;case"11":r="Devils Tower";break;case"12":r="Atlantis";break;case"13":r="Duggans Residence";break;case"14":r="Greenwich Industrial Sector";break;case"15":r="Rocky Mountains";break;case"16":r="Siberia";break;case"17":r="Matley Bog";break;case"18":r="African Savannah";break;case"19":r="Noisy Falls";break;case"20":r="Britely Hotel";break;case"21":r="Giza Pyramids";break;case"22":r="George Yard";break;case"23":r="Kentucky Maple Forest";break;case"24":r="Central Lowlands";break;case"25":r="Skies above";break;case"26":r="Kardec Room";break;case"27":r="Bohemian Grove";break;case"28":r="Kilauea";break;case"29":r="Samjhauta Express";break;case"30":r="Merlin Lake";break;case"31":r="Aegean Cliffs";break;case"32":r="Crimes Club";break;case"33":r="Wye Valley";break;case"34":r="Blackberry Fields";break;case"35":r="Kingley Vale";break;case"36":r="Private Garden";break;case"37":r="Gasherbrum Peaks";break;case"38":r="Reading Tree";break;case"39":r="Imabari";break;case"40":r="Hong Kong";break;case"41":r="Station Park";break;case"42":r="Gobi Desert";break;case"43":r="Bassey Study";break;case"44":r="Abbott Farm";break;case"45":r="East End";break;case"46":r="Christmas Parlour";break;case"47":r="St Martin Churchyard";break;case"48":r="Portchester Castle";break;case"49":r="Great Barrier Reef";break;case"50":r="Myeongdong Rooftop";break;case"51":r="Wasteland";break;case"52":r="South Willamette Infirmary";break;case"53":r="Lower Danube";break;case"54":r="Persian Bath";break;case"55":r="California Coast"}return r}locationIsKnown(t){return this.all[t]>=1}locationUpdated(t){return 2==this.all[t]}clickLocation(t){var r=this.addPrecedingZero(t.toString());this.chatService.sendMessage(new Vs(this.username,"go to "+r)),this.showKnownLocations=!1}toggleShowKnownLocations(){this.showKnownLocations=!this.showKnownLocations}toggleShowCluesText(){this.showCluesText=!this.showCluesText}getClueText(t){return 0==t?"Cheree died in the year 1891, away from home.":1==t?"Cheree died from a wound to her head.":2==t?"Cheree's body was found in Hampshire, UK.":3==t?"Cheree once imbibed chloroform.":4==t?"Martha Tabram may have been murdered with a bayonet.":5==t?"Faith's fiance Burton had been a guardsman in London.":6==t?"Faith conducted a seance which led Chauncy's investigation astray.":7==t?"Burton left the military despite achieving high rank.":8==t?"Cheree took a carriage ride she cannot remember to Hampshire, UK.":""}handleKeyboardEvent(t){if("Enter"==t.key||"Escape"==t.key){if(this.showKnownLocations||this.showTutorialView||this.showCluesText)return void this.onSubmit();if(this.displayCodePuzzle)return void this.onSubmit()}if("."==t.key||this.displayCodePuzzle||this.fadeUnity);else if("ArrowLeft"==t.key)for(var r=0;r<100;r++)this.unity.rotateCheree(!1),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(!1);else if("ArrowRight"==t.key)for(r=0;r<100;r++)this.unity.rotateCheree(!0),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(!0)}puzzlesolved(){this.clues[this.doingcode]=2,this.codePuzzleSolved=!0}doCodePuzzle(t){this.doingcode=t,this.showCluesText=!1,this.displayCodePuzzle=!0,setTimeout(()=>{this.allowEnterToCloseCodePuzzle=!0},500)}updateCodePuzzleButtonText(t){this.codePuzzleButtonText=t}getMood(){switch(this.mood){case 0:return"mood normal";case 1:return"agitated";case 2:return"flustered";case 3:return"neglected";case 4:return"misunderstood";case 5:return"interrogated";case 6:return"harassed"}return""}onQuit(){console.log("onQuit"),this.unity.closeUnity()}}return n.\u0275fac=function(t){return new(t||n)(M(ap),M(Sr),M(ze),M(c0),M(lp),M(L0))},n.\u0275cmp=Gn({type:n,selectors:[["interact"]],viewQuery:function(t,r){if(1&t&&Yv(FV,7),2&t){let i;Qa(i=function Ya(){return function bk(n,e){return n[19].queries[e].queryList}(T(),Ag())}())&&(r.unity=i.first)}},hostBindings:function(t,r){1&t&&N("keyup",function(o){return r.handleKeyboardEvent(o)},0,Wu)},decls:53,vars:42,consts:[["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["id","gamediv"],["id","scenery"],["id","sceneries"],["id","scenery-img","alt","",3,"src"],["id","scenery-img-m","alt","",3,"src"],["id","scenery-img-s","alt","",3,"src"],["id","newclue"],["id","cluesview",4,"ngIf"],[1,"cluesbar",2,"position","absolute"],["class","clue-r",4,"ngIf"],[1,"subtlelink",3,"click"],["class","clue-q",4,"ngIf"],["id","levelup"],["id","romview",4,"ngIf"],["class","tutorial-view",4,"ngIf"],["id","cluetextview",4,"ngIf"],["id","knownlocationsview",4,"ngIf"],["class","location-title",4,"ngIf"],[4,"ngIf"],["id","unitydiv",3,"mousedown","mouseup"],["unity",""],["id","scrollview",4,"ngIf"],["id","beneathscrollview"],[2,"color","royalblue","cursor","pointer","text-decoration","none",3,"click"],["id","form-div"],["autocomplete","off","class","form-container",3,"formGroup","ngSubmit",4,"ngIf"],["id","codepuzzleview",4,"ngIf"],["id","bottom_of_doc"],[1,"spinner-border","spinner-border-sm","mr-1"],["id","cluesview"],[2,"font-weight","normal"],[1,"clue-r"],[1,"clue-q"],["id","romview"],["id","rombar"],["class","rombarfill","style","left:10px;",4,"ngIf"],["class","rombarfill","style","left:15px;",4,"ngIf"],["class","rombarfill","style","left:20px;",4,"ngIf"],["class","rombarfill","style","left:25px;",4,"ngIf"],["class","rombarfill","style","left:30px;",4,"ngIf"],["class","rombarfill","style","left:35px;",4,"ngIf"],["class","rombarfill","style","left:40px;",4,"ngIf"],["class","rombarfill","style","left:45px;",4,"ngIf"],["class","rombarfill","style","left:50px;",4,"ngIf"],["class","rombarfill","style","left:55px;",4,"ngIf"],["class","rombarfill","style","left:60px;",4,"ngIf"],["class","rombarfill","style","left:65px;",4,"ngIf"],["class","rombarfill","style","left:70px;",4,"ngIf"],["class","rombarfill","style","left:75px;",4,"ngIf"],["class","rombarfill","style","left:80px;",4,"ngIf"],["class","rombarfill","style","left:85px;",4,"ngIf"],[1,"rombarfill",2,"left","10px"],[1,"rombarfill",2,"left","15px"],[1,"rombarfill",2,"left","20px"],[1,"rombarfill",2,"left","25px"],[1,"rombarfill",2,"left","30px"],[1,"rombarfill",2,"left","35px"],[1,"rombarfill",2,"left","40px"],[1,"rombarfill",2,"left","45px"],[1,"rombarfill",2,"left","50px"],[1,"rombarfill",2,"left","55px"],[1,"rombarfill",2,"left","60px"],[1,"rombarfill",2,"left","65px"],[1,"rombarfill",2,"left","70px"],[1,"rombarfill",2,"left","75px"],[1,"rombarfill",2,"left","80px"],[1,"rombarfill",2,"left","85px"],[1,"tutorial-view"],[3,"whichTutorialView"],["type","button",1,"btn-system","btn",2,"margin-bottom","15px",3,"click"],["id","cluetextview"],[1,"subwindowtitle"],["style","line-height:30px;",4,"ngFor","ngForOf"],[2,"line-height","30px"],["style","visibility:hidden;",4,"ngIf"],["style","cursor:pointer;",4,"ngIf"],["class","clue",4,"ngIf"],[2,"visibility","hidden"],[2,"cursor","pointer"],[3,"click"],[1,"clue"],["id","knownlocationsview"],[1,"subwindowtitle",2,"margin-bottom","25px"],["id","locations-scrollview"],["style","display:inline-block;",4,"ngFor","ngForOf"],[2,"margin-bottom","22px","margin-top","20px","padding-bottom","22px"],["type","button",1,"btn-system","btn",3,"click"],[2,"display","inline-block"],[1,"location-link",3,"click"],["style","color:#3a1;",4,"ngIf"],[2,"color","#3a1"],[1,"location-title"],["id","mood-recovered"],["id","mood-title-shadow"],["id","mood-title",2,"color","#cfc"],["id","mood-title-shadow",2,"color","gray"],["id","mood-title",2,"color","purple"],["id","scrollview"],[4,"ngFor","ngForOf"],["id","bottom_of_scroll"],[2,"color","royalblue","cursor","pointer",3,"click"],["class","container history-user",4,"ngIf"],["class","container history",4,"ngIf"],[1,"container","history-user"],[1,"message-right"],[1,"container","history"],[1,"message-left"],["class","container user",4,"ngIf"],["class","container msg-cheree",4,"ngIf"],["class","container msg-devil",4,"ngIf"],["class","container msg-crysanthea",4,"ngIf"],[1,"container","user"],[1,"container","msg-cheree"],[1,"container","msg-devil"],[1,"container","msg-crysanthea"],["autocomplete","off",1,"form-container",3,"formGroup","ngSubmit"],["input","ngForm"],[2,"margin-left","0px","margin-right","5px","display","inline-block"],["type","text","id","inputField","placeholder","Type message...","formControlName","msg","autofocus","",1,"form-container"],["msg",""],[2,"margin-left","5px","margin-right","0px","display","inline-block"],["id","inputSubmit","type","submit",1,"btn","btn-primary",3,"disabled"],["id","to-top"],[2,"cursor","pointer",3,"click"],["type","button",1,"btn-primary","btn",3,"click"],["id","codepuzzleview"],[3,"whichCode","buttonTextChange","puzzleSolved"]],template:function(t,r){1&t&&(F(0,"br"),A(1,LV,1,0,"span",0),y(2,"div",1)(3,"div",2)(4,"div",3)(5,"div")(6,"img",4),N("@BackTransition.done",function(){return r.afterTransition()}),g(),y(7,"img",5),N("@BackTransition.done",function(){return r.afterTransition()}),g(),y(8,"img",6),N("@BackTransition.done",function(){return r.afterTransition()}),g()()(),y(9,"div",7),N("@clueTrigger.done",function(){return r.afterNewClueFade()}),v(10),g(),A(11,VV,6,2,"div",8),y(12,"div",9),A(13,BV,2,0,"span",10),A(14,$V,2,0,"span",10),A(15,UV,2,0,"span",10),A(16,jV,2,0,"span",10),A(17,HV,2,0,"span",10),A(18,zV,2,0,"span",10),A(19,GV,2,0,"span",10),A(20,qV,2,0,"span",10),A(21,WV,2,0,"span",10),g(),y(22,"div",9)(23,"a",11),N("click",function(){return r.toggleShowCluesText()}),A(24,KV,2,0,"span",12),A(25,QV,2,0,"span",12),A(26,YV,2,0,"span",12),A(27,ZV,2,0,"span",12),A(28,JV,2,0,"span",12),A(29,XV,2,0,"span",12),A(30,eB,2,0,"span",12),A(31,tB,2,0,"span",12),A(32,nB,2,0,"span",12),g()(),y(33,"div",13),N("@levelUp.done",function(){return r.afterLevelUp()}),v(34," LEVEL UP "),g(),A(35,vB,22,17,"div",14),A(36,wB,6,1,"div",15),A(37,SB,10,1,"div",16),A(38,NB,8,2,"div",17),A(39,PB,3,1,"div",18),A(40,FB,6,3,"div",19),y(41,"div",20),N("mousedown",function(){return r.mouseDown()})("mouseup",function(){return r.mouseUp()}),F(42,"unity",null,21),g(),A(44,qB,7,3,"div",22),y(45,"div",23)(46,"a",24),N("click",function(){return r.toggleDisplayChat()}),v(47),g()()(),F(48,"br"),y(49,"div",25),A(50,KB,13,3,"form",26),g(),A(51,QB,6,2,"div",27),g(),F(52,"div",28)),2&t&&(w(1),C("ngIf",r.loadingRoom),w(3),C("@Darken",r.fadeDarken?"darken":"lighten"),w(1),C("@GeneralFade",r.fadeBack?"out":"in"),w(1),es("src",r.imgpath,ki),C("@BackTransition",r.transitionIn?"in":"out"),w(1),es("src",r.imgpath_m,ki),C("@BackTransition",r.transitionIn?"in":"out"),w(1),es("src",r.imgpath_s,ki),C("@BackTransition",r.transitionIn?"in":"out"),w(1),C("@clueTrigger",r.newClueFade?"faded_in":"faded_out"),w(1),Ue(" New clue :\xa0 ",r.newClueText," "),w(1),C("ngIf",!r.fadeUnity),w(2),C("ngIf",r.clues[0]>=1),w(1),C("ngIf",r.clues[1]>=1),w(1),C("ngIf",r.clues[2]>=1),w(1),C("ngIf",r.clues[3]>=1),w(1),C("ngIf",r.clues[4]>=1),w(1),C("ngIf",r.clues[5]>=1),w(1),C("ngIf",r.clues[6]>=1),w(1),C("ngIf",r.clues[7]>=1),w(1),C("ngIf",r.clues[8]>=1),w(3),C("ngIf",r.clues[0]>=1),w(1),C("ngIf",r.clues[1]>=1),w(1),C("ngIf",r.clues[2]>=1),w(1),C("ngIf",r.clues[3]>=1),w(1),C("ngIf",r.clues[4]>=1),w(1),C("ngIf",r.clues[5]>=1),w(1),C("ngIf",r.clues[6]>=1),w(1),C("ngIf",r.clues[7]>=1),w(1),C("ngIf",r.clues[8]>=1),w(1),C("@levelUp",r.newLevelUp?"show":"hide"),w(2),C("ngIf",!r.fadeUnity),w(1),C("ngIf",r.showTutorialView),w(1),C("ngIf",r.showCluesText),w(1),C("ngIf",r.showKnownLocations),w(1),C("ngIf",r.locationTitleShowable&&!r.fadeUnity),w(1),C("ngIf",!r.fadeUnity),w(1),C("@GeneralFade",r.fadeUnity?"out":"in"),w(3),C("ngIf",r.displayChat),w(3),er(r.displayChatText),w(3),C("ngIf",r.formVisible),w(1),C("ngIf",r.displayCodePuzzle))},dependencies:[Oh,to,zf,co,Kl,Pf,Ls,rc,pV,EV,OV],styles:["#gamediv[_ngcontent-%COMP%] {\n      background-color: rgba(155,255,255,0);\n      position:relative;\n      \n      padding-left:5px;\n      padding-right:0px;\n      padding-bottom:5px;\n      max-width: 98%;\n      z-index: 1;\n\n      \n    }\n\n    #unitydiv[_ngcontent-%COMP%] {\n      background-color: rgba(255,255,255,0);\n      position: absolute;\n      z-index: 1;\n      bottom:0px;\n      left:0px;\n      margin:auto;\n      width:86%;\n    }\n\n    #scrollview[_ngcontent-%COMP%] {\n      max-height: 40vh; \n      overflow-y:auto;\n      position: absolute;\n      bottom: 21px;\n      z-index: 3;\n      padding-left: 10px;\n      padding-right: 10px;\n      \n      \n      min-width: 350px;\n      max-width: 640px;\n    }\n  \n    #beneathscrollview[_ngcontent-%COMP%] {\n      position: absolute;\n      bottom: 4px;\n      left: 25px;\n      z-index: 2;\n      font-size: 12px;\n    }\n\n    \n\n    #levelups[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10%;\n      right: 5%;\n      width: 120px;\n      height: 38px;\n\n      z-index: 4;\n      \n\n      padding: 4px 2px;\n\n      font-size: 18px;\n      font-weight: bold;\n\n      margin: auto;\n\n      overflow-y: hidden;\n      \n    }\n\n    #levelup[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10%;\n      right: 5%;\n      width: 120px;\n      height: 38px;\n\n      z-index: 4;\n      \n\n      padding: 4px 2px;\n\n      font-size: 20px;\n      font-weight: bold;\n\n      margin: auto;\n\n      overflow-y: hidden;\n      color: red;\n    \n      background: -webkit-linear-gradient(left, red, gold); \n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      \n      background-image: -o-linear-gradient(right, red, gold); \n      background-image: -moz-linear-gradient(right, red, gold); \n      background-image: linear-gradient(to right, red, gold);   \n      background-clip: text;\n      color: transparent;\n    }\n\n    #newclue[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 20%;\n      left: 10%;\n      right: 10%;\n      min-width: 300px;\n      max-width: 480px;\n\n      z-index: 4;\n      background-color: rgb(241, 158, 222);\n\n      border: 2px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 18px;\n      font-weight: bold;\n      \n\n      margin: auto;\n    }\n\n    #cluesview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 15px;\n      right: 140px;\n      z-index: 2;\n      padding: 10px;\n      padding-top: 5px;\n      font-weight: bold;\n      color: white;\n      font-size: 16px;\n      \n      border: 2px solid white;\n      border-radius: 8px;\n      padding: 0px 12px;\n      border-color: black;\n      \n      background-color: #555;\n      color: white;\n      height: 29px;\n      max-width: max-content;\n      width: auto;\n      opacity: .7;\n    }\n\n    .cluesbar[_ngcontent-%COMP%] {\n      font-size: 16px;\n      margin-top: 5px;\n\n      position: absolute;\n      top: 35px;\n      right: 135px;\n      z-index: 2;\n      padding: 10px;\n      padding-top: 5px;\n    }\n\n    #cluesview[_ngcontent-%COMP%]:hover {\n      \n      background-color: #111;\n    }\n\n\n    .clue-q[_ngcontent-%COMP%] {\n      color: #952;\n      font-family: 'robotoslab',sans-serif;\n      font-weight:normal;\n      padding-right:1px;\n      padding-bottom:1px;\n    }\n\n    .clue-r[_ngcontent-%COMP%] {\n      color: black;\n      font-family: 'robotoslab',sans-serif;\n      font-weight:normal;\n      padding-left:1px;\n      padding-top:1px;\n    }\n\n    .subtlelink[_ngcontent-%COMP%] {\n      text-decoration: none;\n      color: white;\n      cursor: pointer;\n    }\n\n\n    #romview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      z-index: 1;\n      padding: 5px;\n      font-weight: bold;\n      color: white;\n      font-size: 16px;\n    }\n\n    #rombar[_ngcontent-%COMP%] {\n      background-color:white;\n      width: 81px;\n      height: 15px;\n      border: 1px;\n      border-style: solid;\n      border-color: pink;\n      margin: 5px;\n    }\n\n    .rombarfill[_ngcontent-%COMP%] {\n      background-color: black;\n      height: 13px;\n      margin: 0px 1px 1px;\n      width: 4px;\n      position: absolute;\n    }\n\n\n    #cluetextview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      left: 10px;\n      z-index: 4;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: max-content;\n      width: auto;\n      max-height: max-content;\n      margin: auto;\n    }\n\n    #knownlocationsview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      \n      left: 10px;\n      z-index: 4;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 4%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: max-content;\n      width: auto;\n      height: auto;\n      max-height: 620px;  \n\n      overflow-y: hidden;\n\n      bottom: 10px;\n    }\n\n    \n    #locations-scrollview[_ngcontent-%COMP%] {\n      overflow-y: auto;\n      padding-left: 10px;\n      padding-right: 10px;\n      width: auto;\n      height: auto;\n      max-height: 580px;\n    }\n\n    .location-link[_ngcontent-%COMP%] {\n      display: inline-block;\n      cursor: pointer;\n      color: rgb(138, 208, 240);\n      text-decoration: none;\n      padding: 5px 20px;\n      font-family: 'vera','Arial',sans-serif;\n    }\n\n    .tutorial-view[_ngcontent-%COMP%] {\n      position: absolute;\n      width: 380px;\n      max-width: max-content;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      max-height: max-content;\n      z-index: 5;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n      margin-left: 10px;\n\n      font-size: 16px;\n      color: white;\n    }\n\n    \n\n    .btn-system[_ngcontent-%COMP%] {\n      border: 1px;\n      border-style: groove;\n      border-color: black;\n      background-color: #ddd;\n      min-width: 80px;\n    }\n\n    .btn-system[_ngcontent-%COMP%]:hover {\n      border: 1px;\n      border-style: groove;\n      border-color: black;\n      background-color: #aaa;\n    }\n\n    #scenery[_ngcontent-%COMP%] {\n      position: relative;\n      z-index: 1;\n      text-align: center;\n      height:1024px;\n      margin-left:5px;\n      margin-right:0px;\n      padding-left:0px;\n      padding-right:0px;\n      overflow:hidden;\n\n      background-color: whitesmoke;\n\n      border: 2px;\n      border-style:ridge;\n      border-color: #aaa;\n    }\n\n    #sceneries[_ngcontent-%COMP%] {\n      filter: brightness(0);\n    }\n\n    \n\n    #form-div[_ngcontent-%COMP%] {\n      margin-left:5px;\n      margin-right:5px;\n    }\n\n\n    #scenery-img[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:1024px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    #scenery-img-m[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:800px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    #scenery-img-s[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:640px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    .actionspopup[_ngcontent-%COMP%] {\n      position: sticky; \n      padding-top: 15px; \n      float:right; \n      z-index:2;\n      margin-left: 10px;\n      margin-right: 10px;\n    }\n  \n    .action[_ngcontent-%COMP%] {\n      border: 0px;\n      border-style: solid;\n      padding: 1px 5px;\n      font-size: 14px;\n      z-index: 3;\n      margin-left: 2px;\n      margin-right: 2px;\n      max-height: 25px;\n      width: 25px;\n      color: dodgerblue;\n    }\n  \n    .action[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%] {\n      color: royalblue;\n      cursor: pointer;\n    }\n\n\n\n  \n  .container[_ngcontent-%COMP%] {\n    border: 2px solid #dedede;\n    background-color: #f1f1f1;\n    border-radius: 8px;\n    padding: 10px 12px;\n    margin: 10px 0;\n    \n    border-color: black;\n    \n    background-color: rgb(250, 169, 232);\n    color: black;\n    flex-wrap: wrap;\n\t\t\n\t\theight: auto;\n\t\tmax-width: max-content;\n    width: auto;\n  }\n\n\n  .msg-cheree[_ngcontent-%COMP%] {\n    opacity: 0;\n  }\n\n  \n  \n  \n  .user[_ngcontent-%COMP%] {\n    \n    \n    background-color: #eee;\n    color: black;\n  }\n\n  .msg-devil[_ngcontent-%COMP%] {\n    background-color: #111;\n    color: #f55;\n  }\n\n  .msg-crysanthea[_ngcontent-%COMP%] {\n    background-color: white;\n    color: #555;\n    font-weight: bold;\n    opacity: 0;\n  }\n\n   \n   .history[_ngcontent-%COMP%] {\n    \n    background-color: #666;\n    color: #ccd;\n  }\n\n   \n   .history-user[_ngcontent-%COMP%] {\n    \n    background-color: #888;\n    color: #ccd;\n  }\n  \n  \n  .container[_ngcontent-%COMP%]::after {\n    content: \"\";\n    clear: both;\n    display: table;\n  }\n  \n  \n  \n  .time-right[_ngcontent-%COMP%] {\n    float: right;\n    color: #aaa;\n    padding: 10px;\n    font-size: 12px;\n  }\n  \n  \n  .time-left[_ngcontent-%COMP%] {\n    float: left;\n    color: #999;\n    padding: 10px;\n    font-size: 12px;\n  }\n\n  .message-left[_ngcontent-%COMP%] {\n    float: left;\n    text-align: justify;\n    font-size: 16px;\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n  \n    margin: auto;\n  }\n\n  .message-right[_ngcontent-%COMP%] {\n    float: right;\n    text-align: justify;\n  }\n\n\n  \n.form-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\n    width: 95%;\n\n    padding: 10px;\n    margin: 0 0 0 0;\n    border: 1px;\n    border-style: solid;\n    background: #f1f1f1;\n    resize: none;\n    height: 46px;\n    \n  }\n\n  #bottom-locked[_ngcontent-%COMP%] {\n    bottom: 0px;\n    left: 0;\n    position: fixed;\n    right: 0;\n    margin: 25px;\n  }\n  \n  \n\n\n  #inputField[_ngcontent-%COMP%] {\n\t\tmargin-bottom:10px;\n    padding:7px 10px;\n    line-height: 16px;\n\t\tfont-size: 16px;\n\t\tmargin-left:5px;\n\t\tmargin-right:5px;\n    width: 330px;\n    font-family:Verdana, Geneva, Tahoma, sans-serif;  \n\t  }\n\n  #inputSubmit[_ngcontent-%COMP%] {\n    padding:10px 9px;\n    line-height: 18px;\n\t\tfont-size: 15px;\n\t\tmargin-left:5px;\n\t\tmargin-right:5px;\n    font-family: 'vera', Arial, 'Tahoma', sans-serif;\n    background-color: #610;\n    color: white;\n    border-color: #fcc;\n\t}\n\n  #inputSubmit[_ngcontent-%COMP%]:hover {\n    background-color: #a54;\n  }\n\n  .stat[_ngcontent-%COMP%] {\n    color: darkslategrey;\n    font-size: 18px;\n    padding: 2px 10px;\n  }\n\n  .location-title[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 15px;\n    left: 15px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    \n    border: 2px solid white;\n    background-color: #555;\n    \n    border-radius: 8px;\n    padding: 0px 12px;\n    border-color: black;\n    \n    \n    color: white;\n\t\theight: 29px;\n\t\tmax-width: max-content;\n    width: auto;\n    opacity: .7;\n  }\n\n  .location-title[_ngcontent-%COMP%]:hover {\n    background-color: #111;\n  }\n\n  #mood-title[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 20px;\n    left: 240px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    \n  }\n\n  #mood-title-shadow[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 21px;\n    left: 241px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    color: black;\n    \n  }\n\n\n  #codepuzzleview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      left: 15px;\n      z-index: 4;\n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: 800px;\n      width: auto;\n      max-height: max-content;\n      height: auto;\n      margin: auto;\n  \n\n      min-width: 250px;\n      min-height: 400px;\n  }\n\n\n  .clue[_ngcontent-%COMP%] {\n      font-style: italic; \n      font-family:'columbia','Times New Roman', serif;\n      font-size: 16px;\n  }\n\n  .subwindowtitle[_ngcontent-%COMP%] {\n    font-size:18px;\n    font-weight:bold;\n    color:#edc;\n    font-family:'playfair'; \n  }\n\n  #to-top[_ngcontent-%COMP%] {\n    font-size: 14px;\n    font-family:Verdana, Geneva, Tahoma, sans-serif;\n    \n    text-align: right;\n    float: right;\n    margin-left: 20px;\n  }\n\n  #mood-recovered[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 44px;\n    left: 240px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    color: white;\n  }\n\n\n    @media screen and (min-width:0px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:1024px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1600px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:800px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1140px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:640px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: inline-block;}\n\n    }\n\n    @media screen and (max-width:900) {\n      #codepuzzleview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      #knownlocationsview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      #cluetextview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      .tutorial-view[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      \n    }\n\n    @media screen and (max-width:720px) {\n\n      #mood-title[_ngcontent-%COMP%] {\n        top: 50px;\n        left: 10px;\n        padding: 10px;\n        font-size: 16px;\n      }\n      #mood-title-shadow[_ngcontent-%COMP%] {\n        top: 51px;\n        left: 11px;\n        padding: 10px;\n        font-size: 16px;\n      }\n      #mood-recovered[_ngcontent-%COMP%] {\n        top: 74px;\n        left: 10px;\n        padding: 10px;\n        font-size: 16px;\n      }\n\n      .clue[_ngcontent-%COMP%] {\n        font-size: 14px;\n      }\n\n    }\n \n    @media screen and (max-width:600px) {\n      \n      #cluesview[_ngcontent-%COMP%] {\n        top: 72px;\n        right: 10px;\n\n        padding-right: 5px;\n        font-size: 16px;\n      }\n\n      .cluesbar[_ngcontent-%COMP%] {\n        top: 92px;\n        right: 5px;\n      }\n\n      #inputField[_ngcontent-%COMP%] {\n        width: 260px;\n      }\n\n\n\n    }"],data:{animation:[Fn("clueTrigger",[Me("faded_in",ve({opacity:1})),Me("faded_out",ve({opacity:0})),tt("faded_out => faded_in",[et(".3s")]),tt("faded_in => faded_out",[et("4.5s 5s")])]),Fn("moodRecoveredTrigger",[Me("faded_in",ve({opacity:1})),Me("faded_out",ve({opacity:0})),tt("faded_out => faded_in",[et(".3s")]),tt("faded_in => faded_out",[et("2.5s 5s")])]),Fn("BackTransition",[Me("out",ve({backgroundColor:"orange",opacity:"0"})),Me("in",ve({backgroundColor:"purple",opacity:"1"})),tt("* => out",[et(2e3)]),tt("* => in",[et("2s .5s")])]),Fn("GeneralFade",[Me("out",ve({opacity:"0"})),Me("in",ve({opacity:"1"})),tt("* => out",[et("5s")]),tt("* => in",[et(2e3)])]),Fn("Darken",[Me("darken",ve({filter:"brightness(0%)"})),Me("lighten",ve({filter:"brightness(100%)"})),tt("* => darken",[et(4e3)]),tt("* => lighten",[et(2500)])]),Fn("romTrigger",[Me("blink_in",ve({filter:"opacity(100%)"})),Me("blink_out",ve({filter:"opacity(0%)"})),tt("* => blink_in",[et(150)]),tt("* => blink_out",[et(150)])]),Fn("newMessage",[Me("expand",ve({opacity:"1"})),tt("* => expand",[et(600)])]),Fn("levelUp",[Me("show",ve({opacity:1,height:"38px"})),Me("hide",ve({opacity:0,height:"0px"})),tt("hide => show",[et("2s")]),tt("show => hide",[et("6s 2s")])])]}}),n})();function ZB(n,e){if(1&n){const t=se();y(0,"div")(1,"div",2),v(2," Resume your game \xa0 \xa0 "),y(3,"span",10),v(4),g()(),y(5,"div",11)(6,"button",12),N("click",function(){return W(t),K(D().onResume())}),v(7," RESUME "),g()(),F(8,"br")(9,"br"),g()}if(2&n){const t=D();w(4),Ue(" ",t.username," ")}}function JB(n,e){1&n&&(y(0,"div",13),v(1," (forgetting old game) "),g())}function XB(n,e){if(1&n){const t=se();y(0,"form",14,15),N("ngSubmit",function(){return W(t),K(D().onBegin())}),y(2,"div",16)(3,"div",17),F(4,"input",18,19),g()(),y(6,"div",11)(7,"button",12),N("click",function(){return W(t),K(D().onBegin())}),v(8," BEGIN "),g()()()}2&n&&C("formGroup",D().beginForm)}function e3(n,e){1&n&&(y(0,"div",20)(1,"div",21)(2,"p"),v(3," This game/chat AI exists for entertainment. Your chat history is stored on the server in order to improve the game. It is never shared with third parties. Your chat history may be deleted after (normally) a month of inactivity. "),g(),y(4,"p"),v(5," The game will never ask for sensitive personal information such as credit card numbers or phone numbers and you should never share such information. "),g()()())}function t3(n,e){1&n&&(y(0,"div",22)(1,"div",21)(2,"p"),v(3," The game can be played on any browser including mobile. "),F(4,"br"),v(5,"Your data is saved automatically, and your username remembered for the device you begin the game on. "),g(),y(6,"p"),v(7," It is possible to migrate to a new device by doing the following: "),g(),y(8,"ol")(9,"li"),v(10,'On the old device, click or hover the cursor over "Resume your game".'),g(),y(11,"li"),v(12,'Copy down the username that appears to the right. (example: "Fred-J7CveP2w1b")'),g(),y(13,"li"),v(14,"On the new device, enter the username you copied into the 'your name' field and begin the game."),g()()()())}let B0=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.router=r,this.chatService=i,this.username="",this.maxNameLength=20,this.resumable=!1,this.showPrivacy=!1,this.showAbout=!1,this.beginForm=new oi({inputname:new si("",[Gl.minLength(1),Gl.maxLength(this.maxNameLength)])})}ngOnInit(){this.get_username(),""!=this.username&&(console.log("already had name = "+this.username),this.resumable=!0)}store_username(t){localStorage.setItem("stored",JSON.stringify(t)),console.log("set stored "+t)}get_username(){const t=localStorage.getItem("stored");this.username=null!==t?JSON.parse(t):"",console.log("got username "+this.username)}delete_username(){localStorage.removeItem("stored")}random_string(t=10){let r="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<t;o++)r+=i.charAt(Math.floor(Math.random()*i.length));return r}onBegin(){var t=this.beginForm.get("inputname")?.value;if(this.beginForm.reset(),t){if(this.beginForm.invalid)return void console.log("invalid name");var r="";r="Pablo"==t?"Pablo-123":-1!=t.indexOf("-")?t:t+"-"+this.random_string(),console.log("begun with name="+r),this.onDelete(),this.resumable=!0,this.store_username(r),this.username=r,this.router.navigate(["/game"])}}onResume(){this.get_username(),""!=this.username&&this.router.navigate(["/game"])}onDelete(){""!=this.username&&this.chatService.deleteUser(this.username),this.delete_username(),this.resumable=!1}togglePrivacy(){this.showPrivacy=!this.showPrivacy}toggleAbout(){this.showAbout=!this.showAbout}}return n.\u0275fac=function(t){return new(t||n)(M(c0),M(ze),M(ap))},n.\u0275cmp=Gn({type:n,selectors:[["home"]],decls:25,vars:5,consts:[[2,"margin","20px 5%"],[4,"ngIf"],[1,"title"],["style","font-size:14px; color:#aaa;",4,"ngIf"],["autocomplete","off","class","form-container","style","margin-top:0px;",3,"formGroup","ngSubmit",4,"ngIf"],[3,"click"],[1,"text-center"],[1,"reveal-info",3,"click"],["class","info","id","privacy",4,"ngIf"],["class","info","id","about",4,"ngIf"],["id","username"],[2,"margin-bottom","22px","margin-top","20px","padding-bottom","22px","display","inline-block"],["type","button",1,"btn-system",2,"margin-bottom","15px",3,"click"],[2,"font-size","14px","color","#aaa"],["autocomplete","off",1,"form-container",2,"margin-top","0px",3,"formGroup","ngSubmit"],["input","ngForm"],[2,"display","inline-block"],[2,"margin-left","0px","margin-right","10px","display","inline-block"],["type","text","id","inputField","placeholder","Your name","formControlName","inputname","autofocus","",1,"form-container"],["msg",""],["id","privacy",1,"info"],[2,"max-width","800px","color","white"],["id","about",1,"info"]],template:function(t,r){1&t&&(F(0,"br")(1,"br"),y(2,"div",0),A(3,ZB,10,1,"div",1),y(4,"div",2),v(5," Begin new game "),g(),A(6,JB,2,0,"div",3),A(7,XB,9,1,"form",4),v(8," \xa0 "),y(9,"a",5),N("click",function(){return r.onDelete()}),v(10,"DELETE"),g(),F(11,"br")(12,"br"),y(13,"div",6)(14,"a",7),N("click",function(){return r.togglePrivacy()}),v(15," Privacy Policy "),g()(),F(16,"br"),A(17,e3,6,0,"div",8),y(18,"div",6)(19,"a",7),N("click",function(){return r.toggleAbout()}),v(20," Migrating to a new device "),g()(),F(21,"br"),A(22,t3,15,0,"div",9),F(23,"br")(24,"br"),g()),2&t&&(w(3),C("ngIf",r.resumable),w(3),C("ngIf",r.resumable),w(1),C("ngIf",!0),w(10),C("ngIf",r.showPrivacy),w(5),C("ngIf",r.showAbout))},dependencies:[to,zf,co,Kl,Pf,Ls,rc],styles:[".title[_ngcontent-%COMP%] {\n        font-size: 22px;\n        color: white;\n    }\n\n    button[_ngcontent-%COMP%] {\n        background-color: #620;\n        color: white;\n        padding: 8px 12px;\n        border-radius: 8px;\n       \n        border: 1px;\n        border-style: solid;\n        border-color: grey;\n    }\n\n    button[_ngcontent-%COMP%]:hover {\n        background-color: #953;\n    }\n\n    #inputField[_ngcontent-%COMP%] {\n        width: 120px;\n    }\n\n    #username[_ngcontent-%COMP%] {\n        font-size:12px;\n        color:#888;\n        visibility: hidden;\n    }\n\n    .title[_ngcontent-%COMP%]:hover   #username[_ngcontent-%COMP%] { visibility: visible; }\n\n\n    .info[_ngcontent-%COMP%] {\n        margin:15px 30px;\n        align-items:center;\n        justify-content:center;\n        font-size:14px;\n    }\n\n    .reveal-info[_ngcontent-%COMP%] {\n        cursor:pointer;\n        color:#ccccee;\n        font-size:16px;\n        text-decoration: none;\n    }"]}),n})();const n3=[{path:"",component:B0},{path:"home",component:B0},{path:"game",component:YB}];let r3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({imports:[Af.forRoot(n3),Af]}),n})();function i3(n,e){1&n&&(y(0,"div",6)(1,"span",7),v(2," Remembering My Murder "),g()())}function o3(n,e){1&n&&F(0,"div",8)}function s3(n,e){if(1&n){const t=se();y(0,"div",9)(1,"img",10),N("@DevilTransition.done",function(){return W(t),K(D().afterTransition())}),g(),y(2,"img",11),N("@DevilTransition.done",function(){return W(t),K(D().afterTransition())}),g(),y(3,"img",12),N("@DevilTransition.done",function(){return W(t),K(D().afterTransition())}),g(),y(4,"img",13),N("@DevilTransition.done",function(){return W(t),K(D().afterTransition())}),g(),y(5,"img",14),N("@DevilTransition.done",function(){return W(t),K(D().afterTransition())}),g()()}if(2&n){const t=D();w(1),C("@DevilTransition",t.fadeDevil?"out":"in"),w(1),C("@DevilTransition",t.fadeDevil?"out":"in"),w(1),C("@DevilTransition",t.fadeDevil?"out":"in"),w(1),C("@DevilTransition",t.fadeDevil?"out":"in"),w(1),C("@DevilTransition",t.fadeDevil?"out":"in")}}let a3=(()=>{class n{constructor(t){this.eventEmitterService=t,this.title="chatng",this.showDevil=!1,this.fadeDevil=!1,this.subsVar=new gt}ngOnInit(){this.subsVar=this.eventEmitterService.invokeToggleDevilFunction.subscribe(()=>{console.log("heyyy"),this.toggleDevil()})}toggleDevil(){this.showDevil=!this.showDevil,console.log("toggled devil to "+this.showDevil.toString()),this.fadeDevil=!0}afterTransition(){this.fadeDevil&&(this.fadeDevil=!1,this.showDevil=!1,console.log("here?"))}}return n.\u0275fac=function(t){return new(t||n)(M(lp))},n.\u0275cmp=Gn({type:n,selectors:[["app-root"]],decls:7,vars:3,consts:[[2,"position","relative","background-color","#422"],["role","banner","id","top","class","text-center",4,"ngIf"],["id","main-content"],["role","main",1,"content"],["id","bottom",4,"ngIf"],["id","devildiv",4,"ngIf"],["role","banner","id","top",1,"text-center"],["id","game-title"],["id","bottom"],["id","devildiv"],["id","scenery-img-b","src","assets/devilb.jpg","alt",""],["id","scenery-img","src","assets/devil.jpg","alt",""],["id","scenery-img-m","src","assets/devilm.jpg","alt",""],["id","scenery-img-s","src","assets/devils.jpg","alt",""],["id","scenery-img-x","src","assets/devilx.jpg","alt",""]],template:function(t,r){1&t&&(y(0,"div",0),A(1,i3,3,0,"div",1),y(2,"div",2)(3,"div",3),F(4,"router-outlet"),g(),A(5,o3,1,0,"div",4),g(),A(6,s3,6,5,"div",5),g()),2&t&&(w(1),C("ngIf",!r.showDevil),w(4),C("ngIf",!r.showDevil),w(1),C("ngIf",r.showDevil))},dependencies:[to,pf],styles:['[_nghost-%COMP%] {\n    \n    font-family: Cambria, Cochin, Georgia, Times, \'Times New Roman\', serif;\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  #main-content[_ngcontent-%COMP%] {\n    background-color: #222;\n    background-image: url("./assets/pattern.png");\n\n    position: absolute;\n    left:0px;\n    top: 33px;\n    \n    width: 100%;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: block;\n    margin: 0px 30px 0px;\n    padding: 0 2%;\n    max-width: 1792px;\n    flex-direction: column;\n    align-items: center;\n    background-color: black;\n    \n\n  }\n\n  @media screen and (max-width: 1080px) {\n\n    .content[_ngcontent-%COMP%] {\n      margin-left: 2px;\n      margin-right: 2px;\n    }\n  }\n\n  \n\n  @font-face {\n    font-family: "robotoslab";\n    src: url("./assets/fonts/RobotoSlab.ttf") format("truetype");\n  }\n\n\n  #game-title[_ngcontent-%COMP%] {\n    \n    font-family: "robotoslab"; \n    font-size: 18px;\n    font-weight: bold;\n    text-align: center;\n  }\n\n  \n\n  #top[_ngcontent-%COMP%] {\n    background-color:darkred;\n    border-style:solid;\n    border: 0px 0px 3px;\n    border-color: black;\n    \n    height:34px;\n    padding:5px;\n    padding-top:0px; \n    color:white;\n  }\n\n  #bottom[_ngcontent-%COMP%] {\n    background-color: darkred;\n    border-style:solid;\n    border: 0px 0px 3px;\n    border-color: black;\n    height:14px;\n  }',"#devildiv[_ngcontent-%COMP%] {\n      z-index: 10;\n      display: block;\n      object-fit: cover;\n      position: absolute;\n      left: 50%;\n      transform: translate(-50%);\n      \n    }\n\n\n    @media screen and (min-width:0px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: inline-block;}\n    }\n\n    @media screen and (min-width:1550px) {\n      #scenery-img[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1200px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:950px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:570px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }"],data:{animation:[Fn("DevilTransition",[Me("out",ve({backgroundColor:"orange",filter:"brightness(0%)"})),Me("in",ve({backgroundColor:"purple",opacity:"1"})),tt("* => in",[et(2e3)]),tt("* => out",[et("4s .5s")])])]}}),n})();const $0_production=!0,$0_socketUrl="https://www.chattyfiction.cyou:2096/chat";function U0(n){return new S(3e3,!1)}function H3(){return typeof window<"u"&&typeof window.document<"u"}function cp(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Nr(n){switch(n.length){case 0:return new Bs;case 1:return n[0];default:return new f0(n)}}function j0(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let _=m,E=p;if("offset"!==m)switch(_=e.normalizePropertyName(_,s),E){case"!":E=i.get(m);break;case cr:E=o.get(m);break;default:E=e.normalizeStyleValue(m,_,E,s)}f.set(_,E)}),h||a.push(f),c=f,l=d}),s.length)throw function k3(n){return new S(3502,!1)}();return a}function up(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dp(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dp(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dp(t,"destroy",n)))}}function dp(n,e,t){const o=hp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function hp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function qt(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function H0(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fp=(n,e)=>!1,z0=(n,e,t)=>[],G0=null;function pp(n){const e=n.parentNode||n.host;return e===G0?null:e}(cp()||typeof Element<"u")&&(H3()?(G0=(()=>document.documentElement)(),fp=(n,e)=>{for(;e;){if(e===n)return!0;e=pp(e)}return!1}):fp=(n,e)=>n.contains(e),z0=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let li=null,q0=!1;const W0=fp,K0=z0;let Q0=(()=>{class n{validateStyleProperty(t){return function G3(n){li||(li=function q3(){return typeof document<"u"?document.body:null}()||{},q0=!!li.style&&"WebkitAppearance"in li.style);let e=!0;return li.style&&!function z3(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in li.style,!e&&q0&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in li.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return W0(t,r)}getParentElement(t){return pp(t)}query(t,r,i){return K0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new Bs(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),gp=(()=>{class n{}return n.NOOP=new Q0,n})();const mp="ng-enter",dc="ng-leave",hc="ng-trigger",fc=".ng-trigger",Z0="ng-animating",yp=".ng-animating";function ur(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_p(parseFloat(e[1]),e[2])}function _p(n,e){return"s"===e?1e3*n:n}function pc(n,e,t){return n.hasOwnProperty("duration")?n:function Q3(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(U0()),{duration:0,delay:0,easing:""};i=_p(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=_p(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function c3(){return new S(3100,!1)}()),a=!0),o<0&&(e.push(function u3(){return new S(3101,!1)}()),a=!0),a&&e.splice(l,0,U0())}return{duration:i,delay:o,easing:s}}(n,e,t)}function js(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function J0(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Pr(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function eE(n,e,t){return t?e+":"+t+";":""}function tE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=eE(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=eE(0,X3(t),n.style[t]));n.setAttribute("style",e)}function Vn(n,e,t){n.style&&(e.forEach((r,i)=>{const o=wp(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),cp()&&tE(n))}function ci(n,e){n.style&&(e.forEach((t,r)=>{const i=wp(r);n.style[i]=""}),cp()&&tE(n))}function Hs(n){return Array.isArray(n)?1==n.length?n[0]:d0(n):n}const vp=new RegExp("{{\\s*(.+?)\\s*}}","g");function nE(n){let e=[];if("string"==typeof n){let t;for(;t=vp.exec(n);)e.push(t[1]);vp.lastIndex=0}return e}function zs(n,e,t){const r=n.toString(),i=r.replace(vp,(o,s)=>{let a=e[s];return null==a&&(t.push(function h3(n){return new S(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function gc(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const J3=/-+([a-z0-9])/g;function wp(n){return n.replace(J3,(...e)=>e[1].toUpperCase())}function X3(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wt(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function f3(n){return new S(3004,!1)}()}}function rE(n,e){return window.getComputedStyle(n)[e]}function o$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function s$(n,e,t){if(":"==n[0]){const l=function a$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function T3(n){return new S(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function M3(n){return new S(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(iE(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(iE(s,i))}(r,t,e)):t.push(n),t}const vc=new Set(["true","1"]),wc=new Set(["false","0"]);function iE(n,e){const t=vc.has(n)||wc.has(n),r=vc.has(e)||wc.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?vc.has(n):wc.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?vc.has(e):wc.has(e)),s&&a}}const l$=new RegExp("s*:selfs*,?","g");function Cp(n,e,t,r){return new c$(n).build(e,t,r)}class c${constructor(e){this._driver=e}build(e,t,r){const i=new h$(t);return this._resetContextStyleTimingState(i),Wt(this,Hs(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function g3(){return new S(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(function m3(){return new S(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{nE(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(gc(o.values()),t.errors.push(function y3(n,e){return new S(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wt(this,Hs(e.animation),t);return{type:1,matchers:o$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ui(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wt(this,r,t)),options:ui(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=Wt(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:ui(e.options)}}visitAnimate(e,t){const r=function p$(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return bp(pc(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=bp(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=pc(t,e);return bp(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:ve({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=ve(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===cr?r.push(a):t.errors.push(new S(3002,!1)):r.push(J0(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function v3(n,e,t,r,i){return new S(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),t.options&&function Z3(n,e,t){const r=e.params||{},i=nE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function d3(n){return new S(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function w3(){return new S(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(E=>{const I=this._makeStyleAst(E,t);let b=null!=I.offset?I.offset:function f$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),x=0;return null!=b&&(o++,x=I.offset=b),l=l||x<0||x>1,a=a||x<c,c=x,s.push(x),I});l&&t.errors.push(function C3(){return new S(3012,!1)}()),a&&t.errors.push(function b3(){return new S(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function D3(){return new S(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,_=m.duration;return u.forEach((E,I)=>{const b=h>0?I==f?1:h*I:s[I],x=b*_;t.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(E,t),E.offset=b,r.styles.push(E)}),r}visitReference(e,t){return{type:8,animation:Wt(this,Hs(e.animation),t),options:ui(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ui(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ui(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function u$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(l$,"")),n=n.replace(/@\*/g,fc).replace(/@\w+/g,t=>fc+"-"+t.slice(1)).replace(/:animating/g,yp),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,qt(t.collectedStyles,t.currentQuerySelector,new Map);const a=Wt(this,Hs(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ui(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function E3(){return new S(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:pc(e.timings,t.errors,!0);return{type:12,animation:Wt(this,Hs(e.animation),t),timings:r,options:null}}}class h${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ui(n){return n?(n=js(n)).params&&(n.params=function d$(n){return n?js(n):null}(n.params)):n={},n}function bp(n,e,t){return{duration:n,delay:e,easing:t}}function Dp(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Cc{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const y$=new RegExp(":enter","g"),v$=new RegExp(":leave","g");function Ep(n,e,t,r,i,o=new Map,s=new Map,a,l,c=[]){return(new w$).buildKeyframes(n,e,t,r,i,o,s,a,l,c)}class w${buildKeyframes(e,t,r,i,o,s,a,l,c,u=[]){c=c||new Cc;const d=new Sp(e,t,c,i,o,u,[]);d.options=l;const h=l.delay?ur(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),Wt(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const _=f[m];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[Dp(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimateRefDelay(e.animation,t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimateRefDelay(e,t,r){const i=e.options?.delay;if(!i)return;let o;o="string"==typeof i?ur(zs(i,e.options?.params??{},t.errors)):i,r.delayNextStep(o)}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?ur(r.duration):null,a=null!=r.delay?ur(r.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Wt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bc);const s=ur(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Wt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ur(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Wt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return pc(t.params?zs(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ur(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bc);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),Wt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Wt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const bc={};class Sp{constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Dc(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ur(r.duration)),null!=r.delay&&(i.delay=ur(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=zs(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new Sp(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=bc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new C$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(y$,"."+this._enterClassName)).replace(v$,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function S3(n){return new S(3014,!1)}()),a}}class Dc{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Dc(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||cr),this._currentKeyframe.set(t,cr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function b$(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,cr)}else Pr(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=zs(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??cr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Pr(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===cr&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=e.size?gc(e.values()):[],s=t.size?gc(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Dp(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class C$ extends Dc{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,l=Pr(e[0]);l.set("offset",0),o.push(l);const c=Pr(e[0]);c.set("offset",aE(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Pr(e[d]);const f=h.get("offset");h.set("offset",aE((t+f*r)/s)),o.push(h)}r=s,t=0,i="",e=o}return Dp(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function aE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Mp{}const D$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class E$ extends Mp{normalizePropertyName(e,t){return wp(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(D$.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function p3(n,e){return new S(3005,!1)}())}return s+o}}function lE(n,e,t,r,i,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Tp={};class cE{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function S$(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Tp,p=this.buildStyles(r,a&&a.params||Tp,d),m=l&&l.params||Tp,_=this.buildStyles(i,m,d),E=new Set,I=new Map,b=new Map,x="void"===i,J={params:M$(m,h),delay:this.ast.options?.delay},re=u?[]:Ep(e,t,this.ast.animation,o,s,p,_,J,c,d);let Te=0;if(re.forEach(Et=>{Te=Math.max(Et.duration+Et.delay,Te)}),d.length)return lE(t,this._triggerName,r,i,x,p,_,[],[],I,b,Te,d);re.forEach(Et=>{const St=Et.element,Bn=qt(I,St,new Set);Et.preStyleProps.forEach(Nt=>Bn.add(Nt));const Dn=qt(b,St,new Set);Et.postStyleProps.forEach(Nt=>Dn.add(Nt)),St!==t&&E.add(St)});const it=gc(E.values());return lE(t,this._triggerName,r,i,x,p,_,re,it,I,b,Te)}}function M$(n,e){const t=js(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class T${constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=js(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=zs(s,i,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(l,s)})}),r}}class A${constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new T$(i.style,i.options&&i.options.params||{},r))}),uE(this.states,"true","1"),uE(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new cE(e,i,this.states))}),this.fallbackTransition=function x$(n,e,t){return new cE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function uE(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const k$=new Cc;class N${constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=Cp(this._driver,t,r,[]);if(r.length)throw function N3(n){return new S(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=j0(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Ep(this._driver,t,o,mp,dc,new Map,new Map,r,k$,i),s.forEach(u=>{const d=qt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function P3(){return new S(3300,!1)}()),s=[]),i.length)throw function R3(n){return new S(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,cr))})});const c=Nr(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function O3(n){return new S(3301,!1)}();return t}listen(e,t,r,i){const o=hp(t,"","","");return up(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const dE="ng-animate-queued",Ip="ng-animate-disabled",L$=[],hE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rn="__ng_removed";class Ap{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function j$(n){return n??null}(r?e.value:e),r){const o=js(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Gs="void",xp=new Ap(Gs);class B${constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,on(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function F3(n,e){return new S(3302,!1)}();if(null==r||0==r.length)throw function L3(n){return new S(3303,!1)}();if(!function H$(n){return"start"==n||"done"==n}(r))throw function V3(n,e){return new S(3400,!1)}();const o=qt(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=qt(this._engine.statesByElement,e,new Map);return a.has(t)||(on(e,hc),on(e,hc+"-"+t),a.set(t,xp)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function B3(n){return new S(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new kp(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(on(e,hc),on(e,hc+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new Ap(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=xp),c.value!==Gs&&l.value===c.value){if(!function q$(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],_=o.matchStyles(l.value,l.params,m),E=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{ci(e,_),Vn(e,E)})}return}const h=qt(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(on(e,dE),s.onStart(()=>{po(e,dE)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const _=this._engine.playersByElement.get(e);if(_){let E=_.indexOf(s);E>=0&&_.splice(E,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,fc,!0);r.forEach(i=>{if(i[rn])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Gs,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Nr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||xp,u=new Ap(Gs),d=new kp(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[rn];(!o||o===hE)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){on(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=hp(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,up(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class $${constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new B$(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(Ec(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ec(t))return;const o=t[rn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),on(e,Ip)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),po(e,Ip))}removeNode(e,t,r,i){if(Ec(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[rn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ec(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,fc,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,yp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[rn];if(t&&t.setForRemoval){if(e[rn]=hE,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ip)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)on(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Nr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function $3(n){return new S(3402,!1)}()}_flushAnimations(e,t){const r=new Cc,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(R=>{u.add(R);const L=this.driver.query(R,".ng-animate-queued",!0);for(let V=0;V<L.length;V++)u.add(L[V])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=gE(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((R,L)=>{const V=mp+m++;p.set(L,V),R.forEach(le=>on(le,V))});const _=[],E=new Set,I=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const L=this.collectedLeaveElements[R],V=L[rn];V&&V.setForRemoval&&(_.push(L),E.add(L),V.hasAnimation?this.driver.query(L,".ng-star-inserted",!0).forEach(le=>E.add(le)):I.add(L))}const b=new Map,x=gE(h,Array.from(E));x.forEach((R,L)=>{const V=dc+m++;b.set(L,V),R.forEach(le=>on(le,V))}),e.push(()=>{f.forEach((R,L)=>{const V=p.get(L);R.forEach(le=>po(le,V))}),x.forEach((R,L)=>{const V=b.get(L);R.forEach(le=>po(le,V))}),_.forEach(R=>{this.processLeaveNode(R)})});const J=[],re=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(V=>{const le=V.player,qe=V.element;if(J.push(le),this.collectedEnterElements.length){const pt=qe[rn];if(pt&&pt.setForMove){if(pt.previousTriggersValues&&pt.previousTriggersValues.has(V.triggerName)){const di=pt.previousTriggersValues.get(V.triggerName),sn=this.statesByElement.get(V.element);if(sn&&sn.has(V.triggerName)){const Ic=sn.get(V.triggerName);Ic.value=di,sn.set(V.triggerName,Ic)}}return void le.destroy()}}const Pt=!d||!this.driver.containsElement(d,qe),Mt=b.get(qe),Rt=p.get(qe),we=this._buildInstruction(V,r,Rt,Mt,Pt);if(we.errors&&we.errors.length)return void re.push(we);if(Pt)return le.onStart(()=>ci(qe,we.fromStyles)),le.onDestroy(()=>Vn(qe,we.toStyles)),void i.push(le);if(V.isFallbackTransition)return le.onStart(()=>ci(qe,we.fromStyles)),le.onDestroy(()=>Vn(qe,we.toStyles)),void i.push(le);const Tc=[];we.timelines.forEach(pt=>{pt.stretchStartingKeyframe=!0,this.disabledNodes.has(pt.element)||Tc.push(pt)}),we.timelines=Tc,r.append(qe,we.timelines),s.push({instruction:we,player:le,element:qe}),we.queriedElements.forEach(pt=>qt(a,pt,[]).push(le)),we.preStyleProps.forEach((pt,di)=>{if(pt.size){let sn=l.get(di);sn||l.set(di,sn=new Set),pt.forEach((Ic,Rp)=>sn.add(Rp))}}),we.postStyleProps.forEach((pt,di)=>{let sn=c.get(di);sn||c.set(di,sn=new Set),pt.forEach((Ic,Rp)=>sn.add(Rp))})});if(re.length){const R=[];re.forEach(L=>{R.push(function U3(n,e){return new S(3505,!1)}())}),J.forEach(L=>L.destroy()),this.reportError(R)}const Te=new Map,it=new Map;s.forEach(R=>{const L=R.element;r.has(L)&&(it.set(L,L),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,Te))}),i.forEach(R=>{const L=R.element;this._getPreviousPlayers(L,!1,R.namespaceId,R.triggerName,null).forEach(le=>{qt(Te,L,[]).push(le),le.destroy()})});const Et=_.filter(R=>yE(R,l,c)),St=new Map;pE(St,this.driver,I,c,cr).forEach(R=>{yE(R,l,c)&&Et.push(R)});const Dn=new Map;f.forEach((R,L)=>{pE(Dn,this.driver,new Set(R),l,"!")}),Et.forEach(R=>{const L=St.get(R),V=Dn.get(R);St.set(R,new Map([...Array.from(L?.entries()??[]),...Array.from(V?.entries()??[])]))});const Nt=[],Rr=[],$n={};s.forEach(R=>{const{element:L,player:V,instruction:le}=R;if(r.has(L)){if(u.has(L))return V.onDestroy(()=>Vn(L,le.toStyles)),V.disabled=!0,V.overrideTotalTime(le.totalTime),void i.push(V);let qe=$n;if(it.size>1){let Mt=L;const Rt=[];for(;Mt=Mt.parentNode;){const we=it.get(Mt);if(we){qe=we;break}Rt.push(Mt)}Rt.forEach(we=>it.set(we,qe))}const Pt=this._buildAnimation(V.namespaceId,le,Te,o,Dn,St);if(V.setRealPlayer(Pt),qe===$n)Nt.push(V);else{const Mt=this.playersByElement.get(qe);Mt&&Mt.length&&(V.parentPlayer=Nr(Mt)),i.push(V)}}else ci(L,le.fromStyles),V.onDestroy(()=>Vn(L,le.toStyles)),Rr.push(V),u.has(L)&&i.push(V)}),Rr.forEach(R=>{const L=o.get(R.element);if(L&&L.length){const V=Nr(L);R.setRealPlayer(V)}}),i.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<_.length;R++){const L=_[R],V=L[rn];if(po(L,dc),V&&V.hasAnimation)continue;let le=[];if(a.size){let Pt=a.get(L);Pt&&Pt.length&&le.push(...Pt);let Mt=this.driver.query(L,yp,!0);for(let Rt=0;Rt<Mt.length;Rt++){let we=a.get(Mt[Rt]);we&&we.length&&le.push(...we)}}const qe=le.filter(Pt=>!Pt.destroyed);qe.length?z$(this,L,qe):this.processLeaveNode(L)}return _.length=0,Nt.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();const L=this.players.indexOf(R);this.players.splice(L,1)}),R.play()}),Nt}elementContainsData(e,t){let r=!1;const i=t[rn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Gs;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=qt(r,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ci(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const _=m[rn];if(_&&_.removedBeforeQueried)return new Bs(p.duration,p.delay);const E=m!==l,I=function G$(n){const e=[];return mE(n,e),e}((r.get(m)||L$).map(Te=>Te.getRealPlayer())).filter(Te=>!!Te.element&&Te.element===m),b=o.get(m),x=s.get(m),J=j0(0,this._normalizer,0,p.keyframes,b,x),re=this._buildPlayer(p,J,I);if(p.subTimeline&&i&&d.add(m),E){const Te=new kp(e,a,m);Te.setRealPlayer(re),c.push(Te)}return re});c.forEach(p=>{qt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function U$(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>on(p,Z0));const f=Nr(h);return f.onDestroy(()=>{u.forEach(p=>po(p,Z0)),Vn(l,t.toStyles)}),d.forEach(p=>{qt(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Bs(e.duration,e.delay)}}class kp{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Bs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>up(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ec(n){return n&&1===n.nodeType}function fE(n,e){const t=n.style.display;return n.style.display=e??"none",t}function pE(n,e,t,r,i){const o=[];t.forEach(l=>o.push(fE(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[rn]=V$,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>fE(l,o[a++])),s}function gE(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function on(n,e){n.classList?.add(e)}function po(n,e){n.classList?.remove(e)}function z$(n,e,t){Nr(t).onDone(()=>n.processLeaveNode(e))}function mE(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof f0?mE(r.players,e):e.push(r)}}function yE(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class Sc{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new $$(e,t,r),this._timelineEngine=new N$(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=Cp(this._driver,o,l,[]);if(l.length)throw function x3(n,e){return new S(3404,!1)}();a=function I$(n,e,t){return new A$(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=H0(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=H0(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let K$=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Vn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vn(this._element,this._initialStyles),this._endStyles&&(Vn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ci(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),Vn(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Np(n){let e=null;return n.forEach((t,r)=>{(function Q$(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class _E{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:rE(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Y${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return W0(e,t)}getParentElement(e){return pp(e)}query(e,t,r){return K0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof _E);(function e$(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function Y3(n){return n.length?n[0]instanceof Map?n:n.map(e=>J0(e)):[]}(t).map(f=>Pr(f));d=function t$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,rE(n,a)))}}return e}(e,d,c);const h=function W$(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Np(e[0]),e.length>1&&(r=Np(e[e.length-1]))):e instanceof Map&&(t=Np(e)),t||r?new K$(n,t,r):null}(e,d);return new _E(e,d,l,h)}}let Z$=(()=>{class n extends u0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:cn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?d0(t):t;return vE(this._renderer,null,r,"register",[i]),new J$(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(O(zo),O(ut))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class J$ extends class D2{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new X$(this._id,e,t||{},this._renderer)}}class X${constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return vE(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vE(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const wE="@.disabled";let eU=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new CE("",o,this.engine),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return r.data.animation.forEach(l),new tU(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(O(zo),O(Sc),O(Fe))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class CE{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==wE?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class tU extends CE{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==wE?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function nU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function rU(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const bE=[{provide:u0,useClass:Z$},{provide:Mp,useFactory:function oU(){return new E$}},{provide:Sc,useClass:(()=>{class n extends Sc{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(O(ut),O(gp),O(Mp),O(ds))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})()},{provide:zo,useFactory:function sU(n,e,t){return new eU(n,e,t)},deps:[bl,Sc,Fe]}],Pp=[{provide:gp,useFactory:()=>new Y$},{provide:bw,useValue:"BrowserAnimations"},...bE],DE=[{provide:gp,useClass:Q0},{provide:bw,useValue:"NoopAnimations"},...bE];let aU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?DE:Pp}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Tt({providers:Pp,imports:[LC]}),n})();const lU={url:$0_socketUrl,options:{}};let cU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Lt({type:n,bootstrap:[a3]}),n.\u0275inj=Tt({providers:[ap,lp],imports:[LC,r3,C2,s0,hV.forRoot(lU),aU,Af]}),n})();$0_production&&function cN(){Bw=!1}(),$R().bootstrapModule(cU).catch(n=>console.error(n))}},Ac=>{Ac(Ac.s=603)}]);
"use strict";(self.webpackChunkchatng=self.webpackChunkchatng||[]).push([[179],{603:(Ic,Op,yo)=>{var _o={};yo.r(_o),yo.d(_o,{Decoder:()=>rp,Encoder:()=>lV,PacketType:()=>ae,protocol:()=>O0});var Ac={};function xe(n){return"function"==typeof n}function xc(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}yo.r(Ac),yo.d(Ac,{Manager:()=>uc,Socket:()=>ip,connect:()=>kr,default:()=>kr,io:()=>kr,protocol:()=>O0});const kc=xc(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Pc(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class gt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(o){t=o instanceof kc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Vp(o)}catch(s){t=t??[],s instanceof kc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new kc(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Vp(t);else{if(t instanceof gt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Pc(e,t)}remove(t){const{_finalizers:e}=this;e&&Pc(e,t),t instanceof gt&&t._removeParent(this)}}gt.EMPTY=(()=>{const n=new gt;return n.closed=!0,n})();const Fp=gt.EMPTY;function Lp(n){return n instanceof gt||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function Vp(n){xe(n)?n():n.unsubscribe()}const Or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qs={setTimeout(n,t,...e){const{delegate:r}=qs;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=qs;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Bp(n){qs.setTimeout(()=>{const{onUnhandledError:t}=Or;if(!t)throw n;t(n)})}function Up(){}const EE=Nc("C",void 0,void 0);function Nc(n,t,e){return{kind:n,value:t,error:e}}let Fr=null;function Ws(n){if(Or.useDeprecatedSynchronousErrorHandling){const t=!Fr;if(t&&(Fr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Fr;if(Fr=null,e)throw r}}else n()}class Rc extends gt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Lp(t)&&t.add(this)):this.destination=kE}static create(t,e,r){return new vo(t,e,r)}next(t){this.isStopped?Fc(function TE(n){return Nc("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Fc(function SE(n){return Nc("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Fc(EE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IE=Function.prototype.bind;function Oc(n,t){return IE.call(n,t)}class AE{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Ks(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Ks(r)}else Ks(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ks(e)}}}class vo extends Rc{constructor(t,e,r){let i;if(super(),xe(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Or.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Oc(t.next,o),error:t.error&&Oc(t.error,o),complete:t.complete&&Oc(t.complete,o)}):i=t}this.destination=new AE(i)}}function Ks(n){Or.useDeprecatedSynchronousErrorHandling?function ME(n){Or.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=n)}(n):Bp(n)}function Fc(n,t){const{onStoppedNotification:e}=Or;e&&qs.setTimeout(()=>e(n,t))}const kE={closed:!0,next:Up,error:function xE(n){throw n},complete:Up},Lc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Lr(n){return n}function jp(n){return 0===n.length?Lr:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let Ce=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function RE(n){return n&&n instanceof Rc||function NE(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}(n)&&Lp(n)}(e)?e:new vo(e,r,i);return Ws(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=$p(r))((i,o)=>{const s=new vo({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Lc](){return this}pipe(...e){return jp(e)(this)}toPromise(e){return new(e=$p(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function $p(n){var t;return null!==(t=n??Or.Promise)&&void 0!==t?t:Promise}const OE=xc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Dn=(()=>{class n extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Hp(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new OE}next(e){Ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){Ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Fp:(this.currentObservers=null,o.push(e),new gt(()=>{this.currentObservers=null,Pc(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new Ce;return e.source=this,e}}return n.create=(t,e)=>new Hp(t,e),n})();class Hp extends Dn{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:Fp}}function zp(n){return xe(n?.lift)}function tt(n){return t=>{if(zp(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ke(n,t,e,r,i){return new FE(n,t,e,r,i)}class FE extends Rc{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ce(n,t){return tt((e,r)=>{let i=0;e.subscribe(Ke(r,o=>{r.next(n.call(t,o,i++))}))})}function Vr(n){return this instanceof Vr?(this.v=n,this):new Vr(n)}function BE(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(y,_){o.push([h,f,y,_])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Vr?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(y){d(o[0][3],y)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function UE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Wp(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Kp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Qp(n){return xe(n?.then)}function Yp(n){return xe(n[Lc])}function Zp(n){return Symbol.asyncIterator&&xe(n?.[Symbol.asyncIterator])}function Jp(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Xp=function $E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eg(n){return xe(n?.[Xp])}function tg(n){return BE(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield Vr(e.read());if(i)return yield Vr(void 0);yield yield Vr(r)}}finally{e.releaseLock()}})}function ng(n){return xe(n?.getReader)}function sn(n){if(n instanceof Ce)return n;if(null!=n){if(Yp(n))return function HE(n){return new Ce(t=>{const e=n[Lc]();if(xe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Kp(n))return function zE(n){return new Ce(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Qp(n))return function GE(n){return new Ce(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Bp)})}(n);if(Zp(n))return rg(n);if(eg(n))return function qE(n){return new Ce(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(ng(n))return function WE(n){return rg(tg(n))}(n)}throw Jp(n)}function rg(n){return new Ce(t=>{(function KE(n,t){var e,r,i,o;return function LE(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=UE(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function jn(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function rt(n,t,e=1/0){return xe(t)?rt((r,i)=>ce((o,s)=>t(r,o,i,s))(sn(n(r,i))),e):("number"==typeof t&&(e=t),tt((r,i)=>function QE(n,t,e,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=_=>c<r?y(_):l.push(_),y=_=>{o&&t.next(_),c++;let C=!1;sn(e(_,u++)).subscribe(Ke(t,E=>{i?.(E),o?f(E):t.next(E)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){const E=l.shift();s?jn(t,s,()=>y(E)):y(E)}h()}catch(E){t.error(E)}}))};return n.subscribe(Ke(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,e)))}function hi(n=1/0){return rt(Lr,n)}const $n=new Ce(n=>n.complete());function Bc(n){return n[n.length-1]}function ig(n){return xe(Bc(n))?n.pop():void 0}function wo(n){return function ZE(n){return n&&xe(n.schedule)}(Bc(n))?n.pop():void 0}function og(n,t=0){return tt((e,r)=>{e.subscribe(Ke(r,i=>jn(r,n,()=>r.next(i),t),()=>jn(r,n,()=>r.complete(),t),i=>jn(r,n,()=>r.error(i),t)))})}function sg(n,t=0){return tt((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function ag(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ce(e=>{jn(e,t,()=>{const r=n[Symbol.asyncIterator]();jn(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Be(n,t){return t?function i1(n,t){if(null!=n){if(Yp(n))return function XE(n,t){return sn(n).pipe(sg(t),og(t))}(n,t);if(Kp(n))return function t1(n,t){return new Ce(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Qp(n))return function e1(n,t){return sn(n).pipe(sg(t),og(t))}(n,t);if(Zp(n))return ag(n,t);if(eg(n))return function n1(n,t){return new Ce(e=>{let r;return jn(e,t,()=>{r=n[Xp](),jn(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void e.error(s)}o?e.complete():e.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(n,t);if(ng(n))return function r1(n,t){return ag(tg(n),t)}(n,t)}throw Jp(n)}(n,t):sn(n)}function lg(n={}){const{connector:t=(()=>new Dn),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},y=()=>{const _=s;f(),_?.unsubscribe()};return tt((_,C)=>{c++,!d&&!u&&h();const E=l=l??t();C.add(()=>{c--,0===c&&!d&&!u&&(a=Uc(y,i))}),E.subscribe(C),!s&&c>0&&(s=new vo({next:x=>E.next(x),error:x=>{d=!0,h(),a=Uc(f,e,x),E.error(x)},complete:()=>{u=!0,h(),a=Uc(f,r),E.complete()}}),sn(_).subscribe(s))})(o)}}function Uc(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new vo({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function _e(n){for(let t in n)if(n[t]===_e)return t;throw Error("Could not find renamed property on target object.")}function jc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function $c(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const s1=_e({__forward_ref__:_e});function be(n){return n.__forward_ref__=be,n.toString=function(){return ve(this())},n}function W(n){return Hc(n)?n():n}function Hc(n){return"function"==typeof n&&n.hasOwnProperty(s1)&&n.__forward_ref__===be}class S extends Error{constructor(t,e){super(function Qs(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Y(n){return"string"==typeof n?n:null==n?"":String(n)}function Ys(n,t){throw new S(-201,!1)}function Ot(n,t){null==n&&function fe(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zs(n){return cg(n,Js)||cg(n,dg)}function cg(n,t){return n.hasOwnProperty(t)?n[t]:null}function ug(n){return n&&(n.hasOwnProperty(zc)||n.hasOwnProperty(g1))?n[zc]:null}const Js=_e({\u0275prov:_e}),zc=_e({\u0275inj:_e}),dg=_e({ngInjectableDef:_e}),g1=_e({ngInjectorDef:_e});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let Gc;function Wt(n){const t=Gc;return Gc=n,t}function hg(n,t,e){const r=Zs(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&z.Optional?null:void 0!==t?t:void Ys(ve(n))}function dr(n){return{toString:n}.toString()}var an=(()=>((an=an||{})[an.OnPush=0]="OnPush",an[an.Default=1]="Default",an))(),ln=(()=>{return(n=ln||(ln={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ln;var n})();const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fi={},he=[],Xs=_e({\u0275cmp:_e}),qc=_e({\u0275dir:_e}),Wc=_e({\u0275pipe:_e}),fg=_e({\u0275mod:_e}),zn=_e({\u0275fac:_e}),Co=_e({__NG_ELEMENT_ID__:_e});let y1=0;function Gn(n){return dr(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===an.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||he,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ln.Emulated,id:"c"+y1++,styles:n.styles||he,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=mg(n.inputs,r),i.outputs=mg(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(pg).filter(gg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(yt).filter(gg):null,i})}function pg(n){return pe(n)||mt(n)}function gg(n){return null!==n}function Ft(n){return dr(()=>({type:n.type,bootstrap:n.bootstrap||he,declarations:n.declarations||he,imports:n.imports||he,exports:n.exports||he,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mg(n,t){if(null==n)return fi;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const K=Gn;function pe(n){return n[Xs]||null}function mt(n){return n[qc]||null}function yt(n){return n[Wc]||null}function Lt(n,t){const e=n[fg]||null;if(!e&&!0===t)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return e}function At(n){return Array.isArray(n)&&"object"==typeof n[1]}function un(n){return Array.isArray(n)&&!0===n[1]}function Yc(n){return 0!=(8&n.flags)}function ra(n){return 2==(2&n.flags)}function ia(n){return 1==(1&n.flags)}function dn(n){return null!==n.template}function D1(n){return 0!=(256&n[2])}function Hr(n,t){return n.hasOwnProperty(zn)?n[zn]:null}class T1{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bt(){return vg}function vg(n){return n.type.prototype.ngOnChanges&&(n.setInput=I1),M1}function M1(){const n=Cg(this),t=n?.current;if(t){const e=n.previous;if(e===fi)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function I1(n,t,e,r){const i=Cg(n)||function A1(n,t){return n[wg]=t}(n,{previous:fi,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[e],l=s[a];o[a]=new T1(l&&l.currentValue,t,s===fi),n[r]=t}Bt.ngInherit=!0;const wg="__ngSimpleChanges__";function Cg(n){return n[wg]||null}function Ue(n){for(;Array.isArray(n);)n=n[0];return n}function oa(n,t){return Ue(t[n])}function Yt(n,t){return Ue(t[n.index])}function tu(n,t){return n.data[t]}function Ut(n,t){const e=t[n];return At(e)?e:e[0]}function sa(n){return 64==(64&n[2])}function hr(n,t){return null==t?null:n[t]}function bg(n){n[18]=0}function nu(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const Q={lFrame:Pg(null),bindingsEnabled:!0};function Eg(){return Q.bindingsEnabled}function A(){return Q.lFrame.lView}function ue(){return Q.lFrame.tView}function V(n){return Q.lFrame.contextLView=n,n[8]}function B(n){return Q.lFrame.contextLView=null,n}function Qe(){let n=Sg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Sg(){return Q.lFrame.currentTNode}function En(n,t){const e=Q.lFrame;e.currentTNode=n,e.isParent=t}function ru(){return Q.lFrame.isParent}function vi(){return Q.lFrame.bindingIndex++}function Wn(n){const t=Q.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function z1(n,t){const e=Q.lFrame;e.bindingIndex=e.bindingRootIndex=n,ou(t)}function ou(n){Q.lFrame.currentDirectiveIndex=n}function Ag(){return Q.lFrame.currentQueryIndex}function au(n){Q.lFrame.currentQueryIndex=n}function q1(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function xg(n,t,e){if(e&z.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&z.Host||(i=q1(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=Q.lFrame=kg();return r.currentTNode=t,r.lView=n,!0}function lu(n){const t=kg(),e=n[1];Q.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function kg(){const n=Q.lFrame,t=null===n?null:n.child;return null===t?Pg(n):t}function Pg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Ng(){const n=Q.lFrame;return Q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Rg=Ng;function cu(){const n=Ng();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vt(){return Q.lFrame.selectedIndex}function fr(n){Q.lFrame.selectedIndex=n}function Re(){const n=Q.lFrame;return tu(n.tView,n.selectedIndex)}function aa(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function la(n,t,e){Og(n,t,3,e)}function ca(n,t,e,r){(3&n[2])===e&&Og(n,t,e,r)}function uu(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Og(n,t,e,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(tS(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function tS(n,t,e,r){const i=e[r]<0,o=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Mo{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function ua(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{const o=i,s=e[++r];Lg(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function Fg(n){return 3===n||4===n||6===n}function Lg(n){return 64===n.charCodeAt(0)}function da(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Vg(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Vg(n,t,e,r,i){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Bg(n){return-1!==n}function wi(n){return 32767&n}function Ci(n,t){let e=function sS(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let hu=!0;function ha(n){const t=hu;return hu=n,t}let aS=0;const Sn={};function Ao(n,t){const e=pu(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,fu(r.data,n),fu(t,null),fu(r.blueprint,null));const i=fa(n,t),o=n.injectorIndex;if(Bg(i)){const s=wi(i),a=Ci(i,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function fu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function pu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function fa(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=Kg(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function pa(n,t,e){!function lS(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Co)&&(r=e[Co]),null==r&&(r=e[Co]=aS++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function $g(n,t,e){if(e&z.Optional||void 0!==n)return n;Ys()}function Hg(n,t,e,r){if(e&z.Optional&&void 0===r&&(r=null),0==(e&(z.Self|z.Host))){const i=n[9],o=Wt(void 0);try{return i?i.get(t,r,e&z.Optional):hg(t,r,e&z.Optional)}finally{Wt(o)}}return $g(r,0,e)}function zg(n,t,e,r=z.Default,i){if(null!==n){if(1024&t[2]){const s=function fS(n,t,e,r,i){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Gg(o,s,e,r|z.Self,Sn);if(a!==Sn)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(e,Sn,r);if(u!==Sn)return u}l=Kg(s),s=s[15]}o=l}return i}(n,t,e,r,Sn);if(s!==Sn)return s}const o=Gg(n,t,e,r,Sn);if(o!==Sn)return o}return Hg(t,e,r,i)}function Gg(n,t,e,r,i){const o=function dS(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Co)?n[Co]:void 0;return"number"==typeof t?t>=0?255&t:hS:t}(e);if("function"==typeof o){if(!xg(t,n,r))return r&z.Host?$g(i,0,r):Hg(t,e,r,i);try{const s=o(r);if(null!=s||r&z.Optional)return s;Ys()}finally{Rg()}}else if("number"==typeof o){let s=null,a=pu(n,t),l=-1,c=r&z.Host?t[16][6]:null;for((-1===a||r&z.SkipSelf)&&(l=-1===a?fa(n,t):t[a+8],-1!==l&&Wg(r,!1)?(s=t[1],a=wi(l),t=Ci(l,t)):a=-1);-1!==a;){const u=t[1];if(qg(o,a,u.data)){const d=uS(a,t,e,s,r,c);if(d!==Sn)return d}l=t[a+8],-1!==l&&Wg(r,t[1].data[a+8]===c)&&qg(o,a,t)?(s=u,a=wi(l),t=Ci(l,t)):a=-1}}return i}function uS(n,t,e,r,i,o){const s=t[1],a=s.data[n+8],u=ga(a,s,e,null==r?ra(a)&&hu:r!=s&&0!=(3&a.type),i&z.Host&&o===a);return null!==u?xo(t,s,u,a):Sn}function ga(n,t,e,r,i){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const y=s[f];if(f<l&&e===y||f>=l&&y.type===e)return f}if(i){const f=s[l];if(f&&dn(f)&&f.type===e)return l}return null}function xo(n,t,e,r){let i=n[e];const o=t.data;if(function nS(n){return n instanceof Mo}(i)){const s=i;s.resolving&&function a1(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${e}`)}(function de(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Y(n)}(o[e]));const a=ha(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Wt(s.injectImpl):null;xg(n,r,z.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function eS(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=vg(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Wt(l),ha(a),s.resolving=!1,Rg()}}return i}function qg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Wg(n,t){return!(n&z.Self||n&z.Host&&t)}class bi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return zg(this._tNode,this._lView,t,r,e)}}function hS(){return new bi(Qe(),A())}function lt(n){return dr(()=>{const t=n.prototype.constructor,e=t[zn]||gu(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[zn]||gu(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gu(n){return Hc(n)?()=>{const t=gu(W(n));return t&&t()}:Hr(n)}function Kg(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}const Ei="__parameters__";function Ti(n,t,e){return dr(()=>{const r=function mu(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Ei)?l[Ei]:Object.defineProperty(l,Ei,{value:[]})[Ei];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ${constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=G({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jt(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),jt(r,t)):t!==n&&t.push(r)}return t}function Kn(n,t){n.forEach(e=>Array.isArray(e)?Kn(e,t):t(e))}function Yg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ma(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function $t(n,t,e){let r=Mi(n,t);return r>=0?n[1|r]=e:(r=~r,function yS(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function _u(n,t){const e=Mi(n,t);if(e>=0)return n[1|e]}function Mi(n,t){return function Xg(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Oo={},wu="__NG_DI_FLAG__",_a="ngTempTokenPath",SS=/\n/gm,em="__source";let Fo;function Ii(n){const t=Fo;return Fo=n,t}function MS(n,t=z.Default){if(void 0===Fo)throw new S(-203,!1);return null===Fo?hg(n,void 0,t):Fo.get(n,t&z.Optional?null:void 0,t)}function F(n,t=z.Default){return(function m1(){return Gc}()||MS)(W(n),t)}function Fe(n,t=z.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),F(n,t)}function Cu(n){const t=[];for(let e=0;e<n.length;e++){const r=W(n[e]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,o=z.Default;for(let s=0;s<r.length;s++){const a=r[s],l=IS(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(F(i,o))}else t.push(F(r))}return t}function Lo(n,t){return n[wu]=t,n.prototype[wu]=t,n}function IS(n){return n[wu]}const Vo=Lo(Ti("Optional"),8),Bo=Lo(Ti("SkipSelf"),4);let Du;class fm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function gr(n){return n instanceof fm?n.changingThisBreaksApplicationSecurity:n}const JS=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var je=(()=>((je=je||{})[je.NONE=0]="NONE",je[je.HTML=1]="HTML",je[je.STYLE=2]="STYLE",je[je.SCRIPT=3]="SCRIPT",je[je.URL=4]="URL",je[je.RESOURCE_URL=5]="RESOURCE_URL",je))();function zr(n){const t=function zo(){const n=A();return n&&n[12]}();return t?t.sanitize(je.URL,n)||"":function $o(n,t){const e=function KS(n){return n instanceof fm&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(n,"URL")?gr(n):function Tu(n){return(n=String(n)).match(JS)?n:"unsafe:"+n}(Y(n))}const xu=new $("ENVIRONMENT_INITIALIZER"),Cm=new $("INJECTOR",-1),bm=new $("INJECTOR_DEF_TYPES");class Dm{get(t,e=Oo){if(e===Oo){const r=new Error(`NullInjectorError: No provider for ${ve(t)}!`);throw r.name="NullInjectorError",r}return e}}function hT(...n){return{\u0275providers:Em(0,n)}}function Em(n,...t){const e=[],r=new Set;let i;return Kn(t,o=>{const s=o;ku(s,e,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&Sm(i,e),e}function Sm(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];Kn(i,o=>{t.push(o)})}}function ku(n,t,e,r){if(!(n=W(n)))return!1;let i=null,o=ug(n);const s=!o&&pe(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=ug(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)ku(c,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Kn(o.imports,u=>{ku(u,t,e,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Sm(c,t)}if(!a){const c=Hr(i)||(()=>new i);t.push({provide:i,useFactory:c,deps:he},{provide:bm,useValue:i,multi:!0},{provide:xu,useValue:()=>F(i),multi:!0})}const l=o.providers;null==l||a||Kn(l,u=>{t.push(u)})}}return i!==n&&void 0!==n.providers}const fT=_e({provide:String,useValue:_e});function Pu(n){return null!==n&&"object"==typeof n&&fT in n}function Gr(n){return"function"==typeof n}const Nu=new $("Set Injector scope."),Ea={},gT={};let Ru;function Sa(){return void 0===Ru&&(Ru=new Dm),Ru}class mr{}class Im extends mr{constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fu(t,s=>this.processProvider(s)),this.records.set(Cm,ki(void 0,this)),i.has("environment")&&this.records.set(mr,ki(void 0,this));const o=this.records.get(Nu);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bm.multi,he,z.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Ii(this),r=Wt(void 0);try{return t()}finally{Ii(e),Wt(r)}}get(t,e=Oo,r=z.Default){this.assertNotDestroyed();const i=Ii(this),o=Wt(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function wT(n){return"function"==typeof n||"object"==typeof n&&n instanceof $}(t)&&Zs(t);a=l&&this.injectableDefInScope(l)?ki(Ou(t),Ea):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&z.Self?Sa():this.parent).get(t,e=r&z.Optional&&e===Oo?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[_a]=s[_a]||[]).unshift(ve(t)),i)throw s;return function AS(n,t,e,r){const i=n[_a];throw t[em]&&i.unshift(t[em]),n.message=function xS(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ve(t);if(Array.isArray(t))i=t.map(ve).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ve(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(SS,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[_a]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Wt(o),Ii(i)}}resolveInjectorInitializers(){const t=Ii(this),e=Wt(void 0);try{const r=this.get(xu.multi,he,z.Self);for(const i of r)i()}finally{Ii(t),Wt(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(ve(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(t){let e=Gr(t=W(t))?t:W(t&&t.provide);const r=function yT(n){return Pu(n)?ki(void 0,n.useValue):ki(Am(n),Ea)}(t);if(Gr(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=ki(void 0,Ea,!0),i.factory=()=>Cu(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===Ea&&(e.value=gT,e.value=e.factory()),"object"==typeof e.value&&e.value&&function vT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=W(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Ou(n){const t=Zs(n),e=null!==t?t.factory:Hr(n);if(null!==e)return e;if(n instanceof $)throw new S(204,!1);if(n instanceof Function)return function mT(n){const t=n.length;if(t>0)throw function Ro(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}(t,"?"),new S(204,!1);const e=function f1(n){const t=n&&(n[Js]||n[dg]);if(t){const e=function p1(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new S(204,!1)}function Am(n,t,e){let r;if(Gr(n)){const i=W(n);return Hr(i)||Ou(i)}if(Pu(n))r=()=>W(n.useValue);else if(function Mm(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Cu(n.deps||[]));else if(function Tm(n){return!(!n||!n.useExisting)}(n))r=()=>F(W(n.useExisting));else{const i=W(n&&(n.useClass||n.provide));if(!function _T(n){return!!n.deps}(n))return Hr(i)||Ou(i);r=()=>new i(...Cu(n.deps))}return r}function ki(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function CT(n){return!!n.\u0275providers}function Fu(n,t){for(const e of n)Array.isArray(e)?Fu(e,t):CT(e)?Fu(e.\u0275providers,t):t(e)}class xm{}class ET{resolveComponentFactory(t){throw function DT(n){const t=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Go=(()=>{class n{}return n.NULL=new ET,n})();function ST(){return Pi(Qe(),A())}function Pi(n,t){return new Ht(Yt(n,t))}let Ht=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=ST,n})();function TT(n){return n instanceof Ht?n.nativeElement:n}class qo{}let Yn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function MT(){const n=A(),e=Ut(Qe().index,n);return(At(e)?e:n)[11]}(),n})(),IT=(()=>{class n{}return n.\u0275prov=G({token:n,providedIn:"root",factory:()=>null}),n})();class Wo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const AT=new Wo("14.2.2"),Lu={};function $u(n){return n.ngOriginalError}class Ni{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&$u(t);for(;e&&$u(e);)e=$u(e);return e||null}}const Hu=new Map;let jT=0;const Gu="__ngContext__";function ct(n,t){At(t)?(n[Gu]=t[20],function HT(n){Hu.set(n[20],n)}(t)):n[Gu]=t}function Hm(n){return n.ownerDocument.defaultView}function qu(n){return n.ownerDocument}function Zn(n){return n instanceof Function?n():n}var xt=(()=>((xt=xt||{})[xt.Important=1]="Important",xt[xt.DashCase=2]="DashCase",xt))();function Ku(n,t){return undefined(n,t)}function Qo(n){const t=n[3];return un(t)?t[3]:t}function Qu(n){return qm(n[13])}function Yu(n){return qm(n[4])}function qm(n){for(;null!==n&&!un(n);)n=n[4];return n}function Oi(n,t,e,r,i){if(null!=r){let o,s=!1;un(r)?o=r:At(r)&&(s=!0,r=r[0]);const a=Ue(r);0===n&&null!==e?null==i?Jm(t,e,a):qr(t,e,a,i||null,!0):1===n&&null!==e?qr(t,e,a,i||null,!0):2===n?function oy(n,t,e){const r=Ta(n,t);r&&function pM(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function yM(n,t,e,r,i){const o=e[7];o!==Ue(e)&&Oi(t,n,r,o,i);for(let a=10;a<e.length;a++){const l=e[a];Yo(l[1],l,n,t,r,o)}}(t,n,o,e,i)}}function Ju(n,t,e){return n.createElement(t,e)}function Km(n,t){const e=n[9],r=e.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,nu(i,-1)),e.splice(r,1)}function Xu(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&Km(i,r),t>0&&(n[e-1][4]=r[4]);const o=ma(n,10+t);!function sM(n,t){Yo(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Qm(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Yo(n,t,e,3,null,null),function cM(n){let t=n[13];if(!t)return ed(n[1],n);for(;t;){let e=null;if(At(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)At(t)&&ed(t[1],t),t=t[3];null===t&&(t=n),At(t)&&ed(t[1],t),e=t&&t[4]}t=e}}(t)}}function ed(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function fM(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Mo)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function hM(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):Ue(t[s]),l=r[i=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=e[o+1]];e[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&un(t[3])){e!==t[3]&&Km(e,t);const r=t[19];null!==r&&r.detachView(n)}!function zT(n){Hu.delete(n[20])}(t)}}function Ym(n,t,e){return function Zm(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ln.None||i===ln.Emulated)return null}return Yt(r,e)}(n,t.parent,e)}function qr(n,t,e,r,i){n.insertBefore(t,e,r,i)}function Jm(n,t,e){n.appendChild(t,e)}function Xm(n,t,e,r,i){null!==r?qr(n,t,e,r,i):Jm(n,t,e)}function Ta(n,t){return n.parentNode(t)}let ny=function ty(n,t,e){return 40&n.type?Yt(n,e):null};function Ma(n,t,e,r){const i=Ym(n,r,t),o=t[11],a=function ey(n,t,e){return ny(n,t,e)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)Xm(o,i,e[l],a,!1);else Xm(o,i,e,a,!1)}function Ia(n,t){if(null!==t){const e=t.type;if(3&e)return Yt(t,n);if(4&e)return nd(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Ia(n,r);{const i=n[t.index];return un(i)?nd(-1,i):Ue(i)}}if(32&e)return Ku(t,n)()||Ue(n[t.index]);{const r=iy(n,t);return null!==r?Array.isArray(r)?r[0]:Ia(Qo(n[16]),r):Ia(n,t.next)}}return null}function iy(n,t){return null!==t?n[16][6].projection[t.projection]:null}function nd(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Ia(r,i)}return t[7]}function rd(n,t,e,r,i,o,s){for(;null!=e;){const a=r[e.index],l=e.type;if(s&&0===t&&(a&&ct(Ue(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)rd(n,t,e.child,r,i,o,!1),Oi(t,n,i,a,o);else if(32&l){const c=Ku(e,r);let u;for(;u=c();)Oi(t,n,i,u,o);Oi(t,n,i,a,o)}else 16&l?sy(n,t,r,e,i,o):Oi(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Yo(n,t,e,r,i,o){rd(e,r,n.firstChild,t,i,o,!1)}function sy(n,t,e,r,i,o){const s=e[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Oi(t,n,i,l[c],o);else rd(n,t,l,s[3],i,o,!0)}function ay(n,t,e){n.setAttribute(t,"style",e)}function id(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function ly(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const cy="ng-template";function vM(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==ly(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function uy(n){return 4===n.type&&n.value!==cy}function wM(n,t,e){return t===(4!==n.type||e?n.value:cy)}function CM(n,t,e){let r=4;const i=n.attrs||[],o=function EM(n){for(let t=0;t<n.length;t++)if(Fg(n[t]))return t;return n.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!wM(n,l,e)||""===l&&1===t.length){if(hn(r))return!1;s=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!vM(n.attrs,c,e)){if(hn(r))return!1;s=!0}continue}const d=bM(8&r?"class":l,i,uy(n),e);if(-1===d){if(hn(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==ly(f,c,0)||2&r&&c!==h){if(hn(r))return!1;s=!0}}}}else{if(!s&&!hn(r)&&!hn(l))return!1;if(s&&hn(l))continue;s=!1,r=l|1&r}}return hn(r)||s}function hn(n){return 0==(1&n)}function bM(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function SM(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function dy(n,t,e=!1){for(let r=0;r<t.length;r++)if(CM(n,t[r],e))return!0;return!1}function hy(n,t){return n?":not("+t.trim()+")":t}function MM(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!hn(s)&&(t+=hy(o,i),i=""),r=s,o=o||!hn(r);e++}return""!==i&&(t+=hy(o,i)),t}const Z={};function v(n){fy(ue(),A(),vt()+n,!1)}function fy(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&la(t,o,e)}else{const o=n.preOrderHooks;null!==o&&ca(t,o,0,e)}fr(e)}function yy(n,t=null,e=null,r){const i=_y(n,t,e,r);return i.resolveInjectorInitializers(),i}function _y(n,t=null,e=null,r,i=new Set){const o=[e||he,hT(n)];return r=r||("object"==typeof n?void 0:ve(n)),new Im(o,t||Sa(),r||null,i)}let Zt=(()=>{class n{static create(e,r){if(Array.isArray(e))return yy({name:""},r,e,"");{const i=e.name??"";return yy({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=Oo,n.NULL=new Dm,n.\u0275prov=G({token:n,providedIn:"any",factory:()=>F(Cm)}),n.__NG_ELEMENT_ID__=-1,n})();function T(n,t=z.Default){const e=A();return null===e?F(n,t):zg(Qe(),e,W(n),t)}function cd(){throw new Error("invalid")}function xa(n,t){return n<<17|t<<2}function fn(n){return n>>17&32767}function ud(n){return 2|n}function Jn(n){return(131068&n)>>2}function dd(n,t){return-131069&n|t<<2}function hd(n){return 1|n}function Oy(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const s=n.data[o];au(i),s.contentQueries(2,t[o],o)}}}function Na(n,t,e,r,i,o,s,a,l,c,u){const d=t.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),bg(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function $T(){return jT++}(),d[21]=u,d[16]=2==t.type?n[16]:d,d}function Li(n,t,e,r,i){let o=n.data[t];if(null===o)o=function wd(n,t,e,r,i){const o=Sg(),s=ru(),l=n.data[t]=function cI(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,r,i),function H1(){return Q.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function To(){const n=Q.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return En(o,!0),o}function Vi(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Cd(n,t,e){lu(t);try{const r=n.viewQuery;null!==r&&Ad(1,r,e);const i=n.template;null!==i&&Fy(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Oy(n,t),n.staticViewQueries&&Ad(2,n.viewQuery,e);const o=n.components;null!==o&&function sI(n,t){for(let e=0;e<t.length;e++)SI(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,cu()}}function Ra(n,t,e,r){const i=t[2];if(128!=(128&i)){lu(t);try{bg(t),function Mg(n){return Q.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Fy(n,t,e,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&la(t,c,null)}else{const c=n.preOrderHooks;null!==c&&ca(t,c,0,null),uu(t,0)}if(function DI(n){for(let t=Qu(n);null!==t;t=Yu(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(512&i[2])&&nu(o,1),i[2]|=512}}}(t),function bI(n){for(let t=Qu(n);null!==t;t=Yu(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];sa(r)&&Ra(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&Oy(n,t),s){const c=n.contentCheckHooks;null!==c&&la(t,c)}else{const c=n.contentHooks;null!==c&&ca(t,c,1),uu(t,1)}!function iI(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)fr(~i);else{const o=i,s=e[++r],a=e[++r];z1(s,o),a(2,t[o])}}}finally{fr(-1)}}(n,t);const a=n.components;null!==a&&function oI(n,t){for(let e=0;e<t.length;e++)EI(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Ad(2,l,r),s){const c=n.viewCheckHooks;null!==c&&la(t,c)}else{const c=n.viewHooks;null!==c&&ca(t,c,2),uu(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,nu(t[3],-1))}finally{cu()}}}function Fy(n,t,e,r,i){const o=vt(),s=2&r;try{fr(-1),s&&t.length>22&&fy(n,t,22,!1),e(r,i)}finally{fr(o)}}function bd(n,t,e){!Eg()||(function pI(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||Ao(e,t),ct(r,t);const s=e.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=dn(l);c&&vI(t,e,l);const u=xo(t,n,a,e);ct(u,t),null!==s&&wI(0,a-i,u,l,0,s),c&&(Ut(e.index,t)[8]=u)}}(n,t,e,Yt(e,t)),128==(128&e.flags)&&function gI(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function G1(){return Q.lFrame.currentDirectiveIndex}();try{fr(o);for(let a=r;a<i;a++){const l=n.data[a],c=t[a];ou(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&zy(l,c)}}finally{fr(-1),ou(s)}}(n,t,e))}function Dd(n,t,e=Yt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(t,n):n[s];n[i++]=a}}}function Vy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Ed(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Ed(n,t,e,r,i,o,s,a,l,c){const u=22+r,d=u+i,h=function aI(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Z);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function By(n,t,e,r){const i=Qy(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&Yy(n).push(r,i.length-1))}function Uy(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function jy(n,t){const r=t.directiveEnd,i=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===o||uy(t)?null:CI(d,o);s.push(h),a=Uy(d,c,a),l=Uy(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}function zt(n,t,e,r,i,o,s,a){const l=Yt(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(xd(n,e,u,r,i),ra(t)&&$y(e,t.index)):3&t.type&&(r=function uI(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}function $y(n,t){const e=Ut(t,n);16&e[2]||(e[2]|=32)}function Sd(n,t,e,r){let i=!1;if(Eg()){const o=function mI(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];dy(e,s.selectors,!1)&&(i||(i=[]),pa(Ao(e,t),n,s.type),dn(s)?(Gy(n,e),i.unshift(s)):i.push(s))}return i}(n,t,e),s=null===r?null:{"":-1};if(null!==o){i=!0,qy(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Vi(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=da(e.mergedAttrs,d.hostAttrs),Wy(n,e,t,c,d),_I(c,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}jy(n,e)}s&&function yI(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new S(-301,!1);r.push(t[i],o)}}}(e,r,s)}return e.mergedAttrs=da(e.mergedAttrs,e.attrs),i}function Hy(n,t,e,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function fI(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function zy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Gy(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function _I(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;dn(t)&&(e[""]=n)}}function qy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Wy(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=Hr(i.type)),s=new Mo(o,dn(i),T);n.blueprint[r]=s,e[r]=s,Hy(n,t,0,r,Vi(n,e,i.hostVars,Z),i)}function vI(n,t,e){const r=Yt(t,n),i=Vy(e),o=n[10],s=Oa(n,Na(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=s}function Tn(n,t,e,r,i,o){const s=Yt(n,t);!function Td(n,t,e,r,i,o,s){if(null==o)n.removeAttribute(t,i,e);else{const a=null==s?Y(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}(t[11],s,o,n.value,e,r,i)}function wI(n,t,e,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(e,d,c,u):e[u]=d}}}function CI(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function Ky(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function EI(n,t){const e=Ut(t,n);if(sa(e)){const r=e[1];48&e[2]?Ra(r,e,r.template,e[8]):e[5]>0&&Md(e)}}function Md(n){for(let r=Qu(n);null!==r;r=Yu(r))for(let i=10;i<r.length;i++){const o=r[i];if(sa(o))if(512&o[2]){const s=o[1];Ra(s,o,s.template,o[8])}else o[5]>0&&Md(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Ut(e[r],n);sa(i)&&i[5]>0&&Md(i)}}function SI(n,t){const e=Ut(t,n),r=e[1];(function TI(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),Cd(r,e,e[8])}function Oa(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Id(n){for(;n;){n[2]|=32;const t=Qo(n);if(D1(n)&&!t)return n;n=t}return null}function Fa(n,t,e,r=!0){const i=t[10];i.begin&&i.begin();try{Ra(n,t,n.template,e)}catch(s){throw r&&Jy(t,s),s}finally{i.end&&i.end()}}function Ad(n,t,e){au(0),t(n,e)}function Qy(n){return n[7]||(n[7]=[])}function Yy(n){return n.cleanup||(n.cleanup=[])}function Jy(n,t){const e=n[9],r=e?e.get(Ni,null):null;r&&r.handleError(t)}function xd(n,t,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Xn(n,t,e){const r=oa(t,n);!function Wm(n,t,e){n.setValue(t,e)}(n[11],r,e)}function La(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=$c(i,a):2==o&&(r=$c(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function Va(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(Ue(o)),un(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Va(l[1],l,c,r)}const s=e.type;if(8&s)Va(n,t,e.child,r);else if(32&s){const a=Ku(e,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=iy(t,e);if(Array.isArray(a))r.push(...a);else{const l=Qo(t[16]);Va(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class Zo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Va(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(un(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Xu(t,r),ma(e,r))}this._attachedToViewContainer=!1}Qm(this._lView[1],this._lView)}onDestroy(t){By(this._lView[1],this._lView,null,t)}markForCheck(){Id(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Fa(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lM(n,t){Yo(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t}}class MI extends Zo{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Fa(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class kd extends Go{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=pe(t);return new Jo(e,this.ngModule)}}function Xy(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class AI{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const i=this.injector.get(t,Lu,r);return i!==Lu||e===Lu?i:this.parentInjector.get(t,e,r)}}class Jo extends xm{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function IM(n){return n.map(MM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Xy(this.componentDef.inputs)}get outputs(){return Xy(this.componentDef.outputs)}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof mr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new AI(t,o):t,a=s.get(qo,null);if(null===a)throw new S(407,!1);const l=s.get(IT,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function lI(n,t,e){return n.selectRootElement(t,e===ln.ShadowDom)}(c,r,this.componentDef.encapsulation):Ju(a.createRenderer(null,this.componentDef),u,function II(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,f=Ed(0,null,null,1,0,null,null,null,null,null),y=Na(null,f,null,h,null,null,a,c,l,s,null);let _,C;lu(y);try{const E=function PI(n,t,e,r,i,o){const s=e[1];e[22]=n;const l=Li(s,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(La(l,c,!0),null!==n&&(ua(i,n,c),null!==l.classes&&id(i,n,l.classes),null!==l.styles&&ay(i,n,l.styles)));const u=r.createRenderer(n,t),d=Na(e,Vy(t),null,t.onPush?32:16,e[22],l,r,u,o||null,null,null);return s.firstCreatePass&&(pa(Ao(l,e),s,t.type),Gy(s,l),qy(l,e.length,1)),Oa(e,d),e[22]=d}(d,this.componentDef,y,a,c);if(d)if(r)ua(c,d,["ng-version",AT.full]);else{const{attrs:x,classes:D}=function AM(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!hn(i))break;i=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);x&&ua(c,d,x),D&&D.length>0&&id(c,d,D.join(" "))}if(C=tu(f,22),void 0!==e){const x=C.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const P=e[D];x.push(null!=P?Array.from(P):null)}}_=function NI(n,t,e,r){const i=e[1],o=function hI(n,t,e){const r=Qe();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Wy(n,r,t,Vi(n,t,1,null),e),jy(n,r));const i=xo(t,n,r.directiveStart,r);ct(i,t);const o=Yt(r,t);return o&&ct(o,t),i}(i,e,t);if(n[8]=e[8]=o,null!==r)for(const a of r)a(o,t);if(t.contentQueries){const a=Qe();t.contentQueries(1,o,a.directiveStart)}const s=Qe();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(fr(s.index),Hy(e[1],s,0,s.directiveStart,s.directiveEnd,t),zy(t,o)),o}(E,this.componentDef,y,[RI]),Cd(f,y,null)}finally{cu()}return new kI(this.componentType,_,Pi(C,y),y,C)}}class kI extends class bT{}{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new MI(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;xd(o[1],o,i,t,e),$y(o,this._tNode.index)}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function RI(){const n=Qe();aa(A()[1],n)}function ge(n){let t=function e_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(dn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=Pd(n.inputs),s.declaredInputs=Pd(n.declaredInputs),s.outputs=Pd(n.outputs);const a=i.hostBindings;a&&VI(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&FI(n,l),c&&LI(n,c),jc(n.inputs,i.inputs),jc(n.declaredInputs,i.declaredInputs),jc(n.outputs,i.outputs),dn(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ge&&(e=!1)}}t=Object.getPrototypeOf(t)}!function OI(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=da(i.hostAttrs,e=da(e,i.hostAttrs))}}(r)}function Pd(n){return n===fi?{}:n===he?[]:n}function FI(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function LI(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function VI(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let Ba=null;function Wr(){if(!Ba){const n=we.Symbol;if(n&&n.iterator)Ba=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ba=r)}}}return Ba}function Xo(n){return!!Nd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Wr()in n)}function Nd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ut(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function In(n,t,e,r){const i=A();return ut(i,vi(),t)&&(ue(),Tn(Re(),i,n,t,e,r)),In}function Ui(n,t,e,r){return ut(n,vi(),e)?t+Y(e)+r:Z}function ji(n,t,e,r,i,o){const a=function Kr(n,t,e,r){const i=ut(n,t,e);return ut(n,t+1,r)||i}(n,function qn(){return Q.lFrame.bindingIndex}(),e,i);return Wn(2),a?t+Y(e)+r+Y(i)+o:Z}function M(n,t,e,r,i,o,s,a){const l=A(),c=ue(),u=n+22,d=c.firstCreatePass?function qI(n,t,e,r,i,o,s,a,l){const c=t.consts,u=Li(t,n,4,s||null,hr(c,a));Sd(t,e,u,hr(c,l)),aa(t,u);const d=u.tViews=Ed(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,r,i,o,s):c.data[u];En(d,!1);const h=l[11].createComment("");Ma(c,l,h,d),ct(h,l),Oa(l,l[u]=Ky(h,l,h,d)),ia(d)&&bd(c,l,d),null!=s&&Dd(l,d,a)}function Rd(n){return function _i(n,t){return n[t]}(function $1(){return Q.lFrame.contextLView}(),22+n)}function w(n,t,e){const r=A();return ut(r,vi(),t)&&zt(ue(),Re(),r,n,t,r[11],e,!1),w}function Od(n,t,e,r,i){const s=i?"class":"style";xd(n,e,t.inputs[s],s,r)}function m(n,t,e,r){const i=A(),o=ue(),s=22+n,a=i[11],l=i[s]=Ju(a,t,function X1(){return Q.lFrame.currentNamespace}()),c=o.firstCreatePass?function KI(n,t,e,r,i,o,s){const a=t.consts,c=Li(t,n,2,i,hr(a,o));return Sd(t,e,c,hr(a,s)),null!==c.attrs&&La(c,c.attrs,!1),null!==c.mergedAttrs&&La(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,0,t,e,r):o.data[s];En(c,!0);const u=c.mergedAttrs;null!==u&&ua(a,l,u);const d=c.classes;null!==d&&id(a,l,d);const h=c.styles;return null!==h&&ay(a,l,h),64!=(64&c.flags)&&Ma(o,i,l,c),0===function L1(){return Q.lFrame.elementDepthCount}()&&ct(l,i),function V1(){Q.lFrame.elementDepthCount++}(),ia(c)&&(bd(o,i,c),function Ly(n,t,e){if(Yc(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}(o,c,i)),null!==r&&Dd(i,c),m}function g(){let n=Qe();ru()?function iu(){Q.lFrame.isParent=!1}():(n=n.parent,En(n,!1));const t=n;!function B1(){Q.lFrame.elementDepthCount--}();const e=ue();return e.firstCreatePass&&(aa(e,n),Yc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function iS(n){return 0!=(16&n.flags)}(t)&&Od(e,t,A(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function oS(n){return 0!=(32&n.flags)}(t)&&Od(e,t,A(),t.stylesWithoutHost,!1),g}function I(n,t,e,r){return m(n,t,e,r),g(),I}function ne(){return A()}function ts(n){return!!n&&"function"==typeof n.then}const Vd=function d_(n){return!!n&&"function"==typeof n.subscribe};function k(n,t,e,r){const i=A(),o=ue(),s=Qe();return function f_(n,t,e,r,i,o,s,a){const l=ia(r),u=n.firstCreatePass&&Yy(n),d=t[8],h=Qy(t);let f=!0;if(3&r.type||a){const C=Yt(r,t),E=a?a(C):C,x=h.length,D=a?J=>a(Ue(J[r.index])):r.index;let P=null;if(!a&&l&&(P=function YI(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=t[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,f=!1;else{o=g_(r,t,d,o,!1);const J=e.listen(E,i,o);h.push(o,J),u&&u.push(i,D,x,x+1)}}else o=g_(r,t,d,o,!1);const y=r.outputs;let _;if(f&&null!==y&&(_=y[i])){const C=_.length;if(C)for(let E=0;E<C;E+=2){const ie=t[_[E]][_[E+1]].subscribe(o),Me=h.length;h.push(o,ie),u&&u.push(i,r.index,Me,-(Me+1))}}}(o,i,i[11],s,n,t,0,r),k}function p_(n,t,e,r){try{return!1!==e(r)}catch(i){return Jy(n,i),!1}}function g_(n,t,e,r,i){return function o(s){if(s===Function)return r;Id(2&n.flags?Ut(n.index,t):t);let l=p_(t,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=p_(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function b(n=1){return function W1(n){return(Q.lFrame.contextLView=function K1(n,t){for(;n>0;)t=t[15],n--;return t}(n,Q.lFrame.contextLView))[8]}(n)}function Ki(n,t,e){return Bd(n,"",t,"",e),Ki}function Bd(n,t,e,r,i){const o=A(),s=Ui(o,t,e,r);return s!==Z&&zt(ue(),Re(),o,n,s,o[11],i,!1),Bd}function E_(n,t,e,r,i){const o=n[e+1],s=null===t;let a=r?fn(o):Jn(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];nA(n[a],t)&&(l=!0,n[a+1]=r?hd(u):ud(u)),a=r?fn(u):Jn(u)}l&&(n[e+1]=r?ud(o):hd(o))}function nA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Mi(n,t)>=0}function ja(n,t){return function pn(n,t,e,r){const i=A(),o=ue(),s=Wn(2);o.firstUpdatePass&&function N_(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[vt()],s=function P_(n,t){return t>=n.expandoStartIndex}(n,e);(function L_(n,t){return 0!=(n.flags&(t?16:32))})(o,r)&&null===t&&!s&&(t=!1),t=function dA(n,t,e,r){const i=function su(n){const t=Q.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=ns(e=Ud(null,n,t,e,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=Ud(i,n,t,e,r),null===o){let l=function hA(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Jn(r))return n[fn(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=Ud(null,n,t,l[1],r),l=ns(l,t.attrs,r),function fA(n,t,e,r){n[fn(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else o=function pA(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ns(r,n[o].hostAttrs,e);return ns(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function eA(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=fn(s),l=Jn(s);n[r]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||Mi(d,u)>0)&&(c=!0)}else u=e;if(i)if(0!==l){const h=fn(n[a+1]);n[r+1]=xa(h,a),0!==h&&(n[h+1]=dd(n[h+1],r)),n[a+1]=function KM(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=xa(a,0),0!==a&&(n[a+1]=dd(n[a+1],r)),a=r;else n[r+1]=xa(l,0),0===a?a=r:n[l+1]=dd(n[l+1],r),l=r;c&&(n[r+1]=ud(n[r+1])),E_(n,u,r,!0),E_(n,u,r,!1),function tA(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Mi(o,t)>=0&&(e[r+1]=hd(e[r+1]))}(t,u,n,r,o),s=xa(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,e,s,r)}}(o,n,s,r),t!==Z&&ut(i,s,t)&&function O_(n,t,e,r,i,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];$a(function My(n){return 1==(1&n)}(c)?F_(l,t,e,i,Jn(c),s):void 0)||($a(o)||function Ty(n){return 2==(2&n)}(c)&&(o=F_(l,null,e,i,a,s)),function _M(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:xt.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xt.Important),n.setStyle(e,r,i,o))}}(r,s,oa(vt(),e),i,o))}(o,o.data[vt()],i,i[11],n,i[s+1]=function yA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=ve(gr(n)))),n}(t,e),r,s)}(n,t,null,!0),ja}function Ud(n,t,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],r=ns(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function ns(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$t(n,s,!!e||t[++o]))}return void 0===n?null:n}function F_(n,t,e,r,i,o){const s=null===t;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[i+1];h===Z&&(h=d?he:void 0);let f=d?_u(h,r):u===r?h:void 0;if(c&&!$a(f)&&(f=_u(l,r)),$a(f)&&(a=f,s))return a;const y=n[i+1];i=s?fn(y):Jn(y)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=_u(l,r))}return a}function $a(n){return void 0!==n}function p(n,t=""){const e=A(),r=ue(),i=n+22,o=r.firstCreatePass?Li(r,i,1,t,null):r.data[i],s=e[i]=function Zu(n,t){return n.createText(t)}(e[11],t);Ma(r,e,s,o),En(o,!1)}function er(n){return $e("",n,""),er}function $e(n,t,e){const r=A(),i=Ui(r,n,t,e);return i!==Z&&Xn(r,vt(),i),$e}function Yi(n,t,e,r,i){const o=A(),s=ji(o,n,t,e,r,i);return s!==Z&&Xn(o,vt(),s),Yi}const Ji="en-US";let iv=Ji;function Hd(n,t,e,r,i){if(n=W(n),Array.isArray(n))for(let o=0;o<n.length;o++)Hd(n[o],t,e,r,i);else{const o=ue(),s=A();let a=Gr(n)?n:W(n.provide),l=Am(n);const c=Qe(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Gr(n)||!n.multi){const f=new Mo(l,i,T),y=Gd(a,t,i?u:u+h,d);-1===y?(pa(Ao(c,s),o,a),zd(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[y]=f,s[y]=f)}else{const f=Gd(a,t,u+h,d),y=Gd(a,t,u,u+h),_=f>=0&&e[f],C=y>=0&&e[y];if(i&&!C||!i&&!_){pa(Ao(c,s),o,a);const E=function Ox(n,t,e,r,i){const o=new Mo(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,Av(o,i,r&&!e),o}(i?Rx:Nx,e.length,i,r,l);!i&&C&&(e[y].providerFactory=E),zd(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(E),s.push(E)}else zd(o,n,f>-1?f:y,Av(e[i?y:f],l,!i&&r));!i&&r&&C&&e[y].componentProviders++}}}function zd(n,t,e,r){const i=Gr(t),o=function pT(n){return!!n.useClass}(t);if(i||o){const l=(o?W(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function Av(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Gd(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function Nx(n,t,e,r){return qd(this.multi,[])}function Rx(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=xo(e,e[1],this.providerFactory.index,r);o=a.slice(0,s),qd(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],qd(i,o);return o}function qd(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ae(n,t=[]){return e=>{e.providersResolver=(r,i)=>function Px(n,t,e){const r=ue();if(r.firstCreatePass){const i=dn(n);Hd(e,r.data,r.blueprint,i,!0),Hd(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Yr{}class xv{}class kv extends Yr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kd(this);const r=Lt(t);this._bootstrapComponents=Zn(r.bootstrap),this._r3Injector=_y(t,e,[{provide:Yr,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],ve(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wd extends xv{constructor(t){super(),this.moduleType=t}create(t){return new kv(this.moduleType,t)}}class Lx extends Yr{constructor(t,e,r){super(),this.componentFactoryResolver=new kd(this),this.instance=null;const i=new Im([...t,{provide:Yr,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],e||Sa(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Wa(n,t,e=null){return new Lx(n,t,e).injector}let Vx=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=Em(0,e.type),i=r.length>0?Wa([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(F(mr))}),n})();function Pv(n){n.getStandaloneInjector=t=>t.get(Vx).getOrCreateStandaloneInjector(n)}function Bv(n,t,e){const r=function _t(){const n=Q.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}()+n,i=A();return i[r]===Z?function Mn(n,t,e){return n[t]=e}(i,r,e?t.call(e):t()):function es(n,t){return n[t]}(i,r)}function Qd(n){return t=>{setTimeout(n,void 0,t)}}const Te=class ck extends Dn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Qd(o),i&&(i=Qd(i)),s&&(s=Qd(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof gt&&t.add(a),a}};function uk(){return this._results[Wr()]()}class Yd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Wr(),r=Yd.prototype;r[e]||(r[e]=uk)}get changes(){return this._changes||(this._changes=new Te)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=jt(t);(this._changesDetected=!function gS(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let tr=(()=>{class n{}return n.__NG_ELEMENT_ID__=fk,n})();const dk=tr,hk=class extends dk{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=Na(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),Cd(r,i,t),new Zo(i)}};function fk(){return Ka(Qe(),A())}function Ka(n,t){return 4&n.type?new hk(t,n,Pi(n,t)):null}let mn=(()=>{class n{}return n.__NG_ELEMENT_ID__=pk,n})();function pk(){return Wv(Qe(),A())}const gk=mn,Gv=class extends gk{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Pi(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const t=fa(this._hostTNode,this._hostLView);if(Bg(t)){const e=Ci(t,this._hostLView),r=wi(t);return new bi(e[1].data[r+8],e)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=qv(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,i),s}createComponent(t,e,r,i,o){const s=t&&!function No(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new Jo(pe(t)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(mr,null);h&&(o=h)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const r=t._lView,i=r[1];if(function F1(n){return un(n[3])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=r[3],h=new Gv(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function uM(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],Yg(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function dM(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(i,r,s,o);const a=nd(o,s),l=r[11],c=Ta(l,s[7]);return null!==c&&function aM(n,t,e,r,i,o){r[0]=i,r[6]=t,Yo(n,r,e,1,i,o)}(i,s[6],l,r,c,a),t.attachToViewContainerRef(),Yg(Zd(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=qv(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Xu(this._lContainer,e);r&&(ma(Zd(this._lContainer),e),Qm(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Xu(this._lContainer,e);return r&&null!=ma(Zd(this._lContainer),e)?new Zo(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function qv(n){return n[8]}function Zd(n){return n[8]||(n[8]=[])}function Wv(n,t){let e;const r=t[n.index];if(un(r))e=r;else{let i;if(8&n.type)i=Ue(r);else{const o=t[11];i=o.createComment("");const s=Yt(n,t);qr(o,Ta(o,s),i,function gM(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=Ky(r,t,i,n),Oa(t,e)}return new Gv(e,n,t)}class Jd{constructor(t){this.queryList=t,this.matches=null}clone(){return new Jd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const s=e.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Xd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Xv(t,e).matches&&this.queries[e].setDirty()}}class Kv{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class eh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new eh(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class th{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new th(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,_k(e,o)),this.matchTNodeWithReadOption(t,e,ga(e,t,o,!1,!1))}else r===tr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ga(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ht||i===mn||i===tr&&4&e.type)this.addMatch(e.index,-2);else{const o=ga(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function _k(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function wk(n,t,e,r){return-1===e?function vk(n,t){return 11&n.type?Pi(n,t):4&n.type?Ka(n,t):null}(t,n):-2===e?function Ck(n,t,e){return e===Ht?Pi(t,n):e===tr?Ka(t,n):e===mn?Wv(t,n):void 0}(n,t,r):xo(n,n[1],e,t)}function Qv(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:wk(t,o[c],s[l+1],e.metadata.read))}i.matches=a}return i.matches}function nh(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const s=Qv(n,t,i,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&nh(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];nh(f[1],f,c,r)}}}}}return r}function Qa(n){const t=A(),e=ue(),r=Ag();au(r+1);const i=Xv(e,r);if(n.dirty&&function O1(n){return 4==(4&n[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?nh(e,t,r,[]):Qv(e,t,i,r);n.reset(o,TT),n.notifyOnChanges()}return!0}return!1}function Yv(n,t,e){const r=ue();r.firstCreatePass&&(function Jv(n,t,e){null===n.queries&&(n.queries=new eh),n.queries.track(new th(t,e))}(r,new Kv(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Zv(n,t,e){const r=new Yd(4==(4&e));By(n,t,r,r.destroy),null===t[19]&&(t[19]=new Xd),t[19].queries.push(new Jd(r))}(r,A(),t)}function Xv(n,t){return n.queries.getByIndex(t)}function Ja(...n){}const Xa=new $("Application Initializer");let el=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Ja,this.reject=Ja,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(ts(o))e.push(o);else if(Vd(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(F(Xa,8))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ds=new $("AppId",{providedIn:"root",factory:function _w(){return`${lh()}${lh()}${lh()}`}});function lh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vw=new $("Platform Initializer"),ww=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Cw=new $("appBootstrapListener"),bw=new $("AnimationModuleType");let zk=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nr=new $("LocaleId",{providedIn:"root",factory:()=>Fe(nr,z.Optional|z.SkipSelf)||function Gk(){return typeof $localize<"u"&&$localize.locale||Ji}()});class Wk{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let ch=(()=>{class n{compileModuleSync(e){return new Wd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=Zn(Lt(e).declarations).reduce((s,a)=>{const l=pe(a);return l&&s.push(new Jo(l)),s},[]);return new Wk(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yk=(()=>Promise.resolve(0))();function uh(n){typeof Zone>"u"?Yk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Le{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Zk(){let n=we.requestAnimationFrame,t=we.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function eP(n){const t=()=>{!function Xk(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(we,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hh(n),n.isCheckStableRunning=!0,dh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{try{return Sw(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),Tw(n)}},onInvoke:(e,r,i,o,s,a,l)=>{try{return Sw(n),e.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),Tw(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,hh(n),dh(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new S(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Jk,Ja,Ja);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const Jk={};function dh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Sw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Tw(n){n._nesting--,dh(n)}class tP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const Mw=new $(""),tl=new $("");let gh,fh=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gh||(function nP(n){gh=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),uh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(F(Le),F(ph),F(tl))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})(),ph=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return gh?.findTestabilityInTree(this,e,r)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vr=null;const Iw=new $("AllowMultipleToken"),mh=new $("PlatformDestroyListeners");class Aw{constructor(t,e){this.name=t,this.token=e}}function kw(n,t,e=[]){const r=`Platform: ${t}`,i=new $(r);return(o=[])=>{let s=yh();if(!s||s.injector.get(Iw,!1)){const a=[...e,...o,{provide:i,useValue:!0}];n?n(a):function oP(n){if(vr&&!vr.get(Iw,!1))throw new S(400,!1);vr=n;const t=n.get(Nw);(function xw(n){const t=n.get(vw,null);t&&t.forEach(e=>e())})(n)}(function Pw(n=[],t){return Zt.create({name:t,providers:[{provide:Nu,useValue:"platform"},{provide:mh,useValue:new Set([()=>vr=null])},...n]})}(a,r))}return function aP(n){const t=yh();if(!t)throw new S(401,!1);return t}()}}function yh(){return vr?.get(Nw)??null}let Nw=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function Ow(n,t){let e;return e="noop"===n?new tP:("zone.js"===n?void 0:n)||new Le(t),e}(r?.ngZone,function Rw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Le,useValue:i}];return i.run(()=>{const s=Zt.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),l=a.injector.get(Ni,null);if(!l)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{nl(this._modules,a),c.unsubscribe()})}),function Fw(n,t,e){try{const r=e();return ts(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(el);return c.runInitializers(),c.donePromise.then(()=>(function ov(n){Ot(n,"Expected localeId to be defined"),"string"==typeof n&&(iv=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(nr,Ji)||Ji),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const i=Lw({},r);return function rP(n,t,e){const r=new Wd(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(hs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new S(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(mh,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(F(Zt))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Lw(n,t){return Array.isArray(t)?t.reduce(Lw,n):{...n,...t}}let hs=(()=>{class n{constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ce(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ce(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),uh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function o1(...n){const t=wo(n),e=function JE(n,t){return"number"==typeof Bc(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?sn(r[0]):hi(e)(Be(r,t)):$n}(o,s.pipe(lg()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof xm;if(!this._injector.get(el).done)throw!i&&function pi(n){const t=pe(n)||mt(n)||yt(n);return null!==t&&t.standalone}(e),new S(405,false);let s;s=i?e:this._injector.get(Go).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function iP(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Yr),c=s.create(Zt.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(Mw,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),nl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;nl(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Cw,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>nl(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new S(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(F(Le),F(mr),F(Ni))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nl(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Bw=!0,rl=(()=>{class n{}return n.__NG_ELEMENT_ID__=uP,n})();function uP(n){return function dP(n,t,e){if(ra(n)&&!e){const r=Ut(n.index,t);return new Zo(r,r)}return 47&n.type?new Zo(t[16],t):null}(Qe(),A(),16==(16&n))}class zw{constructor(){}supports(t){return Xo(t)}create(t){return new yP(t)}}const mP=(n,t)=>t;class yP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||mP}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<qw(r,i,o)?e:r,a=qw(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,y=f+h;u<=y&&y<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xo(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function HI(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Wr()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new _P(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gw),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class _P{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class Gw{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new vP,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qw(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class Ww{constructor(){}supports(t){return t instanceof Map||Nd(t)}create(){return new wP}}class wP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Nd(t)))throw new S(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new CP(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class CP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kw(){return new sl([new zw])}let sl=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Kw()),deps:[[n,new Bo,new Vo]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=G({token:n,providedIn:"root",factory:Kw}),n})();function Qw(){return new fs([new Ww])}let fs=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Qw()),deps:[[n,new Bo,new Vo]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new S(901,!1)}}return n.\u0275prov=G({token:n,providedIn:"root",factory:Qw}),n})();const EP=kw(null,"core",[]);let SP=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(F(hs))},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({}),n})();let al=null;function kn(){return al}const dt=new $("DocumentToken");let bh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:function(){return function AP(){return F(Yw)}()},providedIn:"platform"}),n})();const xP=new $("Location Initialized");let Yw=(()=>{class n extends bh{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kn().getBaseHref(this._doc)}onPopState(e){const r=kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){Zw()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){Zw()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(F(dt))},n.\u0275prov=G({token:n,factory:function(){return function kP(){return new Yw(F(dt))}()},providedIn:"platform"}),n})();function Zw(){return!!window.history.pushState}function Dh(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Jw(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function or(n){return n&&"?"!==n[0]?"?"+n:n}let Jr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:function(){return Fe(eC)},providedIn:"root"}),n})();const Xw=new $("appBaseHref");let eC=(()=>{class n extends Jr{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Fe(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Dh(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+or(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(F(bh),F(Xw,8))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PP=(()=>{class n extends Jr{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Dh(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(F(bh),F(Xw,8))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})(),Eh=(()=>{class n{constructor(e){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=Jw(tC(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+or(r))}normalize(e){return n.stripTrailingSlash(function RP(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,tC(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+or(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+or(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=or,n.joinWithSlash=Dh,n.stripTrailingSlash=Jw,n.\u0275fac=function(e){return new(e||n)(F(Jr))},n.\u0275prov=G({token:n,factory:function(){return function NP(){return new Eh(F(Jr))}()},providedIn:"root"}),n})();function tC(n){return n.replace(/\/index.html$/,"")}let uC=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Xo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ve(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(T(sl),T(fs),T(Ht),T(Yn))},n.\u0275dir=K({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class vN{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rh=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new vN(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),fC(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{fC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(T(mn),T(tr),T(sl))},n.\u0275dir=K({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fC(n,t){n.context.$implicit=t.item}let to=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new CN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pC("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pC("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(T(mn),T(tr))},n.\u0275dir=K({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class CN{constructor(){this.$implicit=null,this.ngIf=null}}function pC(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ve(t)}'.`)}let KN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({}),n})();let JN=(()=>{class n{}return n.\u0275prov=G({token:n,providedIn:"root",factory:()=>new XN(F(dt),window)}),n})();class XN{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function eR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=_C(this.window.history)||_C(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _C(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jh extends class vR extends class IP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function MP(n){al||(al=n)}(new jh)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function wR(){return ys=ys||document.querySelector("base"),ys?ys.getAttribute("href"):null}();return null==e?null:function CR(n){_l=_l||document.createElement("a"),_l.setAttribute("href",n);const t=_l.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function yN(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let _l,ys=null;const bC=new $("TRANSITION_ID"),DR=[{provide:Xa,useFactory:function bR(n,t,e){return()=>{e.get(el).donePromise.then(()=>{const r=kn(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[bC,dt,Zt],multi:!0}];let SR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const vl=new $("EventManagerPlugins");let wl=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(F(vl),F(Le))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();class DC{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=kn().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let EC=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})(),_s=(()=>{class n extends EC{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(SC),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(SC))}}return n.\u0275fac=function(e){return new(e||n)(F(dt))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();function SC(n){kn().remove(n)}const $h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hh=/%COMP%/g;function Cl(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Cl(n,i,e):(i=i.replace(Hh,n),e.push(i))}return e}function IC(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let bl=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zh(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case ln.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new kR(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case ln.ShadowDom:return new PR(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Cl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(F(wl),F(_s),F(ds))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();class zh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS($h[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(xC(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(xC(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=$h[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=$h[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(xt.DashCase|xt.Important)?t.style.setProperty(e,r,i&xt.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&xt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,IC(r)):this.eventManager.addEventListener(t,e,IC(r))}}function xC(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class kR extends zh{constructor(t,e,r,i){super(t),this.component=r;const o=Cl(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function IR(n){return"_ngcontent-%COMP%".replace(Hh,n)}(i+"-"+r.id),this.hostAttr=function AR(n){return"_nghost-%COMP%".replace(Hh,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class PR extends zh{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Cl(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let NR=(()=>{class n extends DC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(F(dt))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const kC=["alt","control","meta","shift"],RR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let FR=(()=>{class n extends DC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kn().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kC.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=RR[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kC.forEach(s=>{s!==i&&(0,OR[s])(e)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(F(dt))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const UR=kw(EP,"browser",[{provide:ww,useValue:"browser"},{provide:vw,useValue:function LR(){jh.makeCurrent()},multi:!0},{provide:dt,useFactory:function BR(){return function US(n){Du=n}(document),document},deps:[]}]),RC=new $(""),OC=[{provide:tl,useClass:class ER{addToWindow(t){we.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},we.getAllAngularTestabilities=()=>t.getAllTestabilities(),we.getAllAngularRootElements=()=>t.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?kn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:Mw,useClass:fh,deps:[Le,ph,tl]},{provide:fh,useClass:fh,deps:[Le,ph,tl]}],FC=[{provide:Nu,useValue:"root"},{provide:Ni,useFactory:function VR(){return new Ni},deps:[]},{provide:vl,useClass:NR,multi:!0,deps:[dt,Le,ww]},{provide:vl,useClass:FR,multi:!0,deps:[dt]},{provide:bl,useClass:bl,deps:[wl,_s,ds]},{provide:qo,useExisting:bl},{provide:EC,useExisting:_s},{provide:_s,useClass:_s,deps:[dt]},{provide:wl,useClass:wl,deps:[vl,Le]},{provide:class tR{},useClass:SR,deps:[]},[]];let LC=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:ds,useValue:e.appId},{provide:bC,useExisting:ds},DR]}}}return n.\u0275fac=function(e){return new(e||n)(F(RC,12))},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({providers:[...FC,...OC],imports:[KN,SP]}),n})(),VC=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(F(dt))},n.\u0275prov=G({token:n,factory:function(e){let r=null;return r=e?new e:function $R(){return new VC(F(dt))}(),r},providedIn:"root"}),n})();function j(...n){return Be(n,wo(n))}typeof window<"u"&&window;class wn extends Dn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Dl=xc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:YR}=Array,{getPrototypeOf:ZR,prototype:JR,keys:XR}=Object;function jC(n){if(1===n.length){const t=n[0];if(YR(t))return{args:t,keys:null};if(function eO(n){return n&&"object"==typeof n&&ZR(n)===JR}(t)){const e=XR(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:tO}=Array;function $C(n){return ce(t=>function nO(n,t){return tO(t)?n(...t):n(t)}(n,t))}function HC(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function zC(...n){const t=wo(n),e=ig(n),{args:r,keys:i}=jC(n);if(0===r.length)return Be([],t);const o=new Ce(function rO(n,t,e=Lr){return r=>{GC(t,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)GC(t,()=>{const c=Be(n[l],t);let u=!1;c.subscribe(Ke(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>HC(i,s):Lr));return e?o.pipe($C(e)):o}function GC(n,t,e){n?jn(e,n,t):t()}function Wh(...n){return function iO(){return hi(1)}()(Be(n,wo(n)))}function qC(n){return new Ce(t=>{sn(n()).subscribe(t)})}function vs(n,t){const e=xe(n)?n:()=>n,r=i=>i.error(e());return new Ce(t?i=>t.schedule(r,0,i):r)}function Kh(){return tt((n,t)=>{let e=null;n._refCount++;const r=Ke(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class WC extends Ce{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,zp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new gt;const e=this.getSubject();t.add(this.source.subscribe(Ke(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=gt.EMPTY)}return t}refCount(){return Kh()(this)}}function Pn(n,t){return tt((e,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();e.subscribe(Ke(r,l=>{i?.unsubscribe();let c=0;const u=o++;sn(n(l,u)).subscribe(i=Ke(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ws(n){return n<=0?()=>$n:tt((t,e)=>{let r=0;t.subscribe(Ke(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Cr(n,t){return tt((e,r)=>{let i=0;e.subscribe(Ke(r,o=>n.call(t,o,i++)&&r.next(o)))})}function El(n){return tt((t,e)=>{let r=!1;t.subscribe(Ke(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function KC(n=sO){return tt((t,e)=>{let r=!1;t.subscribe(Ke(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function sO(){return new Dl}function br(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Cr((i,o)=>n(i,o,r)):Lr,ws(1),e?El(t):KC(()=>new Dl))}function Xr(n,t){return xe(t)?rt(n,t,1):rt(n,1)}function ft(n,t,e){const r=xe(n)||t||e?{next:n,error:t,complete:e}:n;return r?tt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ke(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Lr}function Dr(n){return tt((t,e)=>{let o,r=null,i=!1;r=t.subscribe(Ke(e,void 0,void 0,s=>{o=sn(n(s,Dr(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function aO(n,t,e,r,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Ke(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function QC(n,t){return tt(aO(n,t,arguments.length>=2,!0))}function Qh(n){return n<=0?()=>$n:tt((t,e)=>{let r=[];t.subscribe(Ke(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function YC(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Cr((i,o)=>n(i,o,r)):Lr,Qh(1),e?El(t):KC(()=>new Dl))}function Yh(n){return tt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const re="primary",Cs=Symbol("RouteTitle");class uO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function no(n){return new uO(n)}function dO(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Nn(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!ZC(n[i],t[i]))return!1;return!0}function ZC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function JC(n){return Array.prototype.concat.apply([],n)}function XC(n){return n.length>0?n[n.length-1]:null}function it(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Er(n){return Vd(n)?n:ts(n)?Be(Promise.resolve(n)):j(n)}const pO={exact:function nb(n,t,e){if(!ti(n.segments,t.segments)||!Sl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!nb(n.children[r],t.children[r],e))return!1;return!0},subset:rb},eb={exact:function gO(n,t){return Nn(n,t)},subset:function mO(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ZC(n[e],t[e]))},ignored:()=>!0};function tb(n,t,e){return pO[e.paths](n.root,t.root,e.matrixParams)&&eb[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function rb(n,t,e){return ib(n,t,t.segments,e)}function ib(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!ti(i,e)||t.hasChildren()||!Sl(i,e,r))}if(n.segments.length===e.length){if(!ti(n.segments,e)||!Sl(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!rb(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ti(n.segments,i)&&Sl(n.segments,i,r)&&n.children[re])&&ib(n.children[re],t,o,r)}}function Sl(n,t,e){return t.every((r,i)=>eb[e](n[i].parameters,r.parameters))}class ei{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return vO.serialize(this)}}class oe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,it(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tl(this)}}class bs{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=no(this.parameters)),this._parameterMap}toString(){return lb(this)}}function ti(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let ob=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:function(){return new Jh},providedIn:"root"}),n})();class Jh{parse(t){const e=new IO(t);return new ei(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ds(t.root,!0)}`,r=function bO(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Ml(e)}=${Ml(i)}`).join("&"):`${Ml(e)}=${Ml(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function wO(n){return encodeURI(n)}(t.fragment)}`:""}`}}const vO=new Jh;function Tl(n){return n.segments.map(t=>lb(t)).join("/")}function Ds(n,t){if(!n.hasChildren())return Tl(n);if(t){const e=n.children[re]?Ds(n.children[re],!1):"",r=[];return it(n.children,(i,o)=>{o!==re&&r.push(`${o}:${Ds(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function _O(n,t){let e=[];return it(n.children,(r,i)=>{i===re&&(e=e.concat(t(r,i)))}),it(n.children,(r,i)=>{i!==re&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===re?[Ds(n.children[re],!1)]:[`${i}:${Ds(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[re]?`${Tl(n)}/${e[0]}`:`${Tl(n)}/(${e.join("//")})`}}function sb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ml(n){return sb(n).replace(/%3B/gi,";")}function Xh(n){return sb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Il(n){return decodeURIComponent(n)}function ab(n){return Il(n.replace(/\+/g,"%20"))}function lb(n){return`${Xh(n.path)}${function CO(n){return Object.keys(n).map(t=>`;${Xh(t)}=${Xh(n[t])}`).join("")}(n.parameters)}`}const DO=/^[^\/()?;=#]+/;function Al(n){const t=n.match(DO);return t?t[0]:""}const EO=/^[^=?&#]+/,TO=/^[^&#]+/;class IO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[re]=new oe(t,e)),r}parseSegment(){const t=Al(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new bs(Il(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Al(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Al(this.remaining);i&&(r=i,this.capture(r))}t[Il(e)]=Il(r)}parseQueryParam(t){const e=function SO(n){const t=n.match(EO);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function MO(n){const t=n.match(TO);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=ab(e),o=ab(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Al(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=re);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[re]:new oe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}}function ef(n){return n.segments.length>0?new oe([],{[re]:n}):n}function xl(n){const t={};for(const r of Object.keys(n.children)){const o=xl(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function AO(n){if(1===n.numberOfChildren&&n.children[re]){const t=n.children[re];return new oe(n.segments.concat(t.segments),t.children)}return n}(new oe(n.segments,t))}function ni(n){return n instanceof ei}function PO(n,t,e,r,i){if(0===e.length)return ro(t.root,t.root,t.root,r,i);const o=function db(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ub(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return it(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new ub(e,t,r)}(e);return o.toRoot()?ro(t.root,t.root,new oe([],{}),r,i):function s(l){const c=function RO(n,t,e,r){if(n.isAbsolute)return new io(t.root,!0,0);if(-1===r)return new io(e,e===t.root,0);return function hb(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new io(r,!1,i-o)}(e,r+(Es(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,l),u=c.processChildren?Ts(c.segmentGroup,c.index,o.commands):nf(c.segmentGroup,c.index,o.commands);return ro(t.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Es(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ss(n){return"object"==typeof n&&null!=n&&n.outlets}function ro(n,t,e,r,i){let s,o={};r&&it(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===t?e:cb(n,t,e);const a=ef(xl(s));return new ei(a,o,i)}function cb(n,t,e){const r={};return it(n.children,(i,o)=>{r[o]=i===t?e:cb(i,t,e)}),new oe(n.segments,r)}class ub{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Es(r[0]))throw new S(4003,!1);const i=r.find(Ss);if(i&&i!==XC(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class io{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function nf(n,t,e){if(n||(n=new oe([],{})),0===n.segments.length&&n.hasChildren())return Ts(n,t,e);const r=function FO(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const s=n.segments[i],a=e[r];if(Ss(a))break;const l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!pb(l,c,s))return o;r+=2}else{if(!pb(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new oe(n.segments.slice(0,r.pathIndex),{});return o.children[re]=new oe(n.segments.slice(r.pathIndex),n.children),Ts(o,0,i)}return r.match&&0===i.length?new oe(n.segments,{}):r.match&&!n.hasChildren()?rf(n,t,e):r.match?Ts(n,0,i):rf(n,t,e)}function Ts(n,t,e){if(0===e.length)return new oe(n.segments,{});{const r=function OO(n){return Ss(n[0])?n[0].outlets:{[re]:n}}(e),i={};return it(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=nf(n.children[s],t,o))}),it(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new oe(n.segments,i)}}function rf(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(Ss(o)){const l=LO(o.outlets);return new oe(r,l)}if(0===i&&Es(e[0])){r.push(new bs(n.segments[t].path,fb(e[0]))),i++;continue}const s=Ss(o)?o.outlets[re]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Es(a)?(r.push(new bs(s,fb(a))),i+=2):(r.push(new bs(s,{})),i++)}return new oe(r,{})}function LO(n){const t={};return it(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=rf(new oe([],{}),0,e))}),t}function fb(n){const t={};return it(n,(e,r)=>t[r]=`${e}`),t}function pb(n,t,e){return n==e.path&&Nn(t,e.parameters)}class ar{constructor(t,e){this.id=t,this.url=e}}class sf extends ar{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends ar{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kl extends ar{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gb extends ar{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VO extends ar{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BO extends ar{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UO extends ar{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jO extends ar{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $O extends ar{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HO{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zO{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GO{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qO{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WO{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KO{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mb{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=af(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=af(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=lf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return lf(t,this._root).map(e=>e.value)}}function af(n,t){if(n===t.value)return t;for(const e of t.children){const r=af(n,e);if(r)return r}return null}function lf(n,t){if(n===t.value)return[t];for(const e of t.children){const r=lf(n,e);if(r.length)return r.unshift(t),r}return[]}class lr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function oo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class _b extends yb{constructor(t,e){super(t),this.snapshot=e,cf(this,t)}toString(){return this.snapshot.toString()}}function vb(n,t){const e=function YO(n,t){const s=new Pl([],{},{},"",{},re,t,null,n.root,-1,{});return new Cb("",new lr(s,[]))}(n,t),r=new wn([new bs("",{})]),i=new wn({}),o=new wn({}),s=new wn({}),a=new wn(""),l=new Sr(r,i,s,a,o,re,t,e.root);return l.snapshot=e.root,new _b(new lr(l,[]),e)}class Sr{constructor(t,e,r,i,o,s,a,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ce(c=>c[Cs]))??j(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(t=>no(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(t=>no(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wb(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function ZO(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Pl{constructor(t,e,r,i,o,s,a,l,c,u,d,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[Cs],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=no(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cb extends yb{constructor(t,e){super(e),this.url=t,cf(this,e)}toString(){return bb(this._root)}}function cf(n,t){t.value._routerState=n,t.children.forEach(e=>cf(n,e))}function bb(n){const t=n.children.length>0?` { ${n.children.map(bb).join(", ")} } `:"";return`${n.value}${t}`}function uf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Nn(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Nn(t.params,e.params)||n.params.next(e.params),function hO(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Nn(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Nn(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function df(n,t){const e=Nn(n.params,t.params)&&function yO(n,t){return ti(n,t)&&n.every((e,r)=>Nn(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||df(n.parent,t.parent))}function Ms(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function XO(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ms(n,r,i);return Ms(n,r)})}(n,t,e);return new lr(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ms(n,a)),s}}const r=function eF(n){return new Sr(new wn(n.url),new wn(n.params),new wn(n.queryParams),new wn(n.fragment),new wn(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>Ms(n,o));return new lr(r,i)}}const hf="ngNavigationCancelingError";function Db(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=ni(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Eb(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function Eb(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[hf]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Sb(n){return Tb(n)&&ni(n.url)}function Tb(n){return n&&n[hf]}class tF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Is,this.attachRef=null}}let Is=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new tF,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nl=!1;let ff=(()=>{class n{constructor(e,r,i,o,s){this.parentContexts=e,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.name=i||re,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Nl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Nl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Nl);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new S(4013,Nl);this._activatedRoute=e;const i=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new nF(e,a,i.injector);if(r&&function rF(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(T(Is),T(mn),function ko(n){return function cS(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(Fg(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(Qe(),n)}("name"),T(rl),T(mr))},n.\u0275dir=K({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class nF{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Sr?this.route:t===Is?this.childContexts:this.parent.get(t,e)}}let pf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Gn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Pv],decls:1,vars:0,template:function(e,r){1&e&&I(0,"router-outlet")},dependencies:[ff],encapsulation:2}),n})();function Mb(n,t){return n.providers&&!n._injector&&(n._injector=Wa(n.providers,t,`Route: ${n.path}`)),n._injector??t}function mf(n){const t=n.children&&n.children.map(mf),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==re&&(e.component=pf),e}function tn(n){return n.outlet||re}function Ib(n,t){const e=n.filter(r=>tn(r)===t);return e.push(...n.filter(r=>tn(r)!==t)),e}function As(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class lF{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),uf(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=oo(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),it(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=oo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=oo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=oo(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new KO(o.value.snapshot))}),t.children.length&&this.forwardEvent(new qO(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(uf(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=As(i.snapshot),l=a?.get(Go)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class Ab{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rl{constructor(t,e){this.component=t,this.route=e}}function cF(n,t,e){const r=n._root;return xs(r,t?t._root:null,e,[r.value])}function so(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function h1(n){return null!==Zs(n)}(n)?t.get(n):n:r}function xs(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=oo(t);return n.children.forEach(s=>{(function dF(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function hF(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ti(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ti(n.url,t.url)||!Nn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!df(n,t)||!Nn(n.queryParams,t.queryParams);default:return!df(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ab(r)):(o.data=s.data,o._resolvedData=s._resolvedData),xs(n,t,o.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rl(a.outlet.component,s))}else s&&ks(t,a,i),i.canActivateChecks.push(new Ab(r)),xs(n,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),it(o,(s,a)=>ks(s,e.getContext(a),i)),i}function ks(n,t,e){const r=oo(n),i=n.value;it(r,(o,s)=>{ks(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Rl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Ps(n){return"function"==typeof n}function yf(n){return n instanceof Dl||"EmptyError"===n?.name}const Ol=Symbol("INITIAL_VALUE");function ao(){return Pn(n=>zC(n.map(t=>t.pipe(ws(1),function oO(...n){const t=wo(n);return tt((e,r)=>{(t?Wh(n,e,t):Wh(n,e)).subscribe(r)})}(Ol)))).pipe(ce(t=>{for(const e of t)if(!0!==e){if(e===Ol)return Ol;if(!1===e||e instanceof ei)return e}return!0}),Cr(t=>t!==Ol),ws(1)))}function xb(n){return function PE(...n){return jp(n)}(ft(t=>{if(ni(t))throw Db(0,t)}),ce(t=>!0===t))}const _f={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kb(n,t,e,r,i){const o=vf(n,t,e);return o.matched?function AF(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?j(i.map(s=>{const a=so(s,n);return Er(function _F(n){return n&&Ps(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(ao(),xb()):j(!0)}(r=Mb(t,r),t,e).pipe(ce(s=>!0===s?o:{..._f})):j(o)}function vf(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{..._f}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||dO)(e,n,t);if(!i)return{..._f};const o={};it(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Fl(n,t,e,r,i="corrected"){if(e.length>0&&function PF(n,t,e){return e.some(r=>Ll(n,t,r)&&tn(r)!==re)}(n,e,r)){const s=new oe(t,function kF(n,t,e,r){const i={};i[re]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&tn(o)!==re){const s=new oe([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,i[tn(o)]=s}return i}(n,t,r,new oe(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function NF(n,t,e){return e.some(r=>Ll(n,t,r))}(n,e,r)){const s=new oe(n.segments,function xF(n,t,e,r,i,o){const s={};for(const a of r)if(Ll(n,e,a)&&!i[tn(a)]){const l=new oe([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[tn(a)]=l}return{...i,...s}}(n,t,e,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new oe(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Ll(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Pb(n,t,e,r){return!!(tn(n)===r||r!==re&&Ll(t,e,n))&&("**"===n.path||vf(t,n,e).matched)}function Nb(n,t,e){return 0===t.length&&!n.children[e]}const Vl=!1;class Bl{constructor(t){this.segmentGroup=t||null}}class Rb{constructor(t){this.urlTree=t}}function Ns(n){return vs(new Bl(n))}function Ob(n){return vs(new Rb(n))}class LF{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Fl(this.urlTree.root,[],[],this.config).segmentGroup,e=new oe(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,re).pipe(ce(o=>this.createUrlTree(xl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Dr(o=>{if(o instanceof Rb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Bl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,re).pipe(ce(i=>this.createUrlTree(xl(i),t.queryParams,t.fragment))).pipe(Dr(i=>{throw i instanceof Bl?this.noMatchError(i):i}))}noMatchError(t){return new S(4002,Vl)}createUrlTree(t,e,r){const i=ef(t);return new ei(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(ce(o=>new oe([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Be(i).pipe(Xr(o=>{const s=r.children[o],a=Ib(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(ce(l=>({segment:l,outlet:o})))}),QC((o,s)=>(o[s.outlet]=s.segment,o),{}),YC())}expandSegment(t,e,r,i,o,s){return Be(r).pipe(Xr(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,o,s).pipe(Dr(c=>{if(c instanceof Bl)return j(null);throw c}))),br(a=>!!a),Dr((a,l)=>{if(yf(a))return Nb(e,i,o)?j(new oe([],{})):Ns(e);throw a}))}expandSegmentAgainstRoute(t,e,r,i,o,s,a){return Pb(i,e,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s):Ns(e):Ns(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ob(o):this.lineralizeSegments(r,o).pipe(rt(s=>{const a=new oe(s,{});return this.expandSegment(t,a,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=vf(e,i,o);if(!a)return Ns(e);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?Ob(d):this.lineralizeSegments(i,d).pipe(rt(h=>this.expandSegment(t,e,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=Mb(r,t),r.loadChildren?(r._loadedRoutes?j({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new oe(i,{})))):j(new oe(i,{}))):kb(e,r,i,t).pipe(Pn(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=r._injector??t,r,i).pipe(rt(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:f,slicedSegments:y}=Fl(e,a,l,h),_=new oe(f.segments,f.children);if(0===y.length&&_.hasChildren())return this.expandChildren(d,h,_).pipe(ce(D=>new oe(a,D)));if(0===h.length&&0===y.length)return j(new oe(a,{}));const C=tn(r)===o;return this.expandSegment(d,_,h,y,C?re:o,!0).pipe(ce(x=>new oe(a.concat(x.segments),x.children)))})):Ns(e)))}getChildConfig(t,e,r){return e.children?j({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?j({routes:e._loadedRoutes,injector:e._loadedInjector}):function IF(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?j(!0):j(i.map(s=>{const a=so(s,n);return Er(function pF(n){return n&&Ps(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(ao(),xb())}(t,e,r).pipe(rt(i=>i?this.configLoader.loadChildren(t,e).pipe(ft(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function OF(n){return vs(Eb(Vl,3))}())):j({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return j(r);if(i.numberOfChildren>1||!i.children[re])return vs(new S(4e3,Vl));i=i.children[re]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new ei(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return it(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let s={};return it(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,r,i)}),new oe(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new S(4001,Vl);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class BF{}class $F{constructor(t,e,r,i,o,s,a,l){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=Fl(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,re).pipe(ce(e=>{if(null===e)return null;const r=new Pl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new lr(r,e),o=new Cb(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=wb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return Be(Object.keys(r.children)).pipe(Xr(i=>{const o=r.children[i],s=Ib(e,i);return this.processSegmentGroup(t,s,o,i)}),QC((i,o)=>i&&o?(i.push(...o),i):null),function lO(n,t=!1){return tt((e,r)=>{let i=0;e.subscribe(Ke(r,o=>{const s=n(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),El(null),YC(),ce(i=>{if(null===i)return null;const o=Fb(i);return function HF(n){n.sort((t,e)=>t.value.outlet===re?-1:e.value.outlet===re?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return Be(e).pipe(Xr(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,i,o)),br(s=>!!s),Dr(s=>{if(yf(s))return Nb(r,i,o)?j([]):j(null);throw s}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!Pb(e,r,i,o))return j(null);let s;if("**"===e.path){const a=i.length>0?XC(i).parameters:{},l=Vb(r)+i.length;s=j({snapshot:new Pl(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ub(e),tn(e),e.component??e._loadedComponent??null,e,Lb(r),l,jb(e),l),consumedSegments:[],remainingSegments:[]})}else s=kb(r,e,i,t).pipe(ce(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=Vb(r)+l.length;return{snapshot:new Pl(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ub(e),tn(e),e.component??e._loadedComponent??null,e,Lb(r),d,jb(e),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(Pn(a=>{if(null===a)return j(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function zF(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:y}=Fl(r,c,u,h.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===y.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ce(C=>null===C?null:[new lr(l,C)]));if(0===h.length&&0===y.length)return j([new lr(l,[])]);const _=tn(e)===o;return this.processSegment(d,h,f,y,_?re:o).pipe(ce(C=>null===C?null:[new lr(l,C)]))}))}}function GF(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Fb(n){const t=[],e=new Set;for(const r of n){if(!GF(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=Fb(r.children);t.push(new lr(r.value,i))}return t.filter(r=>!e.has(r))}function Lb(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Vb(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Ub(n){return n.data||{}}function jb(n){return n.resolve||{}}function $b(n){return"string"==typeof n.title||null===n.title}function wf(n){return Pn(t=>{const e=n(t);return e?Be(e).pipe(ce(()=>t)):j(t)})}let Hb=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(e){return e.data[Cs]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:function(){return Fe(zb)},providedIn:"root"}),n})(),zb=(()=>{class n extends Hb{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(F(VC))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XF{}class t2 extends class e2{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const jl=new $("",{providedIn:"root",factory:()=>({})}),Cf=new $("ROUTES");let bf=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return j(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Er(e.loadComponent()).pipe(ft(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Yh(()=>{this.componentLoaders.delete(e)})),i=new WC(r,()=>new Dn).pipe(Kh());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=JC(l.get(Cf,[],z.Self|z.Optional)));return{routes:c.map(mf),injector:l}}),Yh(()=>{this.childrenLoaders.delete(r)})),s=new WC(o,()=>new Dn).pipe(Kh());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return Er(e()).pipe(rt(r=>r instanceof xv||Array.isArray(r)?j(r):Be(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(F(Zt),F(ch))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class r2{}class i2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function o2(n){throw n}function s2(n,t,e){return t.parse("/")}const a2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},l2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function qb(){const n=Fe(ob),t=Fe(Is),e=Fe(Eh),r=Fe(Zt),i=Fe(ch),o=Fe(Cf,{optional:!0})??[],s=Fe(jl,{optional:!0})??{},a=Fe(zb),l=Fe(Hb,{optional:!0}),c=Fe(r2,{optional:!0}),u=Fe(XF,{optional:!0}),d=new Ge(null,n,t,e,r,i,JC(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function c2(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let Ge=(()=>{class n{constructor(e,r,i,o,s,a,l){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Dn,this.errorHandler=o2,this.malformedUriErrorHandler=s2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>j(void 0),this.urlHandlingStrategy=new i2,this.routeReuseStrategy=new t2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(bf),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new zO(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new HO(h)),this.ngModule=s.get(Yr),this.console=s.get(zk);const d=s.get(Le);this.isNgZoneEnabled=d instanceof Le&&Le.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function fO(){return new ei(new oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vb(this.currentUrlTree,this.rootComponentType),this.transitions=new wn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Cr(i=>0!==i.id),ce(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Pn(i=>{let o=!1,s=!1;return j(i).pipe(ft(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Wb(a.source)&&(this.browserUrlTree=a.extractedUrl),j(a).pipe(Pn(d=>{const h=this.transitions.getValue();return r.next(new sf(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?$n:Promise.resolve(d)}),function VF(n,t,e,r){return Pn(i=>function FF(n,t,e,r,i){return new LF(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(ce(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ft(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function WF(n,t,e,r,i,o){return rt(s=>function jF(n,t,e,r,i,o,s="emptyOnly",a="legacy"){return new $F(n,t,e,r,i,s,a,o).recognize().pipe(Pn(l=>null===l?function UF(n){return new Ce(t=>t.error(n))}(new BF):j(l)))}(n,t,e,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(ce(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ft(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new VO(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:y,restoredState:_,extras:C}=a,E=new sf(h,this.serializeUrl(f),y,_);r.next(E);const x=vb(f,this.rootComponentType).snapshot;return j(i={...a,targetSnapshot:x,urlAfterRedirects:f,extras:{...C,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),$n}),ft(a=>{const l=new BO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ce(a=>i={...a,guards:cF(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function wF(n,t){return rt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?j({...e,guardsResult:!0}):function CF(n,t,e,r){return Be(n).pipe(rt(i=>function MF(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?j(o.map(a=>{const l=As(t)??i,c=so(a,l);return Er(function yF(n){return n&&Ps(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,r):l.runInContext(()=>c(n,t,e,r))).pipe(br())})).pipe(ao()):j(!0)}(i.component,i.route,e,t,r)),br(i=>!0!==i,!0))}(s,r,i,n).pipe(rt(a=>a&&function fF(n){return"boolean"==typeof n}(a)?function bF(n,t,e,r){return Be(t).pipe(Xr(i=>Wh(function EF(n,t){return null!==n&&t&&t(new GO(n)),j(!0)}(i.route.parent,r),function DF(n,t){return null!==n&&t&&t(new WO(n)),j(!0)}(i.route,r),function TF(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function uF(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>qC(()=>j(s.guards.map(l=>{const c=As(s.node)??e,u=so(l,c);return Er(function mF(n){return n&&Ps(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(br())})).pipe(ao())));return j(o).pipe(ao())}(n,i.path,e),function SF(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return j(!0);const i=r.map(o=>qC(()=>{const s=As(t)??e,a=so(o,s);return Er(function gF(n){return n&&Ps(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(br())}));return j(i).pipe(ao())}(n,i.route,e))),br(i=>!0!==i,!0))}(r,o,n,t):j(a)),ce(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ft(a=>{if(i.guardsResult=a.guardsResult,ni(a.guardsResult))throw Db(0,a.guardsResult);const l=new UO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Cr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),wf(a=>{if(a.guards.canActivateChecks.length)return j(a).pipe(ft(l=>{const c=new jO(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Pn(l=>{let c=!1;return j(l).pipe(function KF(n,t){return rt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return j(e);let o=0;return Be(i).pipe(Xr(s=>function QF(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!$b(i)&&(o[Cs]=i.title),function YF(n,t,e,r){const i=function ZF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return j({});const o={};return Be(i).pipe(rt(s=>function JF(n,t,e,r){const i=As(t)??r,o=so(n,i);return Er(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[s],t,e,r).pipe(br(),ft(a=>{o[s]=a}))),Qh(1),function cO(n){return ce(()=>n)}(o),Dr(s=>yf(s)?$n:vs(s)))}(o,n,t,r).pipe(ce(s=>(n._resolvedData=s,n.data=wb(n,e).resolve,i&&$b(i)&&(n.data[Cs]=i.title),null)))}(s.route,r,n,t)),ft(()=>o++),Qh(1),rt(s=>o===i.length?j(e):$n))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ft({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),ft(l=>{const c=new $O(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),wf(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(ft(d=>{c.component=d}),ce(()=>{})));for(const d of c.children)u.push(...l(d));return u};return zC(l(a.targetSnapshot.root)).pipe(El(),ws(1))}),wf(()=>this.afterPreactivation()),ce(a=>{const l=function JO(n,t,e){const r=Ms(n,t._root,e?e._root:void 0);return new _b(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),ft(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>ce(r=>(new lF(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ft({next(){o=!0},complete(){o=!0}}),Yh(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Dr(a=>{if(s=!0,Tb(a)){Sb(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new kl(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),Sb(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wb(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new gb(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return $n}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(mf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),PO(c,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ni(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function u2(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new S(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...a2}:!1===r?{...l2}:r,ni(e))return tb(this.currentUrlTree,e,i);const o=this.parseUrl(e);return tb(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ri(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const o=new kl(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){cd()},n.\u0275prov=G({token:n,factory:function(){return qb()},providedIn:"root"}),n})();function Wb(n){return"imperative"!==n}class Kb{}let f2=(()=>{class n{constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Cr(e=>e instanceof ri),Xr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Wa(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Be(i).pipe(hi())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):j(null);const o=i.pipe(rt(s=>null===s?j(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?Be([o,this.loader.loadComponent(r)]).pipe(hi()):o})}}return n.\u0275fac=function(e){return new(e||n)(F(Ge),F(ch),F(mr),F(Kb),F(bf))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sf=new $("");let Qb=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ri&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new mb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){cd()},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();function lo(n,t){return{\u0275kind:n,\u0275providers:t}}function Tf(n){return[{provide:Cf,multi:!0,useValue:n}]}function Zb(){const n=Fe(Zt);return t=>{const e=n.get(hs);if(t!==e.components[0])return;const r=n.get(Ge),i=n.get(Jb);1===n.get(Mf)&&r.initialNavigation(),n.get(Xb,null,z.Optional)?.setUpPreloading(),n.get(Sf,null,z.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.next(),i.complete()}}const Jb=new $("",{factory:()=>new Dn}),Mf=new $("",{providedIn:"root",factory:()=>1});const Xb=new $("");function y2(n){return lo(0,[{provide:Xb,useExisting:f2},{provide:Kb,useExisting:n}])}const eD=new $("ROUTER_FORROOT_GUARD"),_2=[Eh,{provide:ob,useClass:Jh},{provide:Ge,useFactory:qb},Is,{provide:Sr,useFactory:function Yb(n){return n.routerState.root},deps:[Ge]},bf];function v2(){return new Aw("Router",Ge)}let If=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[_2,[],Tf(e),{provide:eD,useFactory:D2,deps:[[Ge,new Vo,new Bo]]},{provide:jl,useValue:r||{}},r?.useHash?{provide:Jr,useClass:PP}:{provide:Jr,useClass:eC},{provide:Sf,useFactory:()=>{const n=Fe(Ge),t=Fe(JN),e=Fe(jl);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Qb(n,t,e)}},r?.preloadingStrategy?y2(r.preloadingStrategy).\u0275providers:[],{provide:Aw,multi:!0,useFactory:v2},r?.initialNavigation?E2(r):[],[{provide:tD,useFactory:Zb},{provide:Cw,multi:!0,useExisting:tD}]]}}static forChild(e){return{ngModule:n,providers:[Tf(e)]}}}return n.\u0275fac=function(e){return new(e||n)(F(eD,8))},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({imports:[pf]}),n})();function D2(n){return"guarded"}function E2(n){return["disabled"===n.initialNavigation?lo(3,[{provide:Xa,multi:!0,useFactory:()=>{const t=Fe(Ge);return()=>{t.setUpLocationChangeListener()}}},{provide:Mf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?lo(2,[{provide:Mf,useValue:0},{provide:Xa,multi:!0,deps:[Zt],useFactory:t=>{const e=t.get(xP,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(o=>{const s=t.get(Ge),a=t.get(Jb);(function i(o){t.get(Ge).events.pipe(Cr(a=>a instanceof ri||a instanceof kl||a instanceof gb),ce(a=>a instanceof ri||a instanceof kl&&(0===a.code||1===a.code)&&null),Cr(a=>null!==a),ws(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||a.closed?j(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const tD=new $("");let nD=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(T(Yn),T(Ht))},n.\u0275dir=K({type:n}),n})(),ii=(()=>{class n extends nD{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=lt(n)))(r||n)}}(),n.\u0275dir=K({type:n,features:[ge]}),n})();const Rn=new $("NgValueAccessor"),I2={provide:Rn,useExisting:be(()=>co),multi:!0},x2=new $("CompositionEventMode");let co=(()=>{class n extends nD{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A2(){const n=kn()?kn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Yn),T(Ht),T(x2,8))},n.\u0275dir=K({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&k("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ae([I2]),ge]}),n})();function Tr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function iD(n){return null!=n&&"number"==typeof n.length}const pt=new $("NgValidators"),Mr=new $("NgAsyncValidators"),P2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gl{static min(t){return function oD(n){return t=>{if(Tr(t.value)||Tr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function sD(n){return t=>{if(Tr(t.value)||Tr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function aD(n){return Tr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function lD(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function cD(n){return Tr(n.value)||P2.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function uD(n){return t=>Tr(t.value)||!iD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return dD(t)}static pattern(t){return function hD(n){if(!n)return ql;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Tr(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return _D(t)}static composeAsync(t){return vD(t)}}function dD(n){return t=>iD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function ql(n){return null}function fD(n){return null!=n}function pD(n){return ts(n)?Be(n):n}function gD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function mD(n,t){return t.map(e=>e(n))}function yD(n){return n.map(t=>function N2(n){return!n.validate}(t)?t:e=>t.validate(e))}function _D(n){if(!n)return null;const t=n.filter(fD);return 0==t.length?null:function(e){return gD(mD(e,t))}}function Af(n){return null!=n?_D(yD(n)):null}function vD(n){if(!n)return null;const t=n.filter(fD);return 0==t.length?null:function(e){return function T2(...n){const t=ig(n),{args:e,keys:r}=jC(n),i=new Ce(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;sn(e[u]).subscribe(Ke(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?HC(r,a):a),o.complete())}))}});return t?i.pipe($C(t)):i}(mD(e,t).map(pD)).pipe(ce(gD))}}function xf(n){return null!=n?vD(yD(n)):null}function wD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function CD(n){return n._rawValidators}function bD(n){return n._rawAsyncValidators}function kf(n){return n?Array.isArray(n)?n:[n]:[]}function Wl(n,t){return Array.isArray(n)?n.includes(t):n===t}function DD(n,t){const e=kf(t);return kf(n).forEach(i=>{Wl(e,i)||e.push(i)}),e}function ED(n,t){return kf(t).filter(e=>!Wl(n,e))}class SD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Af(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Dt extends SD{get formDirective(){return null}get path(){return null}}class Ir extends SD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class TD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kl=(()=>{class n extends TD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Ir,2))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&ja("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ge]}),n})(),Pf=(()=>{class n extends TD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Dt,10))},n.\u0275dir=K({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&ja("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ge]}),n})();const Rs="VALID",Yl="INVALID",uo="PENDING",Os="DISABLED";function Ff(n){return(Zl(n)?n.validators:n)||null}function ID(n){return Array.isArray(n)?Af(n):n||null}function Lf(n,t){return(Zl(t)?t.asyncValidators:n)||null}function AD(n){return Array.isArray(n)?xf(n):n||null}function Zl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function xD(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new S(1e3,"");if(!r[e])throw new S(1001,"")}function kD(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new S(1002,"")})}class Jl{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ID(this._rawValidators),this._composedAsyncValidatorFn=AD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rs}get invalid(){return this.status===Yl}get pending(){return this.status==uo}get disabled(){return this.status===Os}get enabled(){return this.status!==Os}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ID(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=AD(t)}addValidators(t){this.setValidators(DD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(DD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ED(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ED(t,this._rawAsyncValidators))}hasValidator(t){return Wl(this._rawValidators,t)}hasAsyncValidator(t){return Wl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=uo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Os,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rs,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rs||this.status===uo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Os:Rs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=uo,this._hasOwnPendingAsyncValidator=!0;const e=pD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Os:this.errors?Yl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uo)?uo:this._anyControlsHaveStatus(Yl)?Yl:Rs}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class oi extends Jl{constructor(t,e,r){super(Ff(e),Lf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){kD(this,0,t),Object.keys(t).forEach(r=>{xD(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class PD extends oi{}function Xl(n,t){return[...t.path,n]}function Fs(n,t){Vf(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function j2(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ND(n,t)})}(n,t),function H2(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function $2(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ND(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function U2(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ec(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),nc(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tc(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Vf(n,t){const e=CD(n);null!==t.validator?n.setValidators(wD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=bD(n);null!==t.asyncValidator?n.setAsyncValidators(wD(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();tc(t._rawValidators,i),tc(t._rawAsyncValidators,i)}function nc(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=CD(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=bD(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return tc(t._rawValidators,r),tc(t._rawAsyncValidators,r),e}function ND(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Bf(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Uf(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===co?e=o:function q2(n){return Object.getPrototypeOf(n.constructor)===ii}(o)?r=o:i=o}),i||r||e||null}function LD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function VD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const si=class extends Jl{constructor(t=null,e,r){super(Ff(e),Lf(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=VD(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){LD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){LD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){VD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Z2={provide:Ir,useExisting:be(()=>$f)},jD=(()=>Promise.resolve())();let $f=(()=>{class n extends Ir{constructor(e,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new si,this._registered=!1,this.update=new Te,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Uf(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Bf(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){jD.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&function ir(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);jD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Xl(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(T(Dt,9),T(pt,10),T(Mr,10),T(Rn,10),T(rl,8))},n.\u0275dir=K({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ae([Z2]),ge,Bt]}),n})(),Hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),HD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({}),n})();const zf=new $("NgModelWithFormControlWarning"),rL={provide:Dt,useExisting:be(()=>Vs)};let Vs=(()=>{class n extends Dt{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Fs(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){ec(e.control||null,e,!1),function W2(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function FD(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(ec(r||null,e),(n=>n instanceof si)(i)&&(Fs(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function RD(n,t){Vf(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function z2(n,t){return nc(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vf(this.form,this),this._oldForm&&nc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(T(pt,10),T(Mr,10))},n.\u0275dir=K({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&k("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ae([rL]),ge,Bt]}),n})();const sL={provide:Ir,useExisting:be(()=>rc)};let rc=(()=>{class n extends Ir{constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Te,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Uf(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Bf(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Xl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(T(Dt,13),T(pt,10),T(Mr,10),T(Rn,10),T(zf,8))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ae([sL]),ge,Bt]}),n})();let ai=(()=>{class n{constructor(){this._validator=ql}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ql,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=K({type:n,features:[Bt]}),n})();const vL={provide:pt,useExisting:be(()=>Yf),multi:!0};let Yf=(()=>{class n extends ai{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function YD(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>dD(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=lt(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&In("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ae([vL]),ge]}),n})(),o0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({imports:[HD]}),n})(),CL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({imports:[o0]}),n})(),s0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:zf,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({imports:[o0]}),n})();class a0 extends Jl{constructor(t,e,r){super(Ff(e),Lf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){kD(this,0,t),t.forEach((r,i)=>{xD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function l0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let c0=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let o={};return l0(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new oi(i,o)}record(e,r=null){const i=this._reduceControls(e);return new PD(i,r)}control(e,r,i){let o={};return this.useNonNullable?(l0(r)?o=r:(o.validators=r,o.asyncValidators=i),new si(e,{...o,nonNullable:!0})):new si(e,r,i)}array(e,r,i){const o=e.map(s=>this._createControl(s));return new a0(o,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof si||e instanceof Jl?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:s0}),n})();class bL{constructor(t){this.l="",this.num_clues=0,this.clues=[0,0,0,0,0,0,0,0,0],this.r_pts=0,this.r_next=0,this.r_level="",this.id="",this.w=0,this.t=-1,this.y=-1,this.a=-1,this.m=-1,this.h=!1,this.sc=!1,this.o=-1,this.devil=-1,this.all=[],this.new_loc="",this.update_loc="",console.log("begin parse oobstring="+t);var e=t.indexOf("l");-1!=e&&(this.l=t.substring(e+1,e+3),console.log("loc="+this.l));var r=t.indexOf("c");if(-1!=r){this.num_clues=0;var i=t.indexOf("c",r+1),o=t.substring(r+1,i),s=0;for(let Pe of o){var a=parseInt(Pe);this.clues[s]=a,a>=1&&(this.num_clues+=1),s++}console.log("oob numclues="+this.num_clues.toString()+" and clues="+this.clues.toString())}var l=t.indexOf("r");if(-1!=l){var c=t.indexOf("-",l+1),u=t.substring(l+1,c);this.r_pts=parseInt(u),c=t.indexOf("-",(l=c+1)+1);var d=t.substring(l,c);this.r_next=parseInt(d),c=t.indexOf("r",(l=c+1)+1),this.r_level=t.substring(l,c),console.log("r_pts="+this.r_pts+" r_next="+this.r_next+" r_level="+this.r_level)}var h=t.indexOf("i");if(-1!=h){var f=t.indexOf("i",h+1);this.id=t.substring(h+1,f),console.log("userid="+this.id)}var y=t.indexOf("y");if(-1!=y){var _=t.indexOf("y",y+1),C=t.substring(y+1,_);"1"==C&&("0"==(E=t.substring(y+2,y+3))||"1"==E||"2"==E)&&(C+=E),this.y=parseInt(C),console.log("y="+this.y)}var x=t.indexOf("w");if(-1!=x){var D=t.substring(x+1,x+2);this.w=parseInt(D),console.log("w="+this.w)}var P=t.indexOf("t");if(-1!=P){var J=t.substring(P+1,P+2);this.t=parseInt(J),console.log("t="+this.t)}var ie=t.indexOf("d");if(-1!=ie){var Me=t.substring(ie+1,ie+2);this.devil=parseInt(Me),console.log("d="+this.devil)}var ot=t.indexOf("a");if(-1!=ot){var Et=t.indexOf("a",ot+1),St=t.substring(ot+1,Et);this.a=parseInt(St),console.log("a="+this.a)}var Vn=t.indexOf("k");if(-1!=Vn){var bn=t.indexOf("k",Vn+1),Pt=t.substring(Vn+1,bn);for(let Pe=0;Pe<Pt.length;Pe++)this.all[Pe]=parseInt(Pt[Pe]);console.log("all="+this.all.toString())}var Bn=t.indexOf("n");if(-1!=Bn){var O=t.indexOf("n",Bn+2),L=t.substring(Bn+1,O);this.new_loc=L,console.log("n="+this.new_loc.toString())}var U=t.indexOf("u");if(-1!=U){var le=t.indexOf("u",U+2),We=t.substring(U+1,le);this.update_loc=We,console.log("u="+this.update_loc.toString())}var Nt=t.indexOf("m");if(-1!=Nt){var Tt=t.substring(Nt+1,Nt+2);this.m=parseInt(Tt),console.log("m="+this.m)}-1!=t.indexOf("h")&&(this.h=!0,console.log("h to halt"));var me=t.indexOf("o");if(-1!=me){var E,mo=t.substring(me+1,me+2);"1"==mo&&("0"==(E=t.substring(me+2,me+3))||"1"==E||"2"==E)&&(mo+=E),this.o=parseInt(mo),console.log("o="+this.o)}-1!=t.indexOf("sc")&&(this.sc=!0,console.log("sc=true"))}}class ho{constructor(t,e){this.msgid="",this.createdAt="",this.username="",this.msgtext="",this.isbot=!1,this.isdevil=!1,this.iscrysanthea=!1,this.oobstring="",this.username=t,this.msgtext=e}}class u0{}const cr="*";function On(n,t){return{type:7,name:n,definitions:t,options:{}}}function Xe(n,t=null){return{type:4,styles:t,timings:n}}function d0(n,t=null){return{type:2,steps:n,options:t}}function ye(n){return{type:6,styles:n,offset:null}}function Se(n,t,e){return{type:0,name:n,styles:t,options:e}}function et(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function h0(n){Promise.resolve().then(n)}class Bs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){h0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class f0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?h0(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Fn=Object.create(null);Fn.open="0",Fn.close="1",Fn.ping="2",Fn.pong="3",Fn.message="4",Fn.upgrade="5",Fn.noop="6";const ic=Object.create(null);Object.keys(Fn).forEach(n=>{ic[Fn[n]]=n});const EL={type:"error",data:"parser error"},SL="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),TL="function"==typeof ArrayBuffer,p0=(n,t)=>{const e=new FileReader;return e.onload=function(){const r=e.result.split(",")[1];t("b"+r)},e.readAsDataURL(n)},g0=({type:n,data:t},e,r)=>SL&&t instanceof Blob?e?r(t):p0(t,r):TL&&(t instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(t))?e?r(t):p0(new Blob([t]),r):r(Fn[n]+(t||"")),fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Us=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<fo.length;n++)Us[fo.charCodeAt(n)]=n;const xL="function"==typeof ArrayBuffer,PL=(n,t)=>{if(xL){const e=(n=>{let r,o,s,a,l,t=.75*n.length,e=n.length,i=0;"="===n[n.length-1]&&(t--,"="===n[n.length-2]&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(r=0;r<e;r+=4)o=Us[n.charCodeAt(r)],s=Us[n.charCodeAt(r+1)],a=Us[n.charCodeAt(r+2)],l=Us[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(15&s)<<4|a>>2,u[i++]=(3&a)<<6|63&l;return c})(n);return m0(e,t)}return{base64:!0,data:n}},m0=(n,t)=>"blob"===t&&n instanceof ArrayBuffer?new Blob([n]):n,y0=(n,t)=>{if("string"!=typeof n)return{type:"message",data:m0(n,t)};const e=n.charAt(0);return"b"===e?{type:"message",data:PL(n.substring(1),t)}:ic[e]?n.length>1?{type:ic[e],data:n.substring(1)}:{type:ic[e]}:EL},_0=String.fromCharCode(30);function qe(n){if(n)return function OL(n){for(var t in qe.prototype)n[t]=qe.prototype[t];return n}(n)}qe.prototype.on=qe.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this},qe.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this},qe.prototype.off=qe.prototype.removeListener=qe.prototype.removeAllListeners=qe.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<e.length;i++)if((r=e[i])===t||r.fn===t){e.splice(i,1);break}return 0===e.length&&delete this._callbacks["$"+n],this},qe.prototype.emitReserved=qe.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e){r=0;for(var i=(e=e.slice(0)).length;r<i;++r)e[r].apply(this,t)}return this},qe.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},qe.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Ar=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function w0(n,...t){return t.reduce((e,r)=>(n.hasOwnProperty(r)&&(e[r]=n[r]),e),{})}const FL=setTimeout,LL=clearTimeout;function oc(n,t){t.useNativeTimers?(n.setTimeoutFn=FL.bind(Ar),n.clearTimeoutFn=LL.bind(Ar)):(n.setTimeoutFn=setTimeout.bind(Ar),n.clearTimeoutFn=clearTimeout.bind(Ar))}function BL(n){return"string"==typeof n?function UL(n){let t=0,e=0;for(let r=0,i=n.length;r<i;r++)t=n.charCodeAt(r),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(r++,e+=4);return e}(n):Math.ceil(1.33*(n.byteLength||n.size))}class jL extends Error{constructor(t,e,r){super(t),this.description=e,this.context=r,this.type="TransportError"}}class C0 extends qe{constructor(t){super(),this.writable=!1,oc(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,r){return super.emitReserved("error",new jL(t,e,r)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=y0(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const b0="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),D0={};let S0,E0=0,xr=0;function T0(n){let t="";do{t=b0[n%64]+t,n=Math.floor(n/64)}while(n>0);return t}function M0(){const n=T0(+new Date);return n!==S0?(E0=0,S0=n):n+"."+T0(E0++)}for(;xr<64;xr++)D0[b0[xr]]=xr;function I0(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}let A0=!1;try{A0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const HL=A0;function x0(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||HL))return new XMLHttpRequest}catch{}if(!t)try{return new(Ar[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function zL(){}const GL=null!=new x0({xdomain:!1}).responseType;let ac=(()=>{class n extends qe{constructor(e,r){super(),oc(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=!1!==r.async,this.data=void 0!==r.data?r.data:null,this.create()}create(){const e=w0(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new x0(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}typeof document<"u"&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=zL,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function k0(){for(let n in ac.requests)ac.requests.hasOwnProperty(n)&&ac.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",k0):"function"==typeof addEventListener&&addEventListener("onpagehide"in Ar?"pagehide":"unload",k0,!1));const WL="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),lc=Ar.WebSocket||Ar.MozWebSocket,P0=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),YL={websocket:class QL extends C0{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,r=P0?{}:w0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=P0?new lc(t,e,r):e?new lc(t,e):new lc(t)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const i=e===t.length-1;g0(t[e],this.supportsBinary,o=>{try{this.ws.send(o)}catch{}i&&WL(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=M0()),this.supportsBinary||(t.b64=1);const i=I0(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!lc}},polling:class qL extends C0{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==r}this.supportsBinary=GL&&!(t&&t.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||e()})),this.writable||(r++,this.once("drain",function(){--r||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((n,t)=>{const e=n.split(_0),r=[];for(let i=0;i<e.length;i++){const o=y0(e[i],t);if(r.push(o),"error"===o.type)break}return r})(t,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((n,t)=>{const e=n.length,r=new Array(e);let i=0;n.forEach((o,s)=>{g0(o,!1,a=>{r[s]=a,++i===e&&t(r.join(_0))})})})(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=M0()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const i=I0(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new ac(this.uri(),t)}doWrite(t,e){const r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,r)=>{this.onError("xhr poll error",e,r)}),this.pollXhr=t}}},ZL=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,JL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xf(n){const t=n,e=n.indexOf("["),r=n.indexOf("]");-1!=e&&-1!=r&&(n=n.substring(0,e)+n.substring(e,r).replace(/:/g,";")+n.substring(r,n.length));let i=ZL.exec(n||""),o={},s=14;for(;s--;)o[JL[s]]=i[s]||"";return-1!=e&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function XL(n,t){const r=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.substr(0,1)||0===t.length)&&r.splice(0,1),"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function eV(n,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(e[i]=o)}),e}(0,o.query),o}let N0=(()=>{class n extends qe{constructor(e,r={}){super(),e&&"object"==typeof e&&(r=e,e=null),e?(e=Xf(e),r.hostname=e.host,r.secure="https"===e.protocol||"wss"===e.protocol,r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Xf(r.host).host),oc(this,r),this.secure=null!=r.secure?r.secure:typeof location<"u"&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function $L(n){let t={},e=n.split("&");for(let r=0,i=e.length;r<i;r++){let o=e[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=e,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new YL[e](i)}open(){let e;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),i=!1;n.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!i)if("pong"===h.type&&"probe"===h.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function s(){i||(i=!0,d(),r.close(),r=null)}const a=h=>{const f=new Error("probe error: "+h);f.transport=r.name,s(),this.emitReserved("upgradeError",f)};function l(){a("transport closed")}function c(){a("socket closed")}function u(h){r&&h.name!==r.name&&s()}const d=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",o),r.once("error",a),r.once("close",l),this.once("close",c),this.once("upgrading",u),r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=BL(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(e,r,i){return this.sendPacket("message",e,r,i),this}send(e,r,i){return this.sendPacket("message",e,r,i),this}sendPacket(e,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:e,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let i=0;const o=e.length;for(;i<o;i++)~this.transports.indexOf(e[i])&&r.push(e[i]);return r}}return n.protocol=4,n})();const nV="function"==typeof ArrayBuffer,R0=Object.prototype.toString,iV="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===R0.call(Blob),oV="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===R0.call(File);function ep(n){return nV&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||iV&&n instanceof Blob||oV&&n instanceof File}function cc(n,t){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let e=0,r=n.length;e<r;e++)if(cc(n[e]))return!0;return!1}if(ep(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return cc(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&cc(n[e]))return!0;return!1}function sV(n){const t=[],r=n;return r.data=tp(n.data,t),r.attachments=t.length,{packet:r,buffers:t}}function tp(n,t){if(!n)return n;if(ep(n)){const e={_placeholder:!0,num:t.length};return t.push(n),e}if(Array.isArray(n)){const e=new Array(n.length);for(let r=0;r<n.length;r++)e[r]=tp(n[r],t);return e}if("object"==typeof n&&!(n instanceof Date)){const e={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=tp(n[r],t));return e}return n}function aV(n,t){return n.data=np(n.data,t),n.attachments=void 0,n}function np(n,t){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=np(n[e],t);else if("object"==typeof n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=np(n[e],t));return n}const O0=5;var ae=(()=>{return(n=ae||(ae={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",ae;var n})();class lV{constructor(t){this.replacer=t}encode(t){return t.type!==ae.EVENT&&t.type!==ae.ACK||!cc(t)?[this.encodeAsString(t)]:(t.type=t.type===ae.EVENT?ae.BINARY_EVENT:ae.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return(t.type===ae.BINARY_EVENT||t.type===ae.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=sV(t),r=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(r),i}}class rp extends qe{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t),e.type===ae.BINARY_EVENT||e.type===ae.BINARY_ACK?(this.reconstructor=new cV(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!ep(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const r={type:Number(t.charAt(0))};if(void 0===ae[r.type])throw new Error("unknown packet type "+r.type);if(r.type===ae.BINARY_EVENT||r.type===ae.BINARY_ACK){const o=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const s=t.substring(o,e);if(s!=Number(s)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===t.charAt(e+1)){const o=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);r.nsp=t.substring(o,e)}else r.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const o=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}r.id=Number(t.substring(o,e+1))}if(t.charAt(++e)){const o=this.tryParse(t.substr(e));if(!rp.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case ae.CONNECT:return"object"==typeof e;case ae.DISCONNECT:return void 0===e;case ae.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case ae.EVENT:case ae.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case ae.ACK:case ae.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class cV{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=aV(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Cn(n,t,e){return n.on(t,e),function(){n.off(t,e)}}const uV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ip extends qe{constructor(t,e,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Cn(t,"open",this.onopen.bind(this)),Cn(t,"packet",this.onpacket.bind(this)),Cn(t,"error",this.onerror.bind(this)),Cn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(uV.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');e.unshift(t);const r={type:ae.EVENT,data:e,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const s=this.ids++,a=e.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){const r=this.flags.timeout;if(void 0===r)return void(this.acks[t]=e);const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);e.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(i),e.apply(this,[null,...o])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this.packet({type:ae.CONNECT,data:t})}):this.packet({type:ae.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ae.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ae.EVENT:case ae.BINARY_EVENT:this.onevent(t);break;case ae.ACK:case ae.BINARY_ACK:this.onack(t);break;case ae.DISCONNECT:this.ondisconnect();break;case ae.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const r of e)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let r=!1;return function(...i){r||(r=!0,e.packet({type:ae.ACK,id:t,data:i}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const r of e)r.apply(this,t.data)}}}function po(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}po.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=0==(1&Math.floor(10*t))?n-e:n+e}return 0|Math.min(n,this.max)},po.prototype.reset=function(){this.attempts=0},po.prototype.setMin=function(n){this.ms=n},po.prototype.setMax=function(n){this.max=n},po.prototype.setJitter=function(n){this.jitter=n};class uc extends qe{constructor(t,e){var r;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,oc(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=e.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new po({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout??2e4),this._readyState="closed",this.uri=t;const i=e.parser||_o;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new N0(this.uri,this.opts);const e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Cn(e,"open",function(){r.onopen(),t&&t()}),o=Cn(e,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),t?t(s):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const s=this._timeout;0===s&&i();const a=this.setTimeoutFn(()=>{i(),e.close(),e.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Cn(t,"ping",this.onping.bind(this)),Cn(t,"data",this.ondata.bind(this)),Cn(t,"error",this.onerror.bind(this)),Cn(t,"close",this.onclose.bind(this)),Cn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch{this.onclose("parse error")}}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,e){let r=this.nsps[t];return r||(r=new ip(this,t,e),this.nsps[t]=r),r}_destroy(t){const e=Object.keys(this.nsps);for(const r of e)if(this.nsps[r].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let r=0;r<e.length;r++)this.engine.write(e[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},e);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const js={};function kr(n,t){"object"==typeof n&&(t=n,n=void 0);const e=function tV(n,t="",e){let r=n;e=e||typeof location<"u"&&location,null==n&&(n=e.protocol+"//"+e.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?e.protocol+n:e.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof e<"u"?e.protocol+"//"+n:"https://"+n),r=Xf(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(e&&e.port===r.port?"":":"+r.port),r}(n,(t=t||{}).path||"/socket.io"),r=e.source,i=e.id;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||js[i]&&e.path in js[i].nsps?l=new uc(r,t):(js[i]||(js[i]=new uc(r,t)),l=js[i]),e.query&&!t.query&&(t.query=e.queryKey),l.socket(e.path,t)}Object.assign(kr,{Manager:uc,Socket:ip,io:kr,connect:kr});class op{constructor(t){this.config=t,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===t&&(t=this.emptyConfig),this.ioSocket=(kr||Ac)(t.url,t.options)}of(t){this.ioSocket.of(t)}on(t,e){this.ioSocket.on(t,e)}once(t,e){this.ioSocket.once(t,e)}connect(){return this.ioSocket.connect()}disconnect(t){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(t,...e){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(t,e){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(t){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(t){return this.subscribersCounter[t]||(this.subscribersCounter[t]=0),this.subscribersCounter[t]++,this.eventObservables$[t]||(this.eventObservables$[t]=new Ce(e=>{const r=i=>{e.next(i)};return this.ioSocket.on(t,r),()=>{this.subscribersCounter[t]--,0===this.subscribersCounter[t]&&(this.ioSocket.removeListener(t,r),delete this.eventObservables$[t])}}).pipe(lg())),this.eventObservables$[t]}fromOneTimeEvent(t){return new Promise(e=>this.once(t,e))}}function dV(n){return new op(n)}const F0=new $("__SOCKET_IO_CONFIG__");let hV=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:F0,useValue:e},{provide:op,useFactory:dV,deps:[F0]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({}),n})(),sp=(()=>{class n{constructor(e){this.socket=e,this.limit_size=5,this.skip_size=0,this.initial_take_size=3,this.hot_store_array=[],this.awaitingSocketResponse=!1,this.username="",this.doneCreateRoom=()=>Ce.create(r=>{this.socket.on("done-create-room-"+this.username,()=>{r.next()})}),this.getMessages=()=>Ce.create(r=>{console.log("get messages for "+this.username),this.socket.on("emit-message-"+this.username,i=>{console.log("incoming message for "+this.username),r.next(i)})})}initializeChatHistoryProcessing(){this.skip_size=0,this.awaitingSocketResponse=!1}createRoom(e){console.log("beginning create room"),this.initializeChatHistoryProcessing(),this.username=e,this.socket.emit("create room",{username:e})}sendMessage(e){this.socket.emit("new-message",e)}offSocket(){this.socket.removeAllListeners()}getInitialChatHistory(){var e=this.initial_take_size+this.limit_size;return console.log("emit with take_size="+e+", skip_size="+this.skip_size),this.awaitingSocketResponse=!0,this.socket.emit("chathistory",{username:this.username,limit:e,skip:this.skip_size}),Ce.create(r=>{this.socket.on("chathistoryresults-"+this.username,i=>{if(console.log("received chathistory response="+i),i){var o=i.data;console.log("length of incoming take_history_array="+o.length);var s=[];if(0==this.skip_size){for(var a=0;a<o.length;a++){var l=o[a];a<this.initial_take_size?s.push(l):this.hot_store_array.push(l)}console.log("length of hot_history_array="+this.hot_store_array.length),console.log("length of return_array="+s.length),r.next(s),this.skip_size+=e}else this.skip_size+=this.limit_size,console.log("skip size increased to "+this.skip_size),this.hot_store_array=o,console.log("hot_store_array is now length="+this.hot_store_array.length)}this.awaitingSocketResponse=!1})})}getMoreChatHistory(){if(console.log("get more chat history for username="+this.username),this.awaitingSocketResponse)return Ce.create(i=>{console.log("returning empty array"),i.next([])});var r,e=this.limit_size;return console.log("now emit with take_size="+e+", skip_size="+this.skip_size),this.awaitingSocketResponse=!0,console.log("limit_size="+this.limit_size.toString()+", skip_size="+this.skip_size.toString()),this.socket.emit("chathistory",{username:this.username,limit:e,skip:this.skip_size}),r=[...this.hot_store_array],Ce.create(i=>{console.log("returning array of length="+r.length),i.next(r)})}moreToLoad(){return console.log("skip size="+this.skip_size+" hot store length="+this.hot_store_array.length+" and limit size="+this.limit_size),0==this.skip_size?(console.log("inital call"),this.hot_store_array.length>0):(console.log("another call"),this.hot_store_array.length==this.limit_size)}deleteUser(e){console.log("call backend to delete -user for user="+e),this.socket.emit("delete-user",{username:e})}}return n.\u0275fac=function(e){return new(e||n)(F(op))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ap=(()=>{class n{constructor(){this.invokeToggleDevilFunction=new Te}onToggleDevil(){this.invokeToggleDevilFunction.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L0=(()=>{class n{constructor(){this._developer=!1}set developer(e){this._developer=e}get developer(){return this._developer}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V0(n,t,e,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(r,i)}let pV=(()=>{class n{constructor(e){this.router=e}ngOnInit(){var e=this;return function fV(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function s(l){V0(o,r,i,s,a,"next",l)}function a(l){V0(o,r,i,s,a,"throw",l)}s(void 0)})}}(function*(){var r="assets/unencoded/Build",i={dataUrl:r+"/built.data",frameworkUrl:r+"/built.framework.js",codeUrl:r+"/built.wasm",streamingAssetsUrl:"StreamingAssets",companyName:"chattyfiction",productName:"chatbot_thing",productVersion:"1.0.0",devicePixelRatio:0};let o=document.querySelector("#unity-container")||new Element;var s=document.querySelector("#unity-canvas")||new HTMLElement,a=document.querySelector("#unity-loading-bar")||new HTMLElement,l=document.querySelector("#unity-progress-bar-full")||new HTMLElement,c=document.querySelector("#unity-fullscreen-button")||new HTMLElement,u=document.querySelector("#unity-mobile-warning")||new HTMLElement;s.style.height="640px",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?(o.className="unity-mobile",i.devicePixelRatio=1,u.style.display="block",setTimeout(()=>{u.style.display="none"},5e3)):s.style.height="640px",a.style.display="block",s.style.width=window.innerWidth.toString()+"px",console.log("canvas width="+s.style.width),e.gameInstance=createUnityInstance(s,i,d=>{l.style.width=100*d+"%"}).then(d=>{e.gameInstance=d,a.style.display="none",c.onclick=()=>{d.SetFullscreen(1)}}).catch(d=>{alert(d)}),e.unitycanvas=s})()}closeUnity(){console.log("closing unity"),this.gameInstance.Quit().then(()=>{console.log("closed unity"),this.router.navigate(["/home"])}),this.gameInstance=null}onResize(){var e=window.innerWidth.toString()+"px";this.unitycanvas.style.width=e,console.log("window resized to width="+e.toString()),this.refreshPositions()}doChereeAnimation(e){console.log("start cheree animation"+e);try{this.gameInstance.SendMessage("Cheree","StartAnimation",e)}catch(r){console.log("err sending to unity: "+r)}}doMellenAnimation(e){console.log("start mellen animation"+e);try{this.gameInstance.SendMessage("Mellen","StartAnimation",e)}catch(r){console.log("err sending to unity: "+r)}}doStopAnimations(){this.gameInstance.SendMessage("Cheree","StopAnimation"),this.gameInstance.SendMessage("Mellen","StopAnimation")}doCameraToLeft(){console.log("camera to left"),this.gameInstance.SendMessage("Main Camera","CameraToLeft")}doCameraToRight(){console.log("camera to right"),this.gameInstance.SendMessage("Main Camera","CameraToRight")}showMellen(){console.log("showing mellen");try{this.gameInstance.SendMessage("Cheree","ShowMellen")}catch(e){console.log("err sending to unity: "+e)}setTimeout(()=>{this.refreshPositions()},100)}refreshPositions(){console.log("refreshing positions");var e=window.innerWidth/1e3;e<.5&&(e=.5),e>1&&(e=1),console.log("half_width="+e.toString());var r=e-.22,i=-e-.22;console.log("x1="+r.toString()+" x2="+i.toString()),this.gameInstance.SendMessage("Cheree","SetBase",r),this.gameInstance.SendMessage("Mellen","SetBase",i)}hideMellen(){console.log("hiding mellen");try{this.gameInstance.SendMessage("Cheree","HideMellen")}catch(e){console.log("err sending to unity: "+e)}}rotateCheree(e){this.gameInstance.SendMessage("Cheree",e?"RotateRight":"RotateLeft")}rotateMellen(e){this.gameInstance.SendMessage("Mellen",e?"RotateRight":"RotateLeft")}setChereeBase(e){this.gameInstance.SendMessage("Cheree","SetBase",e)}setMellenBase(e){this.gameInstance.SendMessage("Mellen","SetBase",e)}}return n.\u0275fac=function(e){return new(e||n)(T(Ge))},n.\u0275cmp=Gn({type:n,selectors:[["unity"]],decls:11,vars:0,consts:[["id","unity-container",1,"unity-desktop",3,"resize"],["id","unity-canvas","width","1792","height","640"],["id","unity-loading-bar"],["id","unity-logo"],["id","unity-progress-bar-empty"],["id","unity-progress-bar-full"],["id","unity-warning"],["id","unity-footer"],["id","unity-webgl-logo"],["id","unity-fullscreen-button"],["id","unity-mobile-warning"]],template:function(e,r){1&e&&(m(0,"div",0),k("resize",function(){return r.onResize()},0,Hm),I(1,"canvas",1),m(2,"div",2),I(3,"div",3),m(4,"div",4),I(5,"div",5),g()(),I(6,"div",6),m(7,"div",7),I(8,"div",8)(9,"div",9)(10,"div",10),g()())},encapsulation:2}),n})();function gV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Communicating with Cheree "),g(),I(3,"br")(4,"br"),m(5,"div",3),p(6," Conveying your thoughts to Cheree is no different from chatting. Simply type in English whatever you're thinking and press the "),m(7,"span",4),p(8,"ENTER"),g(),p(9," key or click the "),m(10,"span",4),p(11,"Think it"),g(),p(12," button. "),I(13,"br")(14,"br"),p(15," When you aren't sure what to type, it's okay to type nothing. "),g()())}function mV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," The Location List "),g(),I(3,"br")(4,"br"),m(5,"div",3),p(6," View the locations Cheree can visit by clicking the "),m(7,"span",5),p(8,"location name"),g(),p(9," in the upper left corner. From there you can request a location by clicking its name. "),I(10,"br")(11,"br"),p(12," Or you can ask her in English by referring to the location number. "),g()())}function yV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Collecting Clues "),g(),I(3,"br")(4,"br"),m(5,"div",3),p(6," Certain topics when discussed with Cheree will trigger a realization, resulting in a clue. The two of you will need to find all clues in order to solve the mystery. "),I(7,"br")(8,"br"),p(9," View the clues you have collected by clicking "),m(10,"span",5),p(11,"Clues"),g(),p(12," in the upper right corner. "),I(13,"br")(14,"br"),m(15,"span",4),p(16,"Tip"),g(),p(17,": Pay attention to names of people and concepts that come up in conversation. You can, for instance, ask what (according to Cheree) one person thinks about another. "),g()())}function _V(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Deciphering Clues "),g(),I(3,"br")(4,"br"),m(5,"div",3),p(6," A clue once collected must be deciphered. Each letter in the alphabet codes for a different letter. "),I(7,"br")(8,"br"),p(9," To change a letter first select it (click on the letter) in the code. Then type on the keyboard the letter you wish to change it to, or use the letter input field. "),I(10,"br")(11,"br"),m(12,"span",4),p(13,"Tips"),g(),p(14,': Begin with short words commonly occuring in sentences, such as "I", "it", "the". If you are having trouble solving the code, sometimes trying random letters may give you ideas. '),g()())}function vV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Relationship Levels "),g(),I(3,"br")(4,"br"),m(5,"div",3),p(6," Your relationship with Cheree is represented by a "),m(7,"span",5),p(8,"level"),g(),p(9," displayed in the upper right corner. As your level increases, Cheree becomes comfortable discussing more topics. "),I(10,"br")(11,"br"),p(12,' You naturally accumulate points towards the next level as you "converse" thoughts, but not all thoughts accumulate points. '),I(13,"br")(14,"br"),p(15," Which ones do? There is no way to know in advance, but generally, Cheree likes it when you pose "),m(16,"span",4),p(17,"questions"),g(),p(18," and make "),m(19,"span",4),p(20,"statements"),g(),p(21," that she can understand. "),g()())}function wV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Locations Without Clues "),g(),I(3,"br")(4,"br"),m(5,"div",3),p(6," At times, Cheree will infer that there are no more clues to be found at a location. "),p(7," The names of such locations will appear in "),m(8,"span",6),p(9,"green"),g(),p(10," in the location list. (Note that simply because a location isn't green doesn't mean there is necessarily a clue there) "),g()())}function CV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Cheree's Moods "),g(),I(3,"br")(4,"br"),m(5,"div",3),p(6,' The way that you go about "conversing" with Cheree has an effect on her mood. For instance, being very terse can cause her to feel neglected. '),I(7,"br")(8,"br"),p(9," Cheree's mood is displayed in the upper left. When her mood is anything other than "),m(10,"span",4),p(11,"normal"),g(),p(12," it will halt the increase of relationship points. "),I(13,"br"),p(14," (Exception: Correctly answering trivia questions always increases points) "),I(15,"br")(16,"br"),p(17," Her mood will revert to normal over time, but you may discover certain actions that can immediately break Cheree out of a bad mood. "),g()())}function bV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Cheree's Moods (2/3) "),g(),I(3,"br")(4,"br"),m(5,"div",3)(6,"div")(7,"span",7),p(8,"Agitated"),g(),p(9," - Triggered by using too much negative language "),g(),I(10,"br"),m(11,"div")(12,"span",7),p(13,"Neglected"),g(),p(14," - Triggered by thinking too many short thoughts "),g(),I(15,"br"),m(16,"div")(17,"span",7),p(18,"Misunderstood"),g(),p(19," - Triggered by only making statements, not asking questions "),g(),I(20,"br"),m(21,"div")(22,"span",7),p(23,"Interrogated"),g(),p(24," - Triggered by only asking questions, not making statements "),g(),I(25,"br"),g()())}function DV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Cheree's Moods (3/3) "),g(),I(3,"br")(4,"br"),m(5,"div",3)(6,"div")(7,"span",7),p(8,"Flustered"),g(),p(9," - Triggered by changing topics too frequently "),g(),I(10,"br"),m(11,"div")(12,"span",7),p(13,"Creeped"),g(),p(14," - Triggered by excessive flirting (at sufficiently high relationship level does not trigger) "),g(),I(15,"br"),p(16," Her mood will revert to normal over time, but you may discover certain actions that can immediately break Cheree out of a bad mood. "),g()())}let EV=(()=>{class n{constructor(){this.whichTutorialView=-1}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Gn({type:n,selectors:[["tutorial"]],inputs:{whichTutorialView:"whichTutorialView"},decls:9,vars:9,consts:[["class","tut",4,"ngIf"],[1,"tut"],[1,"system-title"],[1,"system-text"],[2,"color","lightseagreen"],[2,"color","yellow"],[2,"color","#3a1"],[2,"color","violet"]],template:function(e,r){1&e&&(M(0,gV,16,0,"div",0),M(1,mV,13,0,"div",0),M(2,yV,18,0,"div",0),M(3,_V,15,0,"div",0),M(4,vV,22,0,"div",0),M(5,wV,11,0,"div",0),M(6,CV,18,0,"div",0),M(7,bV,26,0,"div",0),M(8,DV,17,0,"div",0)),2&e&&(w("ngIf",0==r.whichTutorialView),v(1),w("ngIf",1==r.whichTutorialView),v(1),w("ngIf",2==r.whichTutorialView),v(1),w("ngIf",3==r.whichTutorialView),v(1),w("ngIf",4==r.whichTutorialView),v(1),w("ngIf",5==r.whichTutorialView),v(1),w("ngIf",6==r.whichTutorialView),v(1),w("ngIf",7==r.whichTutorialView),v(1),w("ngIf",8==r.whichTutorialView))},dependencies:[to],styles:[".system-title[_ngcontent-%COMP%] {\n      font-size: 20px;\n      font-family:'playfair'; \n      color: #d88;\n      padding-top: 15px;\n    }\n\n    .system-text[_ngcontent-%COMP%] {\n      font-size: 14px;\n      color: white;\n    }\n\n    .tut[_ngcontent-%COMP%] {\n      padding-left: 10px;\n      padding-right: 10px;\n    }"]}),n})();function SV(n,t){if(1&n){const e=ne();m(0,"div")(1,"span",12),k("@letterAnim.done",function(){return V(e),B(b(4).afterLetterAnim())}),p(2),g()()}if(2&n){const e=b(2),r=e.$implicit,i=e.index,o=b().index,s=b();v(1),w("@letterAnim",s.whichLetterAnimColor),v(1),$e(" ",s.adjustLetter(r,o,i)," ")}}function TV(n,t){if(1&n&&(m(0,"div")(1,"span",12),p(2),g()()),2&n){const e=b(2),r=e.$implicit,i=e.index,o=b().index,s=b();v(1),w("@letterAnim",s.whichLetterAnimColor),v(1),$e(" ",s.adjustLetter(r,o,i)," ")}}function MV(n,t){if(1&n){const e=ne();m(0,"div")(1,"a",13),k("click",function(){V(e);const i=b(3),o=i.$implicit,s=i.index,a=b().index;return B(b().highlightThisLetter(o,a,s))}),p(2),g()()}if(2&n){const e=b(3),r=e.$implicit,i=e.index,o=b().index,s=b();v(2),er(s.adjustLetter(r,o,i))}}function IV(n,t){if(1&n){const e=ne();m(0,"div")(1,"a",14),k("click",function(){V(e);const i=b(4),o=i.$implicit,s=i.index,a=b().index,l=b(),c=Rd(10);return l.highlightThisLetter(o,a,s),B(c.select())}),p(2),g()()}if(2&n){const e=b(4),r=e.$implicit,i=e.index,o=b().index,s=b();v(2),er(s.adjustLetter(r,o,i))}}function AV(n,t){if(1&n&&(m(0,"div")(1,"span",15),p(2),g()()),2&n){const e=b(4),r=e.$implicit,i=e.index,o=b().index,s=b();v(2),er(s.adjustLetter(r,o,i))}}function xV(n,t){if(1&n&&(m(0,"div"),M(1,IV,3,1,"div",11),M(2,AV,3,1,"div",11),g()),2&n){const e=b(3).$implicit;v(1),w("ngIf",e>="a"&&e<="z"),v(1),w("ngIf",e<"a"||e>"z")}}function kV(n,t){if(1&n&&(m(0,"div"),M(1,MV,3,1,"div",11),M(2,xV,3,2,"div",11),g()),2&n){const e=b(2).$implicit,r=b(2);v(1),w("ngIf",e==r.highlightedletter),v(1),w("ngIf",e!=r.highlightedletter)}}function PV(n,t){if(1&n&&(m(0,"div",10),M(1,SV,3,2,"div",11),M(2,TV,3,2,"div",11),M(3,kV,3,2,"div",11),g()),2&n){const e=b().index,r=b().index,i=b();v(1),w("ngIf",i.codesolved&&0==r&&0==e),v(1),w("ngIf",i.codesolved&&(0!=r||0!=e)),v(1),w("ngIf",!i.codesolved)}}function NV(n,t){if(1&n&&(m(0,"div",8),M(1,PV,4,3,"div",9),p(2," \xad "),g()),2&n){const e=t.$implicit;v(1),w("ngIf"," "!=e)}}function RV(n,t){if(1&n&&(m(0,"div",6),M(1,NV,3,1,"div",7),p(2," \xa0\xa0\n"),g()),2&n){const e=t.$implicit;v(1),w("ngForOf",e)}}let OV=(()=>{class n{constructor(e){this.varsService=e,this.whichCode=-1,this.buttonTextChange=new Te,this.puzzleSolved=new Te,this.code=[],this.codemap=[],this.highlightedletter=" ",this.inputletter="",this.codesolved=!1,this.codepuzzleinstructions="Select letter and key in new letter for it.",this.codehint="",this.codewordarray=[],this.codetargetarray=[],this.highlighted_i=-1,this.highlighted_j=-1,this.whichLetterAnimColor="one"}afterLetterAnim(){for(var e=this.whichLetterAnimColor;e==this.whichLetterAnimColor;)switch(Math.floor(8*Math.random())){case 0:this.whichLetterAnimColor="one";break;case 1:this.whichLetterAnimColor="two";break;case 2:this.whichLetterAnimColor="three";break;case 3:this.whichLetterAnimColor="four";break;case 4:this.whichLetterAnimColor="five";break;case 5:this.whichLetterAnimColor="six";break;case 6:this.whichLetterAnimColor="seven";break;case 7:this.whichLetterAnimColor="eight"}}ngOnInit(){console.log("init with whichcode="+this.whichCode),this.prepareCode(this.whichCode)}ngOnChanges(){}getCodeBody(e){return 0==e?"the year 1891 was the last year of my life. i died that year. where i do not remember but it was not at home.":1==e?"the cause of my death was a head injury. something hard struck the back of my head. it may have happened suddenly. i may not have seen who inflicted it.":2==e?"the police that day were carrying umbrellas. that means they were from hampshire. then my body must have been found in hampshire.":3==e?"i am certain that i have had personal experience with chloroform having been administered to me by somebody. it was likely against my will.":4==e?"although she was stabbed dozens of times, the weapon that killed martha tabram may have been a bayonet, possibly owned by one of the soldiers she had been with that night.":5==e?"burton was my sister's fiance. he was a guardsman in london, but he left with my sister during the murders.":6==e?"my sister offered to conduct a seance and chauncy took her up on the offer. however, it did not further his investigation. quite the opposite.":7==e?"burton had many experiences during the war, including assisting the army surgeon in administering drugs. he went on to leave the military despite achieving high rank.":"i was present during a carriage ride in which the horses were whipped. the destination of this ride was hampshire."}getCodeHint(e){return 0==e?"What happened in the year 1891?":1==e?"What was the cause of death?":2==e?"Where was Cheree found?":3==e?"''If it was good enough for the Queen''":4==e?"The killing blow?":5==e?"My sister had a fiance.":6==e?"What business did my sister have in London?":7==e?"How accomplished was Burton?":"Why can I remember a whip cracking?"}highlightThisLetter(e,r,i){this.highlightedletter=e,this.inputletter=e,console.log("highlighted "+this.highlightedletter+" at i="+r+" j="+i),this.highlighted_i=r,this.highlighted_j=i}prepareCode(e,r=!1){var i=this.getCodeBody(e);this.codehint=this.getCodeHint(e),this.whichCode=e,this.codetargetarray=[];var o=i.split(" ");for(let c of o){var s=Array.from(Array(c.length)).map((u,d)=>c[d]);this.codetargetarray.push(s)}this.code=Array.from(Array(i.length)).map((c,u)=>i[u]);var a=r?i:this.codify(i,e);this.buttonTextChange.emit("Try Later"),this.codepuzzleinstructions="Select letter and key in new letter for it.",this.codewordarray=[];var l=a.split(" ");console.log("wordarray="+l.toString());for(let c of l)s=Array.from(Array(c.length)).map((d,h)=>c[h]),this.codewordarray.push(s)}codify(e,r){var i="";switch(r){case 0:i="lpmkonjibhuvgycftxdrzseawq";break;case 1:i="kjhgfdsaqwertyuiopmnbvcxzl";break;case 2:i="qetuoadgjlzcbmwryipsfhkxvn";break;case 3:i="zaqxswcdevfrbgtnhymjukilop";break;case 4:i="piyrwouteqljgdakhfsmbcznvx";break;case 5:i="opiuytrewqlkjhgfdsamnbvcxz";break;case 6:i="mnbvcxzlkjhgfdsapoiuytrewq";break;case 7:i="tyuiopqwerghjklasdfbnmzxcv";break;case 8:i="hoadgjwryipsfkxvnqetulzcbm"}this.codemap=Array.from(Array(26)).map((_,C)=>i[C]);const s=Array.from(Array(26)).map((_,C)=>C+97).map(_=>String.fromCharCode(_));console.log("alphabet="+s);for(var a=e,l=e.length,c=0;c<e.length;c++){var h=s[this.codemap.indexOf(a[c])];if(h){var f=a.substring(0,c),y=a.substring(c+1,l);a=f+h+y}}return console.log("code="+a),a}solvepuzzle(){console.log("solved it!"),this.codesolved=!0,this.highlightedletter=" ",this.buttonTextChange.emit("Close"),this.codepuzzleinstructions="Solved!",this.puzzleSolved.emit()}adjustLetter(e,r,i){if(0==r&&0==i)return e.toUpperCase();if(0==i){var o=this.codetargetarray[r-1];if("."==o[o.length-1]||"i"==this.codetargetarray[r][i]&&1==this.codetargetarray[r].length||"h"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=9&&"a"==this.codetargetarray[r][i+1]&&"m"==this.codetargetarray[r][i+2]||"m"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"a"==this.codetargetarray[r][i+1]&&"r"==this.codetargetarray[r][i+2]||"t"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"a"==this.codetargetarray[r][i+1]&&"b"==this.codetargetarray[r][i+2]||"b"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"u"==this.codetargetarray[r][i+1]&&"r"==this.codetargetarray[r][i+2]||"l"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"o"==this.codetargetarray[r][i+1]&&"n"==this.codetargetarray[r][i+2]||"c"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=7&&"h"==this.codetargetarray[r][i+1]&&"a"==this.codetargetarray[r][i+2])return e.toUpperCase()}return e}handleKeyboardEvent(e){if("ArrowLeft"==e.key?(0!=this.highlighted_i||0!=this.highlighted_j)&&(0==this.highlighted_j?(this.highlighted_i-=1,this.highlighted_j=0):this.highlighted_j-=1,this.highlightedletter=this.codewordarray[this.highlighted_i][this.highlighted_j]):"ArrowRight"==e.key&&(this.highlighted_i!=this.codewordarray.length-1||this.highlighted_j!=this.codewordarray[this.codewordarray.length-1].length-1)&&(this.highlighted_j==this.codewordarray[this.highlighted_i].length-1?(this.highlighted_i+=1,this.highlighted_j=0):this.highlighted_j+=1,this.highlightedletter=this.codewordarray[this.highlighted_i][this.highlighted_j]),!this.codesolved&&(this.varsService.developer||e.shiftKey)&&"F4"==e.key)return this.solvepuzzle(),void this.prepareCode(this.whichCode,!0);if(!this.codesolved&&" "!=this.highlightedletter){var o=e.key;if(!/^[A-Za-z]/.exec(o)||"Enter"==o||"Shift"==o||"CapsLock"==o||"ArrowLeft"==o||"ArrowRight"==o||"ArrowUp"==o||"ArrowDown"==o||"PageUp"==o||"PageDown"==o||"Escape"==o||"PrintScreen"==o||"Insert"==o||"Delete"==o||"Tab"==o||"Control"==o||"Alt"==o||"Home"==o||"End"==o||"Backspace"==o||"F1"==o||"F2"==o||"F3"==o||"F4"==o||"F5"==o||"F6"==o||"F7"==o||"F8"==o||"F9"==o||"F10"==o||"F11"==o||"F12"==o||"Pause"==o||"NumLock"==o||"ScrollLock"==o||"ContextMenu"==o)return;if(console.log("original key="+e.key+" and highlightedletter="+this.highlightedletter+" and inputletter="+this.inputletter),(!e.key||"Unidentified"==e.key)&&(o=this.inputletter),e.preventDefault(),o>="A"&&o<="Z"&&(o=o.toLowerCase()),console.log("key to use is "+o),o>="a"&&o<="z"){for(var s=0;s<this.codewordarray.length;s++)for(var a=this.codewordarray[s],l=0;l<a.length;l++)a[l]==o?this.codewordarray[s][l]=this.highlightedletter:a[l]==this.highlightedletter&&(this.codewordarray[s][l]=o);this.highlightedletter=o,this.inputletter=o,console.log("highlightedletter now="+this.highlightedletter)}for(s=0;s<this.codewordarray.length;s++){a=this.codewordarray[s];var c=this.codetargetarray[s];for(l=0;l<a.length;l++)if(a[l]>="a"&&a[l]<="z"&&a[l]!=c[l])return}this.solvepuzzle()}}shorten(){this.inputletter.length>1&&(console.log("old inputletter="+this.inputletter),this.inputletter=this.inputletter[this.inputletter.length-1],console.log("new inputletter="+this.inputletter))}}return n.\u0275fac=function(e){return new(e||n)(T(L0))},n.\u0275cmp=Gn({type:n,selectors:[["codepuzzle"]],hostBindings:function(e,r){1&e&&k("keyup",function(o){return r.handleKeyboardEvent(o)},0,qu)},inputs:{whichCode:"whichCode"},outputs:{buttonTextChange:"buttonTextChange",puzzleSolved:"puzzleSolved"},features:[Bt],decls:13,vars:5,consts:[[2,"font-size","18px","font-weight","bold","margin-top","20px"],["style","display:inline-block;",4,"ngFor","ngForOf"],["id","singlekeydiv",3,"ngClass"],["type","text","id","inputField","autofocus","","maxlength","1",2,"width","38px",3,"ngModel","ngModelChange","click","input"],["singlekey",""],["id","helptext"],[2,"display","inline-block"],["class","codeletter",4,"ngFor","ngForOf"],[1,"codeletter"],["style","  color:white;",4,"ngIf"],[2,"color","white"],[4,"ngIf"],[1,"letter-solved",2,"color","rgb(102, 172, 177)","cursor","default"],[2,"color","red","cursor","pointer",3,"click"],[2,"color","yellow","text-decoration","none","cursor","pointer",3,"click"],[2,"color","rgb(102, 172, 177)","cursor","default"]],template:function(e,r){if(1&e){const i=ne();m(0,"div",0),p(1),g(),I(2,"br")(3,"br"),M(4,RV,3,1,"div",1),I(5,"br")(6,"br"),m(7,"div")(8,"div",2)(9,"input",3,4),k("ngModelChange",function(s){return r.inputletter=s})("click",function(){return V(i),B(Rd(10).select())})("input",function(){return r.shorten()}),g()(),m(11,"div",5),p(12),g()()}2&e&&(v(1),er(r.codehint),v(3),w("ngForOf",r.codewordarray),v(4),w("ngClass",r.codesolved?"invisible":"visible"),v(1),w("ngModel",r.inputletter),v(3),$e(" ",r.codepuzzleinstructions," "))},dependencies:[uC,Rh,to,co,Kl,Yf,$f],styles:["#singlekeydiv[_ngcontent-%COMP%] {\n    display: inline-block;\n   }\n\n   #helptext[_ngcontent-%COMP%] {\n    display: inline-block;\n    margin-left: 15px;\n    font-size:12px;\n    color:white;\n   }\n\n  .codeletter[_ngcontent-%COMP%] {\n    line-height:26px;\n    font-size:30px;\n    display:inline-block;\n  }\n\n  .visible[_ngcontent-%COMP%] {\n    visibility: normal;\n  }\n  .invisible[_ngcontent-%COMP%] {\n    visibility: hidden;\n  }\n\n  .letter-solved[_ngcontent-%COMP%] {\n    top: 0px;\n  }\n\n  @media screen and (max-width:720px) {\n    .codeletter[_ngcontent-%COMP%] {\n        line-height: 20px;\n        font-size: 24px;\n    }\n  }"],data:{animation:[On("letterAnim",[Se("one",ye({color:"lightblue"})),Se("two",ye({color:"pink"})),Se("three",ye({color:"yellow"})),Se("four",ye({color:"orange"})),Se("five",ye({color:"lightgreen"})),Se("six",ye({color:"silver"})),Se("seven",ye({color:"violet"})),Se("eight",ye({color:"lightred"})),et("* => *",[Xe(".4s")])])]}}),n})();const FV=["unity"];function LV(n,t){1&n&&I(0,"span",23)}function VV(n,t){if(1&n){const e=ne();m(0,"div")(1,"img",24),k("@BackTransition.done",function(){return V(e),B(b().afterTransition())}),g(),m(2,"img",25),k("@BackTransition.done",function(){return V(e),B(b().afterTransition())}),g(),m(3,"img",26),k("@BackTransition.done",function(){return V(e),B(b().afterTransition())}),g()()}if(2&n){const e=b();v(1),Ki("src",e.imgpath,zr),w("@BackTransition",e.transitionIn?"in":"out"),v(1),Ki("src",e.imgpath_m,zr),w("@BackTransition",e.transitionIn?"in":"out"),v(1),Ki("src",e.imgpath_s,zr),w("@BackTransition",e.transitionIn?"in":"out")}}function BV(n,t){if(1&n){const e=ne();m(0,"div",27)(1,"img",28),k("@BackTransition.done",function(){return V(e),B(b().afterTransition())}),g()()}if(2&n){const e=b();v(1),Ki("src",e.imgpath_ending,zr),w("@BackTransition",e.transitionIn?"in":"out")}}function UV(n,t){if(1&n){const e=ne();m(0,"div",29)(1,"a",30),k("click",function(){return V(e),B(b().toggleShowCluesText())}),m(2,"span"),p(3,"Clues: \xa0"),g(),m(4,"span",31),p(5),g()()()}if(2&n){const e=b();v(5),Yi("",e.num_clues,"/",e.maxClues,"")}}function jV(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function $V(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function HV(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function zV(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function GV(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function qV(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function WV(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function KV(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function QV(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function YV(n,t){if(1&n&&(m(0,"div",32),M(1,jV,2,0,"span",33),M(2,$V,2,0,"span",33),M(3,HV,2,0,"span",33),M(4,zV,2,0,"span",33),M(5,GV,2,0,"span",33),M(6,qV,2,0,"span",33),M(7,WV,2,0,"span",33),M(8,KV,2,0,"span",33),M(9,QV,2,0,"span",33),g()),2&n){const e=b();v(1),w("ngIf",e.clues[0]>=1),v(1),w("ngIf",e.clues[1]>=1),v(1),w("ngIf",e.clues[2]>=1),v(1),w("ngIf",e.clues[3]>=1),v(1),w("ngIf",e.clues[4]>=1),v(1),w("ngIf",e.clues[5]>=1),v(1),w("ngIf",e.clues[6]>=1),v(1),w("ngIf",e.clues[7]>=1),v(1),w("ngIf",e.clues[8]>=1)}}function ZV(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function JV(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function XV(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function eB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function tB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function nB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function rB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function iB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function oB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function sB(n,t){if(1&n){const e=ne();m(0,"div",32)(1,"a",30),k("click",function(){return V(e),B(b().toggleShowCluesText())}),M(2,ZV,2,0,"span",35),M(3,JV,2,0,"span",35),M(4,XV,2,0,"span",35),M(5,eB,2,0,"span",35),M(6,tB,2,0,"span",35),M(7,nB,2,0,"span",35),M(8,rB,2,0,"span",35),M(9,iB,2,0,"span",35),M(10,oB,2,0,"span",35),g()()}if(2&n){const e=b();v(2),w("ngIf",e.clues[0]>=1),v(1),w("ngIf",e.clues[1]>=1),v(1),w("ngIf",e.clues[2]>=1),v(1),w("ngIf",e.clues[3]>=1),v(1),w("ngIf",e.clues[4]>=1),v(1),w("ngIf",e.clues[5]>=1),v(1),w("ngIf",e.clues[6]>=1),v(1),w("ngIf",e.clues[7]>=1),v(1),w("ngIf",e.clues[8]>=1)}}function aB(n,t){if(1&n){const e=ne();m(0,"div",55),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(0))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(0))}function lB(n,t){if(1&n){const e=ne();m(0,"div",56),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(1))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(1))}function cB(n,t){if(1&n){const e=ne();m(0,"div",57),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(2))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(2))}function uB(n,t){if(1&n){const e=ne();m(0,"div",58),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(3))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(3))}function dB(n,t){if(1&n){const e=ne();m(0,"div",59),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(4))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(4))}function hB(n,t){if(1&n){const e=ne();m(0,"div",60),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(5))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(5))}function fB(n,t){if(1&n){const e=ne();m(0,"div",61),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(6))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(6))}function pB(n,t){if(1&n){const e=ne();m(0,"div",62),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(7))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(7))}function gB(n,t){if(1&n){const e=ne();m(0,"div",63),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(8))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(8))}function mB(n,t){if(1&n){const e=ne();m(0,"div",64),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(9))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(9))}function yB(n,t){if(1&n){const e=ne();m(0,"div",65),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(10))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(10))}function _B(n,t){if(1&n){const e=ne();m(0,"div",66),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(11))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(11))}function vB(n,t){if(1&n){const e=ne();m(0,"div",67),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(12))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(12))}function wB(n,t){if(1&n){const e=ne();m(0,"div",68),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(13))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(13))}function CB(n,t){if(1&n){const e=ne();m(0,"div",69),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(14))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(14))}function bB(n,t){if(1&n){const e=ne();m(0,"div",70),k("@romTrigger.done",function(){return V(e),B(b(2).afterRomBlink(15))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(15))}function DB(n,t){if(1&n&&(m(0,"div",37)(1,"span"),p(2,"R Level: \xa0"),g(),m(3,"span"),p(4),g(),m(5,"div",38),M(6,aB,1,1,"div",39),M(7,lB,1,1,"div",40),M(8,cB,1,1,"div",41),M(9,uB,1,1,"div",42),M(10,dB,1,1,"div",43),M(11,hB,1,1,"div",44),M(12,fB,1,1,"div",45),M(13,pB,1,1,"div",46),M(14,gB,1,1,"div",47),M(15,mB,1,1,"div",48),M(16,yB,1,1,"div",49),M(17,_B,1,1,"div",50),M(18,vB,1,1,"div",51),M(19,wB,1,1,"div",52),M(20,CB,1,1,"div",53),M(21,bB,1,1,"div",54),g()()),2&n){const e=b();v(4),er(e.r_level),v(2),w("ngIf",e.rombarfillwidth>=1),v(1),w("ngIf",e.rombarfillwidth>=7),v(1),w("ngIf",e.rombarfillwidth>=13),v(1),w("ngIf",e.rombarfillwidth>=20),v(1),w("ngIf",e.rombarfillwidth>=26),v(1),w("ngIf",e.rombarfillwidth>=32),v(1),w("ngIf",e.rombarfillwidth>=38),v(1),w("ngIf",e.rombarfillwidth>=44),v(1),w("ngIf",e.rombarfillwidth>=51),v(1),w("ngIf",e.rombarfillwidth>=57),v(1),w("ngIf",e.rombarfillwidth>=63),v(1),w("ngIf",e.rombarfillwidth>=69),v(1),w("ngIf",e.rombarfillwidth>=75),v(1),w("ngIf",e.rombarfillwidth>=82),v(1),w("ngIf",e.rombarfillwidth>=88),v(1),w("ngIf",e.rombarfillwidth>=94)}}function EB(n,t){if(1&n){const e=ne();m(0,"div",71),I(1,"tutorial",72)(2,"br")(3,"br"),m(4,"button",73),k("click",function(){return V(e),B(b().onSubmit())}),p(5,"OK"),g()()}if(2&n){const e=b();v(1),w("whichTutorialView",e.whichTutorialView)}}function SB(n,t){1&n&&I(0,"div",81)}function TB(n,t){if(1&n){const e=ne();m(0,"div",82)(1,"a",83),k("click",function(){V(e);const i=b().index;return B(b(2).doCodePuzzle(i))}),p(2,"???"),g()()}}function MB(n,t){if(1&n&&(m(0,"div",84),p(1),g()),2&n){const e=b().index,r=b(2);v(1),$e(" ",r.getClueText(e)," ")}}function IB(n,t){if(1&n&&(m(0,"div",77)(1,"div"),M(2,SB,1,0,"div",78),M(3,TB,3,0,"div",79),M(4,MB,2,1,"div",80),g()()),2&n){const e=t.index,r=b(2);v(2),w("ngIf",0==r.clues[e]),v(1),w("ngIf",1==r.clues[e]),v(1),w("ngIf",2==r.clues[e])}}function AB(n,t){if(1&n){const e=ne();m(0,"div",74)(1,"div",75),p(2,"CLUES FOUND"),g(),I(3,"br")(4,"br"),M(5,IB,5,3,"div",76),I(6,"br")(7,"br"),m(8,"button",73),k("click",function(){return V(e),B(b().onSubmit())}),p(9,"OK"),g()()}if(2&n){const e=b();v(5),w("ngForOf",e.clues)}}function xB(n,t){if(1&n&&(m(0,"div",81),p(1),g()),2&n){const e=b().index,r=b(2);v(1),Yi(" ",r.addPrecedingZero(e.toString())," ",r.getLocationName(e.toString())," ")}}function kB(n,t){if(1&n&&(m(0,"span",94),p(1),g()),2&n){const e=b(2).index,r=b(2);v(1),Yi(" ",r.addPrecedingZero(e.toString())," ",r.getLocationName(e.toString())," ")}}function PB(n,t){if(1&n&&(m(0,"span"),p(1),g()),2&n){const e=b(2).index,r=b(2);v(1),Yi(" ",r.addPrecedingZero(e.toString())," ",r.getLocationName(e.toString())," ")}}function NB(n,t){if(1&n){const e=ne();m(0,"div")(1,"a",92),k("click",function(){V(e);const i=b().index;return B(b(2).clickLocation(i))}),M(2,kB,2,2,"span",93),M(3,PB,2,2,"span",4),g()()}if(2&n){const e=b().index,r=b(2);v(2),w("ngIf",r.locationUpdated(e)),v(1),w("ngIf",!r.locationUpdated(e))}}function RB(n,t){if(1&n&&(m(0,"div",91)(1,"div"),M(2,xB,2,2,"div",78),M(3,NB,4,2,"div",4),g()()),2&n){const e=t.index,r=b(2);v(2),w("ngIf",!r.locationIsKnown(e)),v(1),w("ngIf",r.locationIsKnown(e))}}const OB=function(){return[]};function FB(n,t){if(1&n){const e=ne();m(0,"div",85)(1,"div",86),p(2,"LOCATIONS"),g(),m(3,"div",87),M(4,RB,4,2,"div",88),m(5,"div",89)(6,"button",90),k("click",function(){return V(e),B(b().onSubmit())}),p(7,"OK"),g()()()()}if(2&n){const e=b();v(4),w("ngForOf",Bv(1,OB).constructor(e.NUM_LOCS))}}function LB(n,t){if(1&n){const e=ne();m(0,"div",95)(1,"a",30),k("click",function(){return V(e),B(b().toggleShowKnownLocations())}),p(2),g()()}if(2&n){const e=b();v(2),$e(" ",e.location_name," ")}}function VB(n,t){if(1&n&&(m(0,"div")(1,"span",97),p(2),g(),m(3,"span",98),p(4),g()()),2&n){const e=b(2);v(2),$e(" ",e.getMood()," "),v(2),$e(" ",e.getMood()," ")}}function BB(n,t){if(1&n&&(m(0,"div")(1,"span",99),p(2),g(),m(3,"span",100),p(4),g()()),2&n){const e=b(2);v(2),$e(" ",e.getMood()," "),v(2),$e(" ",e.getMood()," ")}}function UB(n,t){if(1&n){const e=ne();m(0,"div"),M(1,VB,5,2,"div",4),M(2,BB,5,2,"div",4),m(3,"div",96),k("@moodRecoveredTrigger.done",function(){return V(e),B(b().afterMoodRecovered())}),m(4,"span"),p(5," Mood Recovered "),g()()()}if(2&n){const e=b();v(1),w("ngIf",0==e.mood),v(1),w("ngIf",0!=e.mood),v(1),w("@moodRecoveredTrigger",e.moodRecovered?"faded_in":"faded_out")}}function jB(n,t){if(1&n){const e=ne();m(0,"div")(1,"a",104),k("click",function(){return V(e),B(b(2).loadMore())}),p(2,"Load more"),g()()}}function $B(n,t){if(1&n&&(m(0,"div",107)(1,"div",108),p(2),g()()),2&n){const e=b().$implicit,r=b(2);v(2),$e(" ",r.processMessage(e.msgtext)," ")}}function HB(n,t){if(1&n&&(m(0,"div",109)(1,"div",110),p(2),g()()),2&n){const e=b().$implicit,r=b(2);v(2),$e(" ",r.processMessage(e.msgtext)," ")}}function zB(n,t){if(1&n&&(m(0,"div"),M(1,$B,3,1,"div",105),M(2,HB,3,1,"div",106),g()),2&n){const e=t.$implicit;v(1),w("ngIf",0==e.isbot),v(1),w("ngIf",e.isbot)}}function GB(n,t){if(1&n&&(m(0,"div",115)(1,"div",108),p(2),g()()),2&n){const e=b().$implicit,r=b(2);v(2),$e(" ",r.processMessage(e.msgtext)," ")}}function qB(n,t){if(1&n&&(m(0,"div",116)(1,"div",110),p(2),g()()),2&n){const e=b().$implicit,r=b(2);w("@newMessage","expand"),v(2),$e(" ",r.processMessage(e.msgtext)," ")}}function WB(n,t){if(1&n&&(m(0,"div",117)(1,"div",110),p(2),g()()),2&n){const e=b().$implicit,r=b(2);v(2),$e(" ",r.processMessage(e.msgtext)," ")}}function KB(n,t){if(1&n&&(m(0,"div",118)(1,"div",110),p(2),g()()),2&n){const e=b().$implicit,r=b(2);w("@newMessage","expand"),v(2),$e(" ",r.processMessage(e.msgtext)," ")}}function QB(n,t){if(1&n&&(m(0,"div"),M(1,GB,3,1,"div",111),M(2,qB,3,2,"div",112),M(3,WB,3,1,"div",113),M(4,KB,3,2,"div",114),g()),2&n){const e=t.$implicit;v(1),w("ngIf",0==e.isbot),v(1),w("ngIf",!e.isdevil&&!e.iscrysanthea&&e.isbot),v(1),w("ngIf",e.isdevil&&e.isbot),v(1),w("ngIf",e.iscrysanthea&&e.isbot)}}function YB(n,t){if(1&n&&(m(0,"div",101),M(1,jB,3,0,"div",4),M(2,zB,3,2,"div",102),I(3,"br")(4,"br"),M(5,QB,5,4,"div",102),I(6,"div",103),g()),2&n){const e=b();v(1),w("ngIf",e.moreHistoryToLoad),v(1),w("ngForOf",e.messages_history),v(3),w("ngForOf",e.messages_emitted)}}function ZB(n,t){if(1&n){const e=ne();m(0,"div",119)(1,"a",120),k("click",function(){return V(e),B(b().toggleDisplayChat())}),p(2),g()()}if(2&n){const e=b();v(2),er(e.displayChatText)}}function JB(n,t){1&n&&(m(0,"div",128),I(1,"input",129,130),g())}function XB(n,t){if(1&n&&(m(0,"div",131)(1,"button",132),p(2,"THINK IT"),g()()),2&n){const e=b(2);v(1),w("disabled",e.loadingRoom)}}function e3(n,t){1&n&&I(0,"div",133)}function t3(n,t){if(1&n){const e=ne();m(0,"div")(1,"label"),p(2,"Animation control:"),g(),m(3,"button",134),k("click",function(){return V(e),B(b(2).doChereeAnimation(0))}),p(4,"Start"),g(),m(5,"button",134),k("click",function(){return V(e),B(b(2).doStopAnimation())}),p(6,"Stop"),g(),m(7,"button",134),k("click",function(){return V(e),B(b(2).doCameraToLeft())}),p(8,"Left"),g(),m(9,"button",134),k("click",function(){return V(e),B(b(2).doCameraToRight())}),p(10,"Right"),g()()}}function n3(n,t){if(1&n){const e=ne();m(0,"form",121,122),k("ngSubmit",function(){return V(e),B(b().onSubmit())}),m(2,"div"),M(3,JB,3,0,"div",123),M(4,XB,3,1,"div",124),m(5,"div",125)(6,"a",126),k("click",function(){return V(e),B(b().onQuit())}),p(7,"Quit"),g()()(),M(8,e3,1,0,"div",127),M(9,t3,11,0,"div",4),g()}if(2&n){const e=b();w("formGroup",e.chatForm),v(3),w("ngIf",!e.ending),v(1),w("ngIf",!e.ending),v(4),w("ngIf",e.ending),v(1),w("ngIf",e.varsService.developer)}}function r3(n,t){if(1&n){const e=ne();m(0,"div",135)(1,"codepuzzle",136),k("buttonTextChange",function(i){return V(e),B(b().updateCodePuzzleButtonText(i))})("puzzleSolved",function(){return V(e),B(b().puzzlesolved())}),g(),I(2,"br"),m(3,"div",89)(4,"button",73),k("click",function(){return V(e),B(b().onSubmit())}),p(5),g()()()}if(2&n){const e=b();v(1),w("whichCode",e.doingcode),v(4),er(e.codePuzzleButtonText)}}let i3=(()=>{class n{constructor(e,r,i,o,s,a){this.chatService=e,this.activatedRoute=r,this.router=i,this.formBuilder=o,this.eventEmitterService=s,this.varsService=a,this.messages_emitted=[],this.messages_history=[],this.invalidMessage="",this.maxLengthMsg=100,this.loadingRoom=!1,this.username="",this.imgpath="assets/limbo.jpg",this.imgpath_m="assets/limbom.jpg",this.imgpath_s="assets/limbos.jpg",this.imgpath_ending="assets/ending.jpg",this.clues=[0,0,0,0,0,0,0,0,0],this.num_clues=0,this.r_pts=0,this.r_next=0,this.r_level="0",this.rombarfillwidth=0,this.romBlink=!1,this.whichBlink=-1,this.blinkCounter=0,this.seenMellen=!1,this.NUM_LOCS=56,this.loc="",this.location_name="Nowhere",this.showKnownLocations=!1,this.all=[],this.locationTitleShowable=!1,this.needscrolldown=!1,this.formVisible=!0,this.submitted=!1,this.messagesSubscription=new gt,this.messageHistorySubscription=new gt,this.moreHistoryToLoad=!1,this.showTutorialView=!1,this.whichTutorialView=-1,this.initial_oob_refresh=!0,this.newClueFade=!1,this.newClueText="",this.showCluesText=!1,this.newLevelUp=!1,this.maxClues=4,this.nextback="",this.transitionIn=!0,this.countdown_to_free_volley=0,this.fadeUnity=!0,this.fadeBack=!1,this.fadeDarken=!0,this.mellenVisible=!0,this.rotating=!1,this.rotate_left=!0,this.chereeAnimFrozen=!1,this.melAnimFrozen=!1,this.displayChat=!0,this.displayChatText="HIDE",this.displayCodePuzzle=!1,this.doingcode=-1,this.codePuzzleButtonText="Close",this.codePuzzleSolved=!1,this.allowEnterToCloseCodePuzzle=!1,this.mood=0,this.devil=0,this.moodRecovered=!1,this.ending=!1,this.initialAutoChatTimer=15e3,this.autoChatTimer=this.initialAutoChatTimer,this.volleyCount=0,this.targetCounts=[],this.lastinput="",this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.chatForm=new oi({msg:new si("",[Gl.minLength(1),Gl.maxLength(this.maxLengthMsg)])})}afterTransition(){this.transitionIn?this.countdown_to_free_volley>0&&(this.countdown_to_free_volley-=1,0==this.countdown_to_free_volley&&(console.log("countdown_to_free_volley=0"),this.chatService.sendMessage(new ho(this.username,"[astravel]")),this.setLocationName(),this.seenMellen&&1!=Math.floor(3*Math.random())&&"52"!=this.loc&&this.showMellen())):(this.transitionIn=!0,this.fadeDarken=!1,""!=this.nextback&&(this.imgpath="assets/"+this.nextback+".jpg",this.imgpath_m="assets/"+this.nextback+"m.jpg",this.imgpath_s="assets/"+this.nextback+"s.jpg",this.nextback=""))}afterNewClueFade(){this.newClueFade=!1,this.newLevelUp=!1}determineBlink(e){return this.whichBlink==e&&this.romBlink?"blink_out":"blink_in"}afterRomBlink(e){this.whichBlink==e&&(this.blinkCounter>0?(this.romBlink=!this.romBlink,this.blinkCounter-=1):this.romBlink=!1)}afterLevelUp(){this.newLevelUp=!1}afterMoodRecovered(){this.moodRecovered=!1}get_username(){const e=localStorage.getItem("stored");this.username=null!==e?JSON.parse(e):"",console.log("got username "+this.username)}ngOnInit(){this.loadingRoom=!0,this.get_username(),""==this.username&&this.router.navigate(["/home"]),this.chatService.createRoom(this.username),this.chatService.doneCreateRoom().subscribe(()=>{console.log("room created"),this.loadingRoom=!1,this.formVisible=!0,this.messageHistorySubscription=this.chatService.getInitialChatHistory().subscribe(e=>{console.log("received new chat history from socket service"),this.processNewMessageHistory(e),this.needscrolldown=!0,0==this.chatService.skip_size&&(console.log("first batch of history for username="+this.username),this.chatService.sendMessage(new ho(this.username,"refresh clear")))})}),this.messagesSubscription=this.chatService.getMessages().subscribe(e=>{console.log("received new message="+e.msgtext);var r=-1,i=-1;if(e.oobstring){var o=new bL(e.oobstring);if(-1!=o.y&&(i=o.y,console.log("system code="+i),this.doSystemCode(i),0==o.y&&(this.all=o.all,this.all[1]>=1&&(this.locationTitleShowable=!0))),""!=o.l&&(this.loc=o.l,0==i?(this.nextback=this.loc,this.setLocationName(),console.log("loc refreshed to "+o.l+" location name="+this.location_name),this.all=o.all):0==this.countdown_to_free_volley&&(this.nextback=this.loc,console.log("loc will change to "+o.l),this.countdown_to_free_volley=3,this.transitionIn=!1,this.seenMellen&&1!=Math.floor(3*Math.random())&&this.hideMellen())),0!=o.num_clues){if(0!=i)for(var s=0;s<9;s++)if(this.clues[s]!=o.clues[s]){this.doCodePuzzle(s);break}this.clues=o.clues,this.num_clues=o.num_clues,console.log("clues="+this.clues.toString()+" num_clues="+this.num_clues)}if(0!=o.r_pts){var c=this.rombarfillwidth;this.r_pts=o.r_pts,this.r_next=o.r_next,this.r_level!=o.r_level&&(this.r_level=o.r_level,this.initial_oob_refresh||(this.newLevelUp=!0)),this.rombarfillwidth=~~(100*this.r_pts/this.r_next),this.rombarfillwidth>c&&(this.whichBlink=~~(this.rombarfillwidth/6),console.log("whichBlink="+this.whichBlink.toString()),this.blinkCounter=10,this.romBlink=!0),console.log("rlevel="+this.r_level+" rombarfillwidth="+this.rombarfillwidth)}if(-1!=o.a&&(r=o.a),-1!=o.t&&(this.whichTutorialView=o.t,this.showTutorialView=!0),-1!=o.m&&(0==o.m&&this.mood>0&&(this.moodRecovered=!0),this.mood=o.m),o.h&&(console.log("halted autochat"),this.autoChatTimer=-1),-1!=o.o&&(i=o.o,console.log("test system code="+i),this.doSystemCode(i)),o.sc&&this.toggleShowCluesText(),""!=o.new_loc){for(var u=o.new_loc,d=0;d<u.length;){var h=u.substring(d,d+2),f=parseInt(h);this.all[f]=1,console.log("set n "+f.toString()+" to 1"),d+=2}this.all[1]>=1&&(this.locationTitleShowable=!0),console.log("locationTitleShowable="+this.locationTitleShowable.toString())}if(""!=o.update_loc){var y=parseInt(o.update_loc);this.all[y]=2,console.log("set u "+y.toString()+" to w")}(this.initial_oob_refresh||o.w>0||-1!=o.devil)&&(this.initial_oob_refresh=!1,o.w>=3&&(this.maxClues=9),1==o.w?(this.fadeUnity=!1,this.fadeDarken=!1):2==o.w||3==o.w||4==o.w||7==o.w?(this.seenMellen=!0,this.fadeUnity=!1,this.fadeDarken=!1):(5==o.w||6==o.w)&&(this.seenMellen=!1,this.fadeUnity=!1,this.fadeDarken=!1),0==o.devil?this.devil=0:1==o.devil?(this.fadeUnity=!0,this.fadeDarken=!0,this.devil=1):2==o.devil&&(this.fadeUnity=!0,this.fadeDarken=!1,this.devil=2))}-1==r&&(r=this.analyzeOutput(e.msgtext)),-1!=r&&(console.log("animation code="+r),this.doAnimationCode(r)),e.isbot=!0,console.log("sys code = "+i.toString()+" emitted_message = "+e.msgtext),(0!=i||""!=e.msgtext)&&(1==this.devil?e.isdevil=!0:2==this.devil&&(e.iscrysanthea=!0),this.messages_emitted.push(e),this.ending||(this.displayChat=!0),this.displayChatText="HIDE",this.needscrolldown=!0),this.volleyCount+=1,this.autoChatTimer>0&&2!=this.devil&&!this.ending?(this.targetCounts.push(this.volleyCount),console.log("pushed volley # "+this.volleyCount.toString()+" with TIMER="+this.autoChatTimer.toString()),setTimeout(()=>{var _=this.chatForm.get("msg")?.value;console.log("current user typed msg="+_),0==this.targetCounts.length?(console.log("not executing timeout because targetCounts length==0"),this.resetTimer()):_&&""!=_?(console.log("not executing timeout because user typing message"),this.resetTimer()):this.volleyCount>9*Math.random()?(console.log("not executing timeout because too many auto-volleys"),this.resetTimer()):this.targetCounts.shift()==this.volleyCount?(console.log("they matched"),this.chatService.sendMessage(new ho(this.username,"[]")),this.autoChatTimer+=1e3*Math.floor(20*Math.random()),this.autoChatTimer>1e4&&(this.autoChatTimer-=5e3),console.log("TIMER="+this.autoChatTimer.toString())):(console.log("didnt match. volleycount is "+this.volleyCount.toString()),this.resetTimer())},this.autoChatTimer)):this.resetTimer(!0)})}resetTimer(e=!1){var r;r=e?Math.floor(10*Math.random()):Math.floor(3*Math.random()),this.autoChatTimer=this.initialAutoChatTimer+1e3*r,console.log("TIMER="+this.autoChatTimer.toString()),this.volleyCount=0,this.targetCounts=[]}processNewMessageHistory(e){console.log("processing new history with length="+e.length.toString());for(var r=0;r<e.length;r++){var i=e[r];console.log("message="+i.msgtext),i.createdAt=this.formatDate(i.createdAt),""!=i.msgtext&&this.messages_history.unshift(i)}this.moreHistoryToLoad=!!this.chatService.moreToLoad(),console.log("moretoload="+this.moreHistoryToLoad)}loadMore(){console.log("loadMore"),this.messageHistorySubscription=this.chatService.getMoreChatHistory().subscribe(e=>{this.processNewMessageHistory(e)})}ngOnDestroy(){this.chatService.offSocket()}resetData(){this.clues=[0,0,0,0,0,0,0,0,0],this.num_clues=0,this.r_pts=0,this.r_next=0,this.r_level="0",this.rombarfillwidth=0,this.loc="",this.location_name="nowhere",this.all=[],this.newClueText="",this.mellenVisible=!1,this.rotating=!1,this.displayChat=!0,this.displayChatText="HIDE"}sendMessage(e){if(this.unity||console.log("error: no unity!"),e||(e=""),this.countdown_to_free_volley>0&&""==e)return;console.log("sending message:"+e);let r=new ho(this.username,e);this.chatService.sendMessage(r),null!=e&&""!=e&&this.messages_emitted.push(r),this.lastinput=e,this.resetTimer(),":reset"==e&&this.resetData(),"dev"==e&&(this.varsService.developer=!this.varsService.developer),this.needscrolldown=!0,this.submitted=!0}get f(){return this.chatForm.controls}onSubmit(){if(this.displayCodePuzzle){if(this.allowEnterToCloseCodePuzzle&&(console.log("close code puzzle"),this.displayCodePuzzle=!1,this.allowEnterToCloseCodePuzzle=!1,this.codePuzzleSolved&&-1!=this.doingcode)){this.newClueText=this.getClueText(this.doingcode),this.newClueFade=!0,console.log("sending message [ decipher "+this.doingcode.toString()+" ]");var e=new ho(this.username,"[ decipher "+this.doingcode.toString()+" ]");this.chatService.sendMessage(e),this.doingcode=-1}}else if(this.showCluesText)console.log("close clues text"),this.showCluesText=!1;else if(this.showKnownLocations)console.log("close known locations"),this.showKnownLocations=!1;else if(this.showTutorialView)console.log("close system text"),this.showTutorialView=!1;else{console.log("Form Submitted !");var r=this.chatForm.get("msg")?.value;if(this.invalidMessage="",this.chatForm.invalid)return void(this.invalidMessage="invalid");this.sendMessage(r),""!=r&&(this.autoChatTimer=this.initialAutoChatTimer),this.chatForm.reset()}}formatDate(e){return e}ngAfterViewChecked(){this.needscrolldown&&(this.needscrolldown=!1,this.scroll_to_bottom())}scroll_to_bottom(){var e=document.getElementById("scrollview");e&&(e.scrollTop=e.scrollHeight)}messageClick(e){}toggleDisplayChat(){this.displayChat=!this.displayChat,this.displayChatText=this.displayChat?"HIDE":"SHOW"}copy(e){let r=document.createElement("textarea");r.style.position="fixed",r.style.opacity="0",r.value=e,document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r)}processMessage(e){return e&&e.replace(new RegExp("\n","g"),"<br />")}analyzeOutput(e){if(0!=this.devil)return-1;var o,r=-1,i=e.length;return((o=e.substring(0,3)).includes("No.")||o.includes("NO.")||o.includes("No,")||o.includes("No!")||o.includes("NO!"))&&(r=0,console.log("detected no. a="+r)),((o=e.substring(0,4)).includes("Yes.")||o.includes("YES.")||o.includes("Yes,")||o.includes("Yes!")||o.includes("YES!"))&&(r=1,console.log("detected yes. a="+r)),(e.substring(i-6,i-1).includes("Ehehe")||o.includes("ehehe")||o.includes("Hehe")||o.includes("hehe"))&&(r=2,console.log("detected laugh. a="+r)),(e.includes("I dunno")||e.includes("I don't know")||e.includes("I do not know"))&&(r=3,console.log("detected dunno. a="+r)),-1==r&&e.includes("...")&&(r=14,console.log("detected elipsis. a="+r)),-1==r&&e.includes("Mel, ")&&(r=63,console.log("detected react. a="+r)),-1==r&&e.includes(", Mel")&&(r=35,console.log("detected react. a="+r)),e.includes("murder")&&(r=62,console.log("detected murder. a="+r)),(e.includes("Mel tells")||e.includes("Mellen tells")||e.includes("Mel is telling")||e.includes("Mel is saying"))&&(r=65,console.log("detected mel says. a="+r)),(e.includes("Mel says")||e.includes("Mellen says")||e.includes("says Mel"))&&(r=60,console.log("detected mel says. a="+r)),-1==r&&i>250&&(r=i>350?6:i>300?5:4),-1==r&&this.melAnimFrozen&&(r=201,console.log("unfreeze mel"),this.melAnimFrozen=!1),-1==r&&this.chereeAnimFrozen&&(r=200,console.log("unfreeze cheree"),this.chereeAnimFrozen=!1),14==r&&(this.chereeAnimFrozen=!0),63==r&&(this.melAnimFrozen=!0),console.log("a="+r),r}doSystemCode(e){0==e||(1==e?this.fadeUnity=!0:2==e?this.fadeUnity=!1:3==e?this.fadeBack=!0:4==e?this.fadeBack=!1:6==e?this.hideMellen():7==e?(this.seenMellen=!0,this.showMellen()):8==e?this.eventEmitterService.onToggleDevil():9==e?this.fadeDarken=!0:10==e?this.fadeDarken=!1:11==e&&(this.ending=!0,this.fadeUnity=!0,this.displayChat=!1,console.log("ending")))}doAnimationCode(e){0==this.devil&&(200==e?this.doChereeAnimation(-1):201==e?this.doMellenAnimation(-1):e<50?(20==e&&(e=20+Math.floor(4*Math.random())),this.doChereeAnimation(e),(8==e||10==e)&&this.doMellenAnimation(e),26==e&&this.doMellenAnimation(e)):this.seenMellen&&this.doMellenAnimation(e))}doChereeAnimation(e){try{this.unity.doChereeAnimation(e)}catch{console.log("error calling unity for animation")}}doMellenAnimation(e){try{this.unity.doMellenAnimation(e)}catch{console.log("error calling unity for animation")}}doStopAnimation(){this.showMellen(),this.doCodePuzzle(1)}doCameraToLeft(){this.unity.doCameraToLeft(),this.fadeDarken=!1}doCameraToRight(){this.newClueFade=!this.newClueFade,this.unity.doCameraToRight(),this.hideMellen(),this.fadeDarken=!0}showMellen(){this.seenMellen&&(this.mellenVisible=!0,this.unity.showMellen())}hideMellen(){this.seenMellen&&(this.mellenVisible=!1,this.unity.hideMellen())}mouseDown(){this.rotating=!0,this.rotate_left=!0}mouseUp(){this.rotating=!1}ngAfterContentChecked(){this.rotating&&(this.unity.rotateCheree(this.rotate_left),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(this.rotate_left))}setChereeBase(e){this.unity.setChereeBase(e)}setMellenBase(e){this.unity.setMellenBase(e)}addPrecedingZero(e){return 1==e.length&&(e="0"+e),e}setLocationName(){this.location_name=this.getLocationName(this.loc)}getLocationName(e){var r="here";switch(e=this.addPrecedingZero(e)){case"01":r="Sierra Meadow";break;case"02":r="Steadwell Manse";break;case"03":r="Rollindale River";break;case"04":r="Lighthouse of Selsey";break;case"05":r="Abandoned Factory";break;case"06":r="Phong Nha Ke Bang";break;case"07":r="Doyle Estate";break;case"08":r="Plains of Heather";break;case"09":r="Heritage Centre";break;case"10":r="Willem Bluff";break;case"11":r="Devils Tower";break;case"12":r="Atlantis";break;case"13":r="Duggans Residence";break;case"14":r="Greenwich Industrial Sector";break;case"15":r="Rocky Mountains";break;case"16":r="Siberia";break;case"17":r="Matley Bog";break;case"18":r="African Savannah";break;case"19":r="Noisy Falls";break;case"20":r="Britely Hotel";break;case"21":r="Giza Pyramids";break;case"22":r="George Yard";break;case"23":r="Kentucky Maple Forest";break;case"24":r="Central Lowlands";break;case"25":r="Skies above";break;case"26":r="Kardec Room";break;case"27":r="French Home";break;case"28":r="Kilauea";break;case"29":r="Himachal Pradesh";break;case"30":r="Lake Limides";break;case"31":r="Santorini";break;case"32":r="Crimes Club";break;case"33":r="Wye Valley";break;case"34":r="Blackberry Fields";break;case"35":r="Kingley Vale";break;case"36":r="Private Garden";break;case"37":r="Gasherbrum Peaks";break;case"38":r="Reading Tree";break;case"39":r="Imabari";break;case"40":r="Hong Kong";break;case"41":r="Station Park";break;case"42":r="Gobi Desert";break;case"43":r="Bassey Study";break;case"44":r="Abbott Farm";break;case"45":r="East End";break;case"46":r="Yuletide Parlour";break;case"47":r="St Martin Churchyard";break;case"48":r="Portchester Castle";break;case"49":r="Great Barrier Reef";break;case"50":r="Bukchon Hanok";break;case"51":r="Wasteland";break;case"52":r="South Willamette Infirmary";break;case"53":r="Decebalus Rex";break;case"54":r="Khaju Bridge"}return r}locationIsKnown(e){return this.all[e]>=1}locationUpdated(e){return 2==this.all[e]}clickLocation(e){var r=this.addPrecedingZero(e.toString());this.chatService.sendMessage(new ho(this.username,"go to "+r+" now")),this.showKnownLocations=!1}toggleShowKnownLocations(){this.showKnownLocations=!this.showKnownLocations}toggleShowCluesText(){this.showCluesText=!this.showCluesText}getClueText(e){return 0==e?"Cheree died in the year 1891, away from home.":1==e?"Cheree died from a wound to her head.":2==e?"Cheree's body was found in Hampshire, UK.":3==e?"Cheree once ingested chloroform.":4==e?"Martha Tabram may have been murdered with a bayonet.":5==e?"Faith's fiance Burton had been a guardsman in London.":6==e?"Faith conducted a seance which led Chauncy's investigation astray.":7==e?"Burton left the military despite achieving high rank.":8==e?"Cheree took a carriage ride she cannot remember to Hampshire, UK.":""}handleKeyboardEvent(e){if("Enter"==e.key||"Escape"==e.key){if(this.showKnownLocations||this.showTutorialView||this.showCluesText)return void this.onSubmit();if(this.displayCodePuzzle)return void this.onSubmit()}if("."==e.key||("ArrowUp"==e.key&&""!=this.lastinput&&this.chatForm.get("msg")?.setValue(this.lastinput),this.displayCodePuzzle||this.fadeUnity));else if("ArrowLeft"==e.key)for(var r=0;r<100;r++)this.unity.rotateCheree(!1),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(!1);else if("ArrowRight"==e.key)for(r=0;r<100;r++)this.unity.rotateCheree(!0),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(!0)}puzzlesolved(){this.clues[this.doingcode]=2,this.codePuzzleSolved=!0}doCodePuzzle(e){this.doingcode=e,this.showCluesText=!1,this.displayCodePuzzle=!0,setTimeout(()=>{this.allowEnterToCloseCodePuzzle=!0},500)}updateCodePuzzleButtonText(e){this.codePuzzleButtonText=e}getMood(){switch(this.mood){case 0:return"mood normal";case 1:return"agitated";case 2:return"flustered";case 3:return"neglected";case 4:return"misunderstood";case 5:return"interrogated";case 6:return"creeped"}return""}onQuit(){console.log("onQuit");try{this.unity.closeUnity()}catch(e){console.log("error: "+e),this.router.navigate(["/home"])}}}return n.\u0275fac=function(e){return new(e||n)(T(sp),T(Sr),T(Ge),T(c0),T(ap),T(L0))},n.\u0275cmp=Gn({type:n,selectors:[["interact"]],viewQuery:function(e,r){if(1&e&&Yv(FV,7),2&e){let i;Qa(i=function Ya(){return function bk(n,t){return n[19].queries[t].queryList}(A(),Ag())}())&&(r.unity=i.first)}},hostBindings:function(e,r){1&e&&k("keyup",function(o){return r.handleKeyboardEvent(o)},0,qu)},decls:31,vars:22,consts:[["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["id","gamediv"],["id","scenery"],["id","sceneries"],[4,"ngIf"],["style","background-color:black; display:flex; justify-content:center;",4,"ngIf"],["id","newclue"],["id","cluesview",4,"ngIf"],["class","cluesbar","style","position:absolute;",4,"ngIf"],["id","levelup"],["id","romview",4,"ngIf"],["class","tutorial-view",4,"ngIf"],["id","cluetextview",4,"ngIf"],["id","knownlocationsview",4,"ngIf"],["class","location-title",4,"ngIf"],["id","unitydiv",3,"mousedown","mouseup"],["unity",""],["id","scrollview",4,"ngIf"],["id","beneathscrollview",4,"ngIf"],["id","form-div"],["autocomplete","off","class","form-container",3,"formGroup","ngSubmit",4,"ngIf"],["id","codepuzzleview",4,"ngIf"],["id","bottom_of_doc"],[1,"spinner-border","spinner-border-sm","mr-1"],["id","scenery-img","alt","",3,"src"],["id","scenery-img-m","alt","",3,"src"],["id","scenery-img-s","alt","",3,"src"],[2,"background-color","black","display","flex","justify-content","center"],["id","scenery-ending","alt","",3,"src"],["id","cluesview"],[1,"subtlelink",3,"click"],[2,"font-weight","normal"],[1,"cluesbar",2,"position","absolute"],["class","clue-r",4,"ngIf"],[1,"clue-r"],["class","clue-q",4,"ngIf"],[1,"clue-q"],["id","romview"],["id","rombar"],["class","rombarfill","style","left:10px;",4,"ngIf"],["class","rombarfill","style","left:15px;",4,"ngIf"],["class","rombarfill","style","left:20px;",4,"ngIf"],["class","rombarfill","style","left:25px;",4,"ngIf"],["class","rombarfill","style","left:30px;",4,"ngIf"],["class","rombarfill","style","left:35px;",4,"ngIf"],["class","rombarfill","style","left:40px;",4,"ngIf"],["class","rombarfill","style","left:45px;",4,"ngIf"],["class","rombarfill","style","left:50px;",4,"ngIf"],["class","rombarfill","style","left:55px;",4,"ngIf"],["class","rombarfill","style","left:60px;",4,"ngIf"],["class","rombarfill","style","left:65px;",4,"ngIf"],["class","rombarfill","style","left:70px;",4,"ngIf"],["class","rombarfill","style","left:75px;",4,"ngIf"],["class","rombarfill","style","left:80px;",4,"ngIf"],["class","rombarfill","style","left:85px;",4,"ngIf"],[1,"rombarfill",2,"left","10px"],[1,"rombarfill",2,"left","15px"],[1,"rombarfill",2,"left","20px"],[1,"rombarfill",2,"left","25px"],[1,"rombarfill",2,"left","30px"],[1,"rombarfill",2,"left","35px"],[1,"rombarfill",2,"left","40px"],[1,"rombarfill",2,"left","45px"],[1,"rombarfill",2,"left","50px"],[1,"rombarfill",2,"left","55px"],[1,"rombarfill",2,"left","60px"],[1,"rombarfill",2,"left","65px"],[1,"rombarfill",2,"left","70px"],[1,"rombarfill",2,"left","75px"],[1,"rombarfill",2,"left","80px"],[1,"rombarfill",2,"left","85px"],[1,"tutorial-view"],[3,"whichTutorialView"],["type","button",1,"btn-system","btn",2,"margin-bottom","15px",3,"click"],["id","cluetextview"],[1,"subwindowtitle"],["style","line-height:30px;",4,"ngFor","ngForOf"],[2,"line-height","30px"],["style","visibility:hidden;",4,"ngIf"],["style","cursor:pointer;",4,"ngIf"],["class","clue",4,"ngIf"],[2,"visibility","hidden"],[2,"cursor","pointer"],[3,"click"],[1,"clue"],["id","knownlocationsview"],[1,"subwindowtitle",2,"margin-bottom","25px"],["id","locations-scrollview"],["style","display:inline-block;",4,"ngFor","ngForOf"],[2,"margin-bottom","22px","margin-top","20px","padding-bottom","22px"],["type","button",1,"btn-system","btn",3,"click"],[2,"display","inline-block"],[1,"location-link",3,"click"],["style","color:#3a1;",4,"ngIf"],[2,"color","#3a1"],[1,"location-title"],["id","mood-recovered"],["id","mood-title-shadow"],["id","mood-title",2,"color","#cfc"],["id","mood-title-shadow",2,"color","gray"],["id","mood-title",2,"color","purple"],["id","scrollview"],[4,"ngFor","ngForOf"],["id","bottom_of_scroll"],[2,"color","royalblue","cursor","pointer",3,"click"],["class","container history-user",4,"ngIf"],["class","container history",4,"ngIf"],[1,"container","history-user"],[1,"message-right"],[1,"container","history"],[1,"message-left"],["class","container user",4,"ngIf"],["class","container msg-cheree",4,"ngIf"],["class","container msg-devil",4,"ngIf"],["class","container msg-crysanthea",4,"ngIf"],[1,"container","user"],[1,"container","msg-cheree"],[1,"container","msg-devil"],[1,"container","msg-crysanthea"],["id","beneathscrollview"],[2,"color","royalblue","cursor","pointer","text-decoration","none",3,"click"],["autocomplete","off",1,"form-container",3,"formGroup","ngSubmit"],["input","ngForm"],["style","margin-left:0px; margin-right:5px; display:inline-block;",4,"ngIf"],["style","margin-left:5px; margin-right:0px; display:inline-block;",4,"ngIf"],["id","to-top"],[2,"cursor","pointer",3,"click"],["style","height:20px;",4,"ngIf"],[2,"margin-left","0px","margin-right","5px","display","inline-block"],["type","text","id","inputField","placeholder","Type message...","formControlName","msg","autofocus","",1,"form-container"],["msg",""],[2,"margin-left","5px","margin-right","0px","display","inline-block"],["id","inputSubmit","type","submit",1,"btn","btn-primary",3,"disabled"],[2,"height","20px"],["type","button",1,"btn-primary","btn",3,"click"],["id","codepuzzleview"],[3,"whichCode","buttonTextChange","puzzleSolved"]],template:function(e,r){1&e&&(I(0,"br"),M(1,LV,1,0,"span",0),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"div"),M(6,VV,4,6,"div",4),M(7,BV,2,2,"div",5),g()(),m(8,"div",6),k("@clueTrigger.done",function(){return r.afterNewClueFade()}),p(9),g(),M(10,UV,6,2,"div",7),M(11,YV,10,9,"div",8),M(12,sB,11,9,"div",8),m(13,"div",9),k("@levelUp.done",function(){return r.afterLevelUp()}),p(14," LEVEL UP "),g(),M(15,DB,22,17,"div",10),M(16,EB,6,1,"div",11),M(17,AB,10,1,"div",12),M(18,FB,8,2,"div",13),M(19,LB,3,1,"div",14),M(20,UB,6,3,"div",4),m(21,"div",15),k("mousedown",function(){return r.mouseDown()})("mouseup",function(){return r.mouseUp()}),I(22,"unity",null,16),g(),M(24,YB,7,3,"div",17),M(25,ZB,3,1,"div",18),g(),I(26,"br"),m(27,"div",19),M(28,n3,10,5,"form",20),g(),M(29,r3,6,2,"div",21),g(),I(30,"div",22)),2&e&&(v(1),w("ngIf",r.loadingRoom),v(3),w("@Darken",r.fadeDarken?"darken":"lighten"),v(1),w("@GeneralFade",r.fadeBack?"out":"in"),v(1),w("ngIf",!r.ending),v(1),w("ngIf",r.ending),v(1),w("@clueTrigger",r.newClueFade?"faded_in":"faded_out"),v(1),$e(" New clue :\xa0 ",r.newClueText," "),v(1),w("ngIf",!r.fadeUnity),v(1),w("ngIf",!r.fadeUnity),v(1),w("ngIf",!r.fadeUnity),v(1),w("@levelUp",r.newLevelUp?"show":"hide"),v(2),w("ngIf",!r.fadeUnity),v(1),w("ngIf",r.showTutorialView),v(1),w("ngIf",r.showCluesText),v(1),w("ngIf",r.showKnownLocations),v(1),w("ngIf",r.locationTitleShowable&&!r.fadeUnity),v(1),w("ngIf",!r.fadeUnity),v(1),w("@GeneralFade",r.ending?"outfast":r.fadeUnity?"out":"in"),v(3),w("ngIf",r.displayChat),v(1),w("ngIf",r.displayChat),v(3),w("ngIf",r.formVisible),v(1),w("ngIf",r.displayCodePuzzle))},dependencies:[Rh,to,Hf,co,Kl,Pf,Vs,rc,pV,EV,OV],styles:["#gamediv[_ngcontent-%COMP%] {\n      background-color: rgba(155,255,255,0);\n      position:relative;\n      \n      padding-left:5px;\n      padding-right:0px;\n      padding-bottom:5px;\n      max-width: 98%;\n      z-index: 1;\n\n      \n    }\n\n    #unitydiv[_ngcontent-%COMP%] {\n      background-color: rgba(255,255,255,0);\n      position: absolute;\n      z-index: 1;\n      bottom:0px;\n      left:0px;\n      margin:auto;\n      width:86%;\n    }\n\n    #scrollview[_ngcontent-%COMP%] {\n      max-height: 40vh; \n      overflow-y:auto;\n      position: absolute;\n      bottom: 21px;\n      z-index: 3;\n      padding-left: 10px;\n      padding-right: 10px;\n      \n      \n      min-width: 350px;\n      max-width: 640px;\n    }\n  \n    #beneathscrollview[_ngcontent-%COMP%] {\n      position: absolute;\n      bottom: 4px;\n      left: 25px;\n      z-index: 2;\n      font-size: 12px;\n    }\n\n    \n\n    #levelups[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10%;\n      right: 5%;\n      width: 120px;\n      height: 38px;\n\n      z-index: 4;\n      \n\n      padding: 4px 2px;\n\n      font-size: 18px;\n      font-weight: bold;\n\n      margin: auto;\n\n      overflow-y: hidden;\n      \n    }\n\n    #levelup[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10%;\n      right: 5%;\n      width: 120px;\n      height: 38px;\n\n      z-index: 4;\n      \n\n      padding: 4px 2px;\n\n      font-size: 20px;\n      font-weight: bold;\n\n      margin: auto;\n\n      overflow-y: hidden;\n      color: red;\n    \n      background: -webkit-linear-gradient(left, red, gold); \n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      \n      background-image: -o-linear-gradient(right, red, gold); \n      background-image: -moz-linear-gradient(right, red, gold); \n      background-image: linear-gradient(to right, red, gold);   \n      background-clip: text;\n      color: transparent;\n    }\n\n    #newclue[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 20%;\n      left: 10%;\n      right: 10%;\n      min-width: 300px;\n      max-width: 480px;\n\n      z-index: 4;\n      background-color: rgb(241, 158, 222);\n\n      border: 2px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 18px;\n      font-weight: bold;\n      \n\n      margin: auto;\n    }\n\n    #cluesview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 15px;\n      right: 140px;\n      z-index: 2;\n      padding: 10px;\n      padding-top: 5px;\n      font-weight: bold;\n      color: white;\n      font-size: 16px;\n      \n      border: 2px solid white;\n      border-radius: 8px;\n      padding: 0px 12px;\n      border-color: black;\n      \n      background-color: #555;\n      color: white;\n      height: 29px;\n      max-width: max-content;\n      width: auto;\n      opacity: .7;\n    }\n\n    .cluesbar[_ngcontent-%COMP%] {\n      font-size: 16px;\n      margin-top: 5px;\n\n      position: absolute;\n      top: 35px;\n      right: 135px;\n      z-index: 2;\n      padding: 10px;\n      padding-top: 5px;\n    }\n\n    #cluesview[_ngcontent-%COMP%]:hover {\n      \n      background-color: #111;\n    }\n\n\n    .clue-q[_ngcontent-%COMP%] {\n      color: #952;\n      font-family: 'robotoslab',sans-serif;\n      font-weight:normal;\n      padding-right:1px;\n      padding-bottom:1px;\n    }\n\n    .clue-r[_ngcontent-%COMP%] {\n      color: black;\n      font-family: 'robotoslab',sans-serif;\n      font-weight:normal;\n      padding-left:1px;\n      padding-top:1px;\n    }\n\n    .subtlelink[_ngcontent-%COMP%] {\n      text-decoration: none;\n      color: white;\n      cursor: pointer;\n    }\n\n\n    #romview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      z-index: 1;\n      padding: 5px;\n      font-weight: bold;\n      color: white;\n      font-size: 16px;\n    }\n\n    #rombar[_ngcontent-%COMP%] {\n      background-color:white;\n      width: 81px;\n      height: 15px;\n      border: 1px;\n      border-style: solid;\n      border-color: pink;\n      margin: 5px;\n    }\n\n    .rombarfill[_ngcontent-%COMP%] {\n      background-color: black;\n      height: 13px;\n      margin: 0px 1px 1px;\n      width: 4px;\n      position: absolute;\n    }\n\n\n    #cluetextview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      left: 10px;\n      z-index: 4;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: max-content;\n      width: auto;\n      max-height: max-content;\n      margin: auto;\n    }\n\n    #knownlocationsview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      \n      left: 10px;\n      z-index: 4;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 4%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: max-content;\n      width: auto;\n      height: auto;\n      max-height: 620px;  \n\n      overflow-y: hidden;\n\n      bottom: 10px;\n    }\n\n    \n    #locations-scrollview[_ngcontent-%COMP%] {\n      overflow-y: auto;\n      padding-left: 10px;\n      padding-right: 10px;\n      width: auto;\n      height: auto;\n      max-height: 580px;\n    }\n\n    .location-link[_ngcontent-%COMP%] {\n      display: inline-block;\n      cursor: pointer;\n      color: rgb(138, 208, 240);\n      text-decoration: none;\n      padding: 5px 20px;\n      font-family: 'vera','Arial',sans-serif;\n    }\n\n    .tutorial-view[_ngcontent-%COMP%] {\n      position: absolute;\n      width: 380px;\n      max-width: max-content;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      max-height: max-content;\n      z-index: 5;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n      margin-left: 10px;\n\n      font-size: 16px;\n      color: white;\n    }\n\n    \n\n    .btn-system[_ngcontent-%COMP%] {\n      border: 1px;\n      border-style: groove;\n      border-color: black;\n      background-color: #ddd;\n      min-width: 80px;\n    }\n\n    .btn-system[_ngcontent-%COMP%]:hover {\n      border: 1px;\n      border-style: groove;\n      border-color: black;\n      background-color: #aaa;\n    }\n\n    #scenery[_ngcontent-%COMP%] {\n      position: relative;\n      z-index: 1;\n      text-align: center;\n      height:1024px;\n      margin-left:5px;\n      margin-right:0px;\n      padding-left:0px;\n      padding-right:0px;\n      overflow:hidden;\n\n      background-color: whitesmoke;\n\n      border: 2px;\n      border-style:ridge;\n      border-color: #aaa;\n    }\n\n    #sceneries[_ngcontent-%COMP%] {\n      filter: brightness(0);\n    }\n\n    \n\n    #form-div[_ngcontent-%COMP%] {\n      margin-left:5px;\n      margin-right:5px;\n    }\n\n\n    #scenery-img[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:1024px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    #scenery-img-m[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:800px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    #scenery-img-s[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:640px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    #scenery-ending[_ngcontent-%COMP%] {\n      width: 1000px;\n      height: 800px;\n      border: 4px;\n      border-style: groove;\n      border-color: #ddd;\n      margin: auto;\n      display:block;\n      \n    }\n\n    .actionspopup[_ngcontent-%COMP%] {\n      position: sticky; \n      padding-top: 15px; \n      float:right; \n      z-index:2;\n      margin-left: 10px;\n      margin-right: 10px;\n    }\n  \n    .action[_ngcontent-%COMP%] {\n      border: 0px;\n      border-style: solid;\n      padding: 1px 5px;\n      font-size: 14px;\n      z-index: 3;\n      margin-left: 2px;\n      margin-right: 2px;\n      max-height: 25px;\n      width: 25px;\n      color: dodgerblue;\n    }\n  \n    .action[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%] {\n      color: royalblue;\n      cursor: pointer;\n    }\n\n\n\n  \n  .container[_ngcontent-%COMP%] {\n    border: 2px solid #dedede;\n    background-color: #f1f1f1;\n    border-radius: 8px;\n    padding: 10px 12px;\n    margin: 10px 0;\n    \n    border-color: black;\n    \n    background-color: rgb(250, 169, 232);\n    color: black;\n    flex-wrap: wrap;\n\t\t\n\t\theight: auto;\n\t\tmax-width: max-content;\n    width: auto;\n  }\n\n\n  .msg-cheree[_ngcontent-%COMP%] {\n    opacity: 0;\n  }\n\n  \n  \n  \n  .user[_ngcontent-%COMP%] {\n    \n    \n    background-color: #eee;\n    color: black;\n  }\n\n  .msg-devil[_ngcontent-%COMP%] {\n    background-color: #111;\n    color: #f55;\n  }\n\n  .msg-crysanthea[_ngcontent-%COMP%] {\n    background-color: white;\n    color: #555;\n    font-weight: bold;\n    opacity: 0;\n  }\n\n   \n   .history[_ngcontent-%COMP%] {\n    \n    background-color: #666;\n    color: #ccd;\n  }\n\n   \n   .history-user[_ngcontent-%COMP%] {\n    \n    background-color: #888;\n    color: #ccd;\n  }\n  \n  \n  .container[_ngcontent-%COMP%]::after {\n    content: \"\";\n    clear: both;\n    display: table;\n  }\n  \n  \n  \n  .time-right[_ngcontent-%COMP%] {\n    float: right;\n    color: #aaa;\n    padding: 10px;\n    font-size: 12px;\n  }\n  \n  \n  .time-left[_ngcontent-%COMP%] {\n    float: left;\n    color: #999;\n    padding: 10px;\n    font-size: 12px;\n  }\n\n  .message-left[_ngcontent-%COMP%] {\n    float: left;\n    text-align: justify;\n    font-size: 16px;\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n  \n    margin: auto;\n  }\n\n  .message-right[_ngcontent-%COMP%] {\n    float: right;\n    text-align: justify;\n  }\n\n\n  \n.form-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\n    width: 95%;\n\n    padding: 10px;\n    margin: 0 0 0 0;\n    border: 1px;\n    border-style: solid;\n    background: #f1f1f1;\n    resize: none;\n    height: 46px;\n    \n  }\n\n  #bottom-locked[_ngcontent-%COMP%] {\n    bottom: 0px;\n    left: 0;\n    position: fixed;\n    right: 0;\n    margin: 25px;\n  }\n  \n  \n\n\n  #inputField[_ngcontent-%COMP%] {\n\t\tmargin-bottom:10px;\n    padding:7px 10px;\n    line-height: 16px;\n\t\tfont-size: 16px;\n\t\tmargin-left:5px;\n\t\tmargin-right:5px;\n    width: 330px;\n    font-family:Verdana, Geneva, Tahoma, sans-serif;  \n\t  }\n\n  #inputSubmit[_ngcontent-%COMP%] {\n    padding:10px 9px;\n    line-height: 18px;\n\t\tfont-size: 15px;\n\t\tmargin-left:5px;\n\t\tmargin-right:5px;\n    font-family: 'vera', Arial, 'Tahoma', sans-serif;\n    background-color: #610;\n    color: white;\n    border-color: #fcc;\n\t}\n\n  #inputSubmit[_ngcontent-%COMP%]:hover {\n    background-color: #a54;\n  }\n\n  .stat[_ngcontent-%COMP%] {\n    color: darkslategrey;\n    font-size: 18px;\n    padding: 2px 10px;\n  }\n\n  .location-title[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 15px;\n    left: 15px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    \n    border: 2px solid white;\n    background-color: #555;\n    \n    border-radius: 8px;\n    padding: 0px 12px;\n    border-color: black;\n    \n    \n    color: white;\n\t\theight: 29px;\n\t\tmax-width: max-content;\n    width: auto;\n    opacity: .7;\n  }\n\n  .location-title[_ngcontent-%COMP%]:hover {\n    background-color: #111;\n  }\n\n  #mood-title[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 20px;\n    left: 240px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    \n  }\n\n  #mood-title-shadow[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 21px;\n    left: 241px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    color: black;\n    \n  }\n\n\n  #codepuzzleview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      left: 15px;\n      z-index: 4;\n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: 800px;\n      width: auto;\n      max-height: max-content;\n      height: auto;\n      margin: auto;\n  \n\n      min-width: 250px;\n      min-height: 400px;\n  }\n\n\n  .clue[_ngcontent-%COMP%] {\n      font-style: italic; \n      font-family:'columbia','Times New Roman', serif;\n      font-size: 16px;\n  }\n\n  .subwindowtitle[_ngcontent-%COMP%] {\n    font-size:18px;\n    font-weight:bold;\n    color:#edc;\n    font-family:'playfair'; \n  }\n\n  #to-top[_ngcontent-%COMP%] {\n    font-size: 14px;\n    font-family:Verdana, Geneva, Tahoma, sans-serif;\n    \n    text-align: right;\n    float: right;\n    margin-left: 20px;\n  }\n\n  #mood-recovered[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 44px;\n    left: 240px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    color: white;\n  }\n\n\n    @media screen and (min-width:0px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:1024px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1600px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:800px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1140px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:640px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: inline-block;}\n\n    }\n\n    @media screen and (max-width:900) {\n      #codepuzzleview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      #knownlocationsview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      #cluetextview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      .tutorial-view[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      \n    }\n\n    @media screen and (max-width:720px) {\n\n      #mood-title[_ngcontent-%COMP%] {\n        top: 50px;\n        left: 10px;\n        padding: 10px;\n        font-size: 16px;\n      }\n      #mood-title-shadow[_ngcontent-%COMP%] {\n        top: 51px;\n        left: 11px;\n        padding: 10px;\n        font-size: 16px;\n      }\n      #mood-recovered[_ngcontent-%COMP%] {\n        top: 74px;\n        left: 10px;\n        padding: 10px;\n        font-size: 16px;\n      }\n\n      .clue[_ngcontent-%COMP%] {\n        font-size: 14px;\n      }\n\n    }\n \n    @media screen and (max-width:600px) {\n      \n      #cluesview[_ngcontent-%COMP%] {\n        top: 72px;\n        right: 10px;\n\n        padding-right: 5px;\n        font-size: 16px;\n      }\n\n      .cluesbar[_ngcontent-%COMP%] {\n        top: 92px;\n        right: 5px;\n      }\n\n      #inputField[_ngcontent-%COMP%] {\n        width: 260px;\n      }\n\n      \n      #to-top[_ngcontent-%COMP%] {\n      margin-top: 20px;\n      }\n\n\n    }"],data:{animation:[On("clueTrigger",[Se("faded_in",ye({opacity:1})),Se("faded_out",ye({opacity:0})),et("faded_out => faded_in",[Xe(".3s")]),et("faded_in => faded_out",[Xe("4.5s 5s")])]),On("moodRecoveredTrigger",[Se("faded_in",ye({opacity:1})),Se("faded_out",ye({opacity:0})),et("faded_out => faded_in",[Xe(".3s")]),et("faded_in => faded_out",[Xe("2.5s 5s")])]),On("BackTransition",[Se("out",ye({backgroundColor:"orange",opacity:"0"})),Se("in",ye({backgroundColor:"purple",opacity:"1"})),et("* => out",[Xe(2e3)]),et("* => in",[Xe("2s .5s")])]),On("GeneralFade",[Se("out",ye({opacity:"0"})),Se("in",ye({opacity:"1"})),Se("outfast",ye({opacity:"0"})),et("* => out",[Xe("5s")]),et("* => in",[Xe(2e3)]),et("* => outfast",[Xe(100)])]),On("Darken",[Se("darken",ye({filter:"brightness(0%)"})),Se("lighten",ye({filter:"brightness(100%)"})),et("* => darken",[Xe(4e3)]),et("* => lighten",[Xe(2500)])]),On("romTrigger",[Se("blink_in",ye({filter:"opacity(100%)"})),Se("blink_out",ye({filter:"opacity(0%)"})),et("* => blink_in",[Xe(150)]),et("* => blink_out",[Xe(150)])]),On("newMessage",[Se("expand",ye({opacity:"1"})),et("* => expand",[Xe(600)])]),On("levelUp",[Se("show",ye({opacity:1,height:"38px"})),Se("hide",ye({opacity:0,height:"0px"})),et("hide => show",[Xe("2s")]),et("show => hide",[Xe("6s 2s")])])]}}),n})();function o3(n,t){if(1&n){const e=ne();m(0,"div")(1,"div",3),p(2," Resume your game \xa0 \xa0 "),m(3,"span",15),p(4),g()(),m(5,"div",16)(6,"button",17),k("click",function(){return V(e),B(b().onResume())}),p(7," RESUME "),g()(),I(8,"br")(9,"br"),g()}if(2&n){const e=b();v(4),$e(" ",e.username," ")}}function s3(n,t){1&n&&(m(0,"div",18),p(1," (forgetting old game) "),g())}function a3(n,t){if(1&n){const e=ne();m(0,"form",19,20),k("ngSubmit",function(){return V(e),B(b().onBegin())}),m(2,"div",21)(3,"div",22),I(4,"input",23,24),g()(),m(6,"div",25)(7,"button",17),k("click",function(){return V(e),B(b().onBegin())}),p(8," BEGIN "),g()()()}2&n&&w("formGroup",b().beginForm)}function l3(n,t){1&n&&(m(0,"div",26)(1,"p")(2,"span",27),p(3,"Cheree: Remembering My Murder"),g(),p(4," is a parser-based visual novel by Chatty Fiction (Robert Goodwin) with CG models by Sabao3179. "),I(5,"br"),m(6,"span",28),p(7," No deep learning generative neural nets are used in this project, and no data has been scraped from the internet. "),g(),p(8," All AI is handcrafted. All art is handcrafted. All photographs are handtaken. (either royalty-free, or in a couple cases personally taken by me) "),g(),m(9,"p"),p(10," The game belongs to a rare class of NLP or natural language games going back at least as far as 1998's "),m(11,"span",27),p(12,"Starship Titanic"),g(),p(13," where the primary input method is a text parser that understands natural English. (never remotely close to perfectly, but we do our best!) Other NLP titles worth noting include 2016's "),m(14,"span",27),p(15,"Event[0]"),g(),p(16," and "),p(17," 2005's "),m(18,"span",27),p(19,"Fa\xe7ade"),g(),p(20,". More recently, a host of games with AI powered by LLMs and deep learning such as 2019's "),m(21,"span",27),p(22,"AI Dungeon"),g(),p(23," have come onto the scene, which do a superior job of responding to input at the cost of the author losing control of the story; narrative that is open-ended (no human author is controlling where the story goes) might best be considered a different thing. "),g(),m(24,"p")(25,"span",27),p(26,"Cheree: Remembering My Murder"),g(),p(27," is a handcrafted story with handcrafted (rule-based) AI that might be as advanced as can be found in any game with set narrative yet made. It was developed in Chatscript, the same framework used to make 2022's "),m(28,"a",29)(29,"span",27),p(30,"Thanatophobia"),g()(),p(31," (which albeit short, itself may have had the most advanced AI in any game with set narrative until now). The front end is built in Angular, the back end in NodeJS with PostgreSQL. The 3D model is rendered with Unity WebGL. "),g(),m(32,"p")(33,"span",27),p(34,"Cheree: Remembering My Murder"),g(),p(35," also traces its roots to the visual novel and is, to my knowledge, the first NLP game in visual novel style, where the content of the dialogue is linked to a character's poses/animations. It has a romantic element best enjoyed as B x G (male PC, female NPC). "),g(),m(36,"p"),p(37," The story of "),m(38,"span",27),p(39,"Cheree: Remembering My Murder"),g(),p(40," draws upon historical figures and events, most notably Jack the Ripper & the Whitechapel Murders. Locations both real and fictional comprise the setting. Strong supernatural themes come into play, with horror taking the stage in the story's final act. "),m(41,"span",27),p(42,"Cheree: Remembering My Murder"),g(),p(43," is not recommended for young children. "),g()())}function c3(n,t){1&n&&(m(0,"div",26)(1,"p"),p(2," Type in English the thoughts you wish to convey to Cheree. (you can press \u2191 to auto-type your last input) "),I(3,"br"),p(4,"\xa0\xa0\xa0 At times you may want to let her lead the conversation; you can simply press Enter or chime in with occasional comments and questions. Cheree will often speak on her own, as well. "),I(5,"br"),p(6,"\xa0\xa0\xa0 At times you should lead the conversation yourself. Discovering the clues needed to solve the mystery will require bringing up certain topics and discussing them. "),g(),m(7,"p"),p(8,"Cheree will, of course, not always understand your words the way you intended. If you receive a poor response to something you typed, rest assured that the developer is reading the logs and making improvements accordingly such that future players will receive better responses to the inputs you tried. "),I(9,"br")(10,"br"),p(11," Remember that you can not only ask what Cheree thinks about a person or thing, but you can ask what "),m(12,"span",27),p(13,"another person"),g(),p(14," thinks about a person or thing. "),g(),m(15,"p"),p(16," At certain locations you will need to steer the conversation in such a way that Cheree remembers a clue. A clue once discovered must be deciphered by solving a puzzle in which each letter in the alphabet codes for another letter. Click on Clues in the upper right corner to review the clues you've discovered, and click on an undeciphered clue to attempt to decipher it. "),g(),I(17,"p"),m(18,"p"),p(19," You can return to old locations to look for clues you may have missed. (Or refer to a location by number; Cheree might have trouble understanding which place you mean otherwise) Click on the location title to bring up the list. Location names in blue may or may not have a yet undiscovered clue. "),g(),m(20,"p"),p(21,"The above and all important game concepts are also explained in-game. "),g()())}function u3(n,t){1&n&&(m(0,"div",30)(1,"p")(2,"span",31),p(3,"Tips for collecting clues"),g()(),m(4,"p"),p(5," It is fine and well to let Cheree lead you around from location to location, but at a certain point you will be unable to progress until you have found and deciphered a number of clues. The very first clue is found at Steadwell Manse, and it is mandatory to at least acquire it before Cheree will introduce any further locations. (whether you decipher it then or at a later time is up to you) "),I(6,"br")(7,"br"),p(8," The Location List (click on the location title in the upper left corner to bring it up) will display all locations Cheree can show you so far. Location names in green have no further clues. Location names in blue may or may not have a clue. Spend some time at such a location and eventually Cheree will either sense that there are no clues around, or may drop hints about whatever clue is there. "),I(9,"br")(10,"br"),p(11,' If you return to a previously visited location and Cheree begins the new conversation saying, "This is where I told you about x", that is also an indication that a clue remains there. '),I(12,"br")(13,"br"),p(14,' The visual appearance of a location is not necessarily what matters. Each clue is suggested by something Cheree has mentioned in the dialogue there. It could be a person, an object, a concept, or a past experience. Usually, words along the lines of "Can you tell me more about x?" is sufficient for the clue to be found. '),I(15,"br")(16,"br"),p(17," A clue once found must be deciphered. The Clue List (click on Clues in the upper right corner to bring it up) will display which clues you have discovered, and you can attempt to decipher clues yet undeciphered by clicking on them there. "),g(),m(18,"p")(19,"span",31),p(20,"Tips for deciphering clues"),g()(),m(21,"span",27),p(22,' "As you are aware, E is the most common letter in the English alphabet, and it predominates to so marked an extent that even in a short sentence one would expect to find it most often." '),g(),m(23,"div",32),I(24,"br"),p(25,"\xa0\xa0\xa0 -- The Return of Sherlock Holmes "),I(26,"br"),p(27,"\xa0\xa0\xa0 Sir Arthur Conan Doyle "),I(28,"br"),p(29,"\xa0\xa0\xa0 CHAPTER III: \u201cTHE ADVENTURE OF THE DANCING MEN\u201d "),g(),I(30,"br")(31,"br"),p(32,' Begin with short words. A 1-letter word can only be either "I" or "a". '),I(33,"br")(34,"br"),p(35,' The most commonly occuring 3-letter word is "the". If changing a coded word to "the" results in 4-letter words elsewhere in the puzzle having their first two letters as "th" then you are probably on the right track; such a word could be "this", "that", "they", "them", "than", or "then". '),I(36,"br")(37,"br"),p(38,' For longer words, look for repeat occurences of letters. A doubled-up letter could be many things, but in most cases will be followed by a vowel, typically \'e\'. (examples: "arrest", "sinned", "dessert"). '),I(39,"br")(40,"br"),p(41," Some decipher puzzles have permanently capitalized words in them. Most likely, a capitalized word has been mentioned by Cheree, so it may be worth reviewing recent dialogue. "),I(42,"br")(43,"br"),p(44," If you are absolutely unable to solve a decipher puzzle, email me and I'll share the cheat code. "),I(45,"br")(46,"br"),m(47,"p")(48,"span",31),p(49,"Tips for Cheree's moods"),g()(),m(50,"p"),p(51," Cheree can get into the following moods: "),I(52,"br")(53,"br"),p(54,"Agitated - Triggered by using too much negative language "),I(55,"br"),p(56,"Neglected - Triggered by thinking too many short thoughts "),I(57,"br"),p(58,"Misunderstood - Triggered by only making statements, not asking questions "),I(59,"br"),p(60,"Interrogated - Triggered by only asking questions, not making statements "),I(61,"br"),p(62,"Flustered - Triggered by changing topics too frequently "),I(63,"br"),p(64,"Creeped - Triggered by excessive flirting (at sufficiently high relationship level does not trigger) "),I(65,"br")(66,"br"),p(67," Since the above moods halt or slow down acquisition of relationship points, which informs some of the conversational topics she might bring up on her own, it is a sort of advanced strategy to chat with her in such a way to avoid mood changes. "),I(68,"br")(69,"br"),p(70,"Certain actions will break her out of a bad mood immediately. For instance, you could try asking her to do a dance. "),g(),m(71,"p")(72,"span",31),p(73,"Trajectory of the game"),g()(),m(74,"p"),p(75," The game could be considered to consist of 3 phases: "),I(76,"br")(77,"br"),p(78,"In the 1st phase of the game you are looking for the first batch of clues. You must have found and deciphered 4 clues in order to progress to the 2nd phase. "),I(79,"br")(80,"br"),p(81,"In the 2nd phase of the game you are looking for the second batch of clues. You must have found and deciphered all 9 clues in order to progress to the 3rd phase. "),I(82,"br")(83,"br"),p(84,"You enter the 3rd and final phase of the game once you have found and deciphered all 9 clues. Ask Cheree about it and she will discuss with you who her killer is, following which she will show you the location where she was killed, and at last remember what happened that night. But the story isn't over yet.... "),g()())}function d3(n,t){1&n&&(m(0,"div",33)(1,"p")(2,"span",31),p(3,"If Cheree and the interface do not appear"),g()(),m(4,"p"),p(5," After the opening few minutes of dialogue, Cheree should become visible on the screen and stay visible thereafter, excepting when she is walking or dancing off-screen, or at certain points in the story when it is obvious her disappearance is scripted. If both Cheree AND the game's interface (location title, relationship title, clues, etc) are not visible and it seems as if they ought to be, please try the following: "),I(6,"br")(7,"br"),p(8," 1. Quit to the title screen (this screen) "),I(9,"br"),p(10," 2. Reload the page "),I(11,"br"),p(12," 3. Resume your game again "),I(13,"br")(14,"br"),p(15,"If Cheree still does not appear, try freeing some memory on your device by closing apps. (the problem may be more common on mobile) "),g(),m(16,"p")(17,"span",31),p(18,"If Mel does not appear"),g()(),m(19,"p"),p(20," After Mel is introduced she becomes visible on the screen. As you visit different locations, Cheree will sometimes Manifest Mel too. Sometime she will not. This is not a bug, provided Cheree herself is visible. If you would like to see Mel again you can ask Cheree to show her to you. "),g(),m(21,"p")(22,"span",31),p(23,"If Cheree repeats herself"),g()(),m(24,"p"),p(25," Cheree will normally not repeat lengthy lines of dialogue. The most common reason this glitch might happen is that the system has recently been updated, which can cause specific parts of specific conversations to get reset (depending on what was updated). You can simply cycle through those conversation again with repeated empty input. (press ENTER repeatedly) "),g(),m(26,"p")(27,"span",31),p(28,"If Cheree has nothing to say"),g()(),m(29,"p"),p(30," Cheree, like anyone, can run out of meaningful things to say. Although there is a vast amount of dialogue she is holding back for the appropriate topic to be raised, most stalls in the flow of the conversation occur when you have been at a location long enough that she has no further comments to make about it. Assuming there are no clues to find there (the name of the location in the location list will be green if there are no clues), you are probably best off visiting another location. "),g(),m(31,"p")(32,"span",31),p(33,"If Cheree has too much to say"),g()(),m(34,"p"),p(35," It is normal behavior for Cheree to sometimes speak on her own when you're not typing anything. She will eventually pause and wait for you at pointed moments, or when she has nothing more to say. (You can also tell her to stop talking) "),g(),m(36,"p")(37,"span",31),p(38,"If Cheree misunderstands you"),g()(),m(39,"p"),p(40," Yes, it will happen! Cheree is continually being improved based on play data, but she will never have human-like comprehension. As well, sometimes Cheree will misunderstand a thing said, resulting in the context of prior dialogue being lost. However, you will never get locked out of dialogue critical to completing the game. "),g()())}function h3(n,t){1&n&&(m(0,"div",30)(1,"p"),p(2," The game can be played on any browser including mobile, though a computer with full-sized screen and keyboard is recommended. "),I(3,"br"),p(4,"Your data is saved automatically, and your username remembered for the device you begin the game on. "),g(),m(5,"p"),p(6," It is possible to migrate to a new device by doing the following: "),g(),m(7,"ol")(8,"li"),p(9,'On the old device, click or hover the cursor over "Resume your game".'),g(),m(10,"li"),p(11,'Copy down the username that appears to the right. (example: "Fred-J7CveP2w1b")'),g(),m(12,"li"),p(13,"On the new device, enter the username you copied into the 'your name' field and begin the game."),g()()())}function f3(n,t){1&n&&(m(0,"div",30)(1,"p")(2,"span",34),p(3,"Does the game contain explicit content?"),g()(),m(4,"p"),p(5," There is no substantial sexual content. (subject to change) "),I(6,"br"),p(7,"There is no nudity (only one character who dresses skimpily). "),I(8,"br"),p(9,"There are textual descriptions of violence, but no visual depictions of it. "),I(10,"br"),p(11,"There is abundant strong language. "),I(12,"br"),p(13,"There is content both textual and visual that may be too frightening for young children. "),g(),m(14,"p")(15,"span",34),p(16,"What is the gameplay like?"),g()(),m(17,"p"),p(18," Most players will pick up on the fact that the bulk of the story is on auto-pilot and one does not strictly need to be engaging Cheree in meaningful conversation all of the time. That much is in the tradition of visual novels, to say the least! Unlike other visual novels, the player can always chime in at will with questions and comments, change the topic of conversation, and make other requests of Cheree. Indeed, the player is expected to stay actively involved. Only by paying attention to names and concepts mentioned and by probing deeper can clues to solving the mystery be obtained. "),I(19,"br")(20,"br"),p(21,' Once a clue is discovered, the player must "make sense" of the clue in a deciphering mini-game, a break from the usual chat flow. '),I(22,"br")(23,"br"),p(24," Building a relationship with Cheree is also at the core of the game. Thus, not all dialogue is important to the plot; much of it is quite peripheral. "),g(),m(25,"p")(26,"span",34),p(27,"How long is the game?"),g()(),m(28,"p"),p(29," It is tricky to measure this when each of us has our own style of chatting, but a VERY rough estimate of the time to completion is 6 hours. It could well be longer for some players. "),g(),m(30,"p")(31,"span",34),p(32,"How smart is the AI?"),g()(),m(33,"p"),p(34," Though the answer depends on the metric, obviously Cheree cannot handle the seemingly infinite range of inputs that deep learning models and LLMs can. Nor is she likely to be passing a Turing Test. There may be areas where she does comparatively well, such as long-term memory, but it isn't fair anyway to be comparing massive machine-learned models to that found in a game hand-crafted to suit the purpose of a human-authored story --a hand-crafted story calls for hand-crafted AI. Else it could make up dialogue inconsistent with everything. "),I(35,"br")(36,"br"),p(37," As games go, Cheree (like "),m(38,"a",29)(39,"span",27),p(40,"Thanatophobia"),g()(),p(41," before it) probably has the most advanced AI yet built for a game with set narrative. "),g(),m(42,"p")(43,"span",34),p(44,"What else does the game have to offer?"),g()(),m(45,"p"),p(46," As if it could be revealed without spoiling the surprise! Suffice to say that late in the story there is a segment of gameplay unlike anything found in any other game. "),g()())}function p3(n,t){1&n&&(m(0,"div",26)(1,"p"),p(2," This game exists for entertainment. Your chat history is stored on the server in order to improve the game. It is never shared with third parties. Your chat history may be deleted after (normally) a month of inactivity. "),g(),m(3,"p"),p(4," The game will never ask for sensitive personal information such as credit card numbers or phone numbers and you should never share such information. "),g()())}function g3(n,t){1&n&&(m(0,"div",35)(1,"p"),p(2," Feel free to reach out to me for help completing the game or any other feedback you'd like to offer. "),g(),m(3,"p"),p(4," Email: flowerthief00atyahoodotcom "),I(5,"br"),p(6,"(replace at with @ and dot with .) "),g()())}let B0=(()=>{class n{constructor(e,r,i){this.formBuilder=e,this.router=r,this.chatService=i,this.username="",this.maxNameLength=20,this.resumable=!1,this.showPrivacy=!1,this.showMigrating=!1,this.showAbout=!1,this.showPlaying=!1,this.showContact=!1,this.showTroubleshooting=!1,this.showFAQ=!1,this.showTips=!1,this.beginForm=new oi({inputname:new si("",[Gl.minLength(1),Gl.maxLength(this.maxNameLength)])})}ngOnInit(){this.get_username(),""!=this.username&&(console.log("already had name = "+this.username),this.resumable=!0)}store_username(e){localStorage.setItem("stored",JSON.stringify(e)),console.log("set stored "+e)}get_username(){const e=localStorage.getItem("stored");this.username=null!==e?JSON.parse(e):"",console.log("got username "+this.username)}delete_username(){localStorage.removeItem("stored")}random_string(e=10){let r="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<e;o++)r+=i.charAt(Math.floor(Math.random()*i.length));return r}onBegin(){var e=this.beginForm.get("inputname")?.value;if(this.beginForm.reset(),e){if(this.beginForm.invalid)return void console.log("invalid name");var r="";r="Pablo"==e?"Pablo-123":-1!=e.indexOf("-")?e:e+"-"+this.random_string(),console.log("begun with name="+r),this.onDelete(),this.resumable=!0,this.store_username(r),this.username=r,this.router.navigate(["/game"])}}onResume(){this.get_username(),""!=this.username&&this.router.navigate(["/game"])}onDelete(){""!=this.username&&this.chatService.deleteUser(this.username),this.delete_username(),this.resumable=!1}togglePrivacy(){this.showPrivacy=!this.showPrivacy}toggleMigrating(){this.showMigrating=!this.showMigrating}toggleAbout(){this.showAbout=!this.showAbout}togglePlaying(){this.showPlaying=!this.showPlaying}toggleContact(){this.showContact=!this.showContact}toggleTroubleshooting(){this.showTroubleshooting=!this.showTroubleshooting}toggleFAQ(){this.showFAQ=!this.showFAQ}toggleTips(){this.showTips=!this.showTips}}return n.\u0275fac=function(e){return new(e||n)(T(c0),T(Ge),T(sp))},n.\u0275cmp=Gn({type:n,selectors:[["home"]],decls:59,vars:11,consts:[[2,"display","flex"],[2,"margin","20px 5%","float","left","min-width","350px"],[4,"ngIf"],[1,"title"],["style","font-size:14px; color:#aaa;",4,"ngIf"],["autocomplete","off","class","form-container","style","margin-top:0px;",3,"formGroup","ngSubmit",4,"ngIf"],[2,"width","100%","margin-right","10%"],[2,"float","right"],["src","assets/cheree_trans.png","width","200"],[1,"text-center"],[1,"reveal-info",3,"click"],["class","info","id","privacy",4,"ngIf"],["class","info","id","about",4,"ngIf"],["class","info","id","troubleshooting",4,"ngIf"],["class","info","id","contact",4,"ngIf"],["id","username"],[2,"margin-bottom","22px","margin-top","15px","padding-bottom","22px","display","inline-block"],["type","button",1,"btn-system",2,"margin-bottom","15px",3,"click"],[2,"font-size","14px","color","#aaa"],["autocomplete","off",1,"form-container",2,"margin-top","0px",3,"formGroup","ngSubmit"],["input","ngForm"],[2,"display","inline-block"],[2,"margin-left","0px","margin-right","10px","display","inline-block"],["type","text","id","inputField","placeholder","Your name","formControlName","inputname","autofocus","",1,"form-container"],["msg",""],[2,"margin-bottom","22px","margin-top","20px","padding-bottom","22px","display","inline-block"],["id","privacy",1,"info"],[2,"font-style","italic"],[2,"color","gold","font-weight","bold"],["href","https://www.chattyfiction.cyou/index.php"],["id","about",1,"info"],[1,"troubleshooting-heading"],[2,"font-size","smaller"],["id","troubleshooting",1,"info"],[1,"faq-heading"],["id","contact",1,"info"]],template:function(e,r){1&e&&(I(0,"br")(1,"br"),m(2,"div",0)(3,"div",1),M(4,o3,10,1,"div",2),m(5,"div",3),p(6," Begin new game "),g(),M(7,s3,2,0,"div",4),M(8,a3,9,1,"form",5),p(9," \xa0 "),g(),m(10,"div",6)(11,"div",7),I(12,"img",8),g()()(),I(13,"br")(14,"br"),m(15,"div")(16,"div",9)(17,"a",10),k("click",function(){return r.toggleAbout()}),p(18," About the game "),g()(),I(19,"br"),M(20,l3,44,0,"div",11),m(21,"div",9)(22,"a",10),k("click",function(){return r.togglePlaying()}),p(23," How to play "),g()(),I(24,"br"),M(25,c3,22,0,"div",11),m(26,"div",9)(27,"a",10),k("click",function(){return r.toggleTips()}),p(28," Hints & Tips "),g()(),I(29,"br"),M(30,u3,85,0,"div",12),m(31,"div",9)(32,"a",10),k("click",function(){return r.toggleTroubleshooting()}),p(33," Troubleshooting "),g()(),I(34,"br"),M(35,d3,41,0,"div",13),m(36,"div",9)(37,"a",10),k("click",function(){return r.toggleMigrating()}),p(38," Migrating to a new device "),g()(),I(39,"br"),M(40,h3,14,0,"div",12),m(41,"div",9)(42,"a",10),k("click",function(){return r.toggleFAQ()}),p(43," FAQ "),g()(),I(44,"br"),M(45,f3,47,0,"div",12),m(46,"div",9)(47,"a",10),k("click",function(){return r.togglePrivacy()}),p(48," Privacy Policy "),g()(),I(49,"br"),M(50,p3,5,0,"div",11),m(51,"div",9)(52,"a",10),k("click",function(){return r.toggleContact()}),p(53," Contact the author "),g()(),I(54,"br"),M(55,g3,7,0,"div",14),I(56,"br")(57,"br")(58,"br"),g()),2&e&&(v(4),w("ngIf",r.resumable),v(3),w("ngIf",r.resumable),v(1),w("ngIf",!0),v(12),w("ngIf",r.showAbout),v(5),w("ngIf",r.showPlaying),v(5),w("ngIf",r.showTips),v(5),w("ngIf",r.showTroubleshooting),v(5),w("ngIf",r.showMigrating),v(5),w("ngIf",r.showFAQ),v(5),w("ngIf",r.showPrivacy),v(5),w("ngIf",r.showContact))},dependencies:[to,Hf,co,Kl,Pf,Vs,rc],styles:[".title[_ngcontent-%COMP%] {\n        font-size: 22px;\n        color: white;\n    }\n\n    button[_ngcontent-%COMP%] {\n        background-color: #620;\n        color: white;\n        padding: 8px 12px;\n        border-radius: 8px;\n       \n        border: 1px;\n        border-style: solid;\n        border-color: grey;\n    }\n\n    button[_ngcontent-%COMP%]:hover {\n        background-color: #953;\n    }\n\n    #inputField[_ngcontent-%COMP%] {\n        width: 120px;\n    }\n\n    #username[_ngcontent-%COMP%] {\n        font-size:12px;\n        color:#888;\n        visibility: hidden;\n    }\n\n    .title[_ngcontent-%COMP%]:hover   #username[_ngcontent-%COMP%] { visibility: visible; }\n\n\n    .info[_ngcontent-%COMP%] {\n        margin:15px 30px 30px;\n        align-items:center;\n        justify-content:center;\n        font-size:14px;\n        width: 90%;\n        color: white;\n    }\n\n    .reveal-info[_ngcontent-%COMP%] {\n        cursor:pointer;\n        color:#ccccee;\n        font-size:18px;\n        text-decoration: none;\n    }\n\n    .troubleshooting-heading[_ngcontent-%COMP%] {\n        font-weight: bold;\n        font-size: 16px;\n        color: gold;\n    }\n\n    .faq-heading[_ngcontent-%COMP%] {\n        font-weight: bold;\n        font-size: 16px;\n        color: gold\n    }"]}),n})();const m3=[{path:"",component:B0},{path:"home",component:B0},{path:"game",component:i3}];let y3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({imports:[If.forRoot(m3),If]}),n})();function _3(n,t){1&n&&(m(0,"div",6)(1,"span",7),p(2," Cheree: Remembering My Murder "),g()())}function v3(n,t){1&n&&I(0,"div",8)}function w3(n,t){if(1&n){const e=ne();m(0,"div",9)(1,"img",10),k("@DevilTransition.done",function(){return V(e),B(b().afterTransition())}),g(),m(2,"img",11),k("@DevilTransition.done",function(){return V(e),B(b().afterTransition())}),g(),m(3,"img",12),k("@DevilTransition.done",function(){return V(e),B(b().afterTransition())}),g(),m(4,"img",13),k("@DevilTransition.done",function(){return V(e),B(b().afterTransition())}),g(),m(5,"img",14),k("@DevilTransition.done",function(){return V(e),B(b().afterTransition())}),g()()}if(2&n){const e=b();v(1),w("@DevilTransition",e.fadeDevil?"out":"in"),v(1),w("@DevilTransition",e.fadeDevil?"out":"in"),v(1),w("@DevilTransition",e.fadeDevil?"out":"in"),v(1),w("@DevilTransition",e.fadeDevil?"out":"in"),v(1),w("@DevilTransition",e.fadeDevil?"out":"in")}}let C3=(()=>{class n{constructor(e){this.eventEmitterService=e,this.title="chatng",this.showDevil=!1,this.fadeDevil=!1,this.subsVar=new gt}ngOnInit(){this.subsVar=this.eventEmitterService.invokeToggleDevilFunction.subscribe(()=>{console.log("heyyy"),this.toggleDevil()})}toggleDevil(){this.showDevil=!this.showDevil,console.log("toggled devil to "+this.showDevil.toString()),this.fadeDevil=!0}afterTransition(){this.fadeDevil&&(this.fadeDevil=!1,this.showDevil=!1,console.log("here?"))}}return n.\u0275fac=function(e){return new(e||n)(T(ap))},n.\u0275cmp=Gn({type:n,selectors:[["app-root"]],decls:7,vars:3,consts:[[2,"position","relative","background-color","#422"],["role","banner","id","top","class","text-center",4,"ngIf"],["id","main-content"],["role","main",1,"content"],["id","bottom",4,"ngIf"],["id","devildiv",4,"ngIf"],["role","banner","id","top",1,"text-center"],["id","game-title"],["id","bottom"],["id","devildiv"],["id","scenery-img-b","src","assets/devilb.jpg","alt",""],["id","scenery-img","src","assets/devil.jpg","alt",""],["id","scenery-img-m","src","assets/devilm.jpg","alt",""],["id","scenery-img-s","src","assets/devils.jpg","alt",""],["id","scenery-img-x","src","assets/devilx.jpg","alt",""]],template:function(e,r){1&e&&(m(0,"div",0),M(1,_3,3,0,"div",1),m(2,"div",2)(3,"div",3),I(4,"router-outlet"),g(),M(5,v3,1,0,"div",4),g(),M(6,w3,6,5,"div",5),g()),2&e&&(v(1),w("ngIf",!r.showDevil),v(4),w("ngIf",!r.showDevil),v(1),w("ngIf",r.showDevil))},dependencies:[to,ff],styles:['[_nghost-%COMP%] {\n    \n    font-family: Cambria, Cochin, Georgia, Times, \'Times New Roman\', serif;\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  #main-content[_ngcontent-%COMP%] {\n    background-color: #222;\n    background-image: url("./assets/pattern.png");\n\n    position: absolute;\n    left:0px;\n    top: 33px;\n    \n    width: 100%;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: block;\n    margin: 0px 30px 0px;\n    padding: 0 2%;\n    max-width: 1792px;\n    flex-direction: column;\n    align-items: center;\n    background-color: black;\n    \n\n  }\n\n  @media screen and (min-width: 1852px) {\n\n    .content[_ngcontent-%COMP%] {\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n\n  @media screen and (max-width: 1080px) {\n\n    .content[_ngcontent-%COMP%] {\n      margin-left: 2px;\n      margin-right: 2px;\n    }\n  }\n\n  \n\n  @font-face {\n    font-family: "robotoslab";\n    src: url("./assets/fonts/RobotoSlab.ttf") format("truetype");\n  }\n\n\n  #game-title[_ngcontent-%COMP%] {\n    \n    font-family: "robotoslab"; \n    font-size: 18px;\n    font-weight: bold;\n    text-align: center;\n  }\n\n  \n\n  #top[_ngcontent-%COMP%] {\n    background-color:darkred;\n    border-style:solid;\n    border: 0px 0px 3px;\n    border-color: black;\n    \n    height:34px;\n    padding:5px;\n    padding-top:0px; \n    color:white;\n  }\n\n  #bottom[_ngcontent-%COMP%] {\n    background-color: darkred;\n    border-style:solid;\n    border: 0px 0px 3px;\n    border-color: black;\n    height:14px;\n  }',"#devildiv[_ngcontent-%COMP%] {\n      z-index: 10;\n      display: block;\n      object-fit: cover;\n      position: absolute;\n      left: 50%;\n      transform: translate(-50%);\n      \n    }\n\n\n    @media screen and (min-width:0px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: inline-block;}\n    }\n\n    @media screen and (min-width:1550px) {\n      #scenery-img[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1200px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:950px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:570px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }"],data:{animation:[On("DevilTransition",[Se("out",ye({backgroundColor:"orange",filter:"brightness(0%)"})),Se("in",ye({backgroundColor:"purple",opacity:"1"})),et("* => in",[Xe(2e3)]),et("* => out",[Xe("4s .5s")])])]}}),n})();const U0_production=!0,U0_socketUrl="https://www.chattyfiction.cyou:2096/chat";function j0(n){return new S(3e3,!1)}function rU(){return typeof window<"u"&&typeof window.document<"u"}function lp(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Pr(n){switch(n.length){case 0:return new Bs;case 1:return n[0];default:return new f0(n)}}function $0(n,t,e,r,i=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((y,_)=>{let C=_,E=y;if("offset"!==_)switch(C=t.normalizePropertyName(C,s),E){case"!":E=i.get(_);break;case cr:E=o.get(_);break;default:E=t.normalizeStyleValue(_,C,E,s)}f.set(C,E)}),h||a.push(f),c=f,l=d}),s.length)throw function G3(n){return new S(3502,!1)}();return a}function cp(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&up(e,"start",n)));break;case"done":n.onDone(()=>r(e&&up(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&up(e,"destroy",n)))}}function up(n,t,e){const o=dp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function dp(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Gt(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function H0(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let hp=(n,t)=>!1,z0=(n,t,e)=>[],G0=null;function fp(n){const t=n.parentNode||n.host;return t===G0?null:t}(lp()||typeof Element<"u")&&(rU()?(G0=(()=>document.documentElement)(),hp=(n,t)=>{for(;t;){if(t===n)return!0;t=fp(t)}return!1}):hp=(n,t)=>n.contains(t),z0=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let li=null,q0=!1;const W0=hp,K0=z0;let Q0=(()=>{class n{validateStyleProperty(e){return function oU(n){li||(li=function sU(){return typeof document<"u"?document.body:null}()||{},q0=!!li.style&&"WebkitAppearance"in li.style);let t=!0;return li.style&&!function iU(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in li.style,!t&&q0&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in li.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return W0(e,r)}getParentElement(e){return fp(e)}query(e,r,i){return K0(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new Bs(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})(),pp=(()=>{class n{}return n.NOOP=new Q0,n})();const gp="ng-enter",dc="ng-leave",hc="ng-trigger",fc=".ng-trigger",Z0="ng-animating",mp=".ng-animating";function ur(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yp(parseFloat(t[1]),t[2])}function yp(n,t){return"s"===t?1e3*n:n}function pc(n,t,e){return n.hasOwnProperty("duration")?n:function cU(n,t,e){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(j0()),{duration:0,delay:0,easing:""};i=yp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=yp(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(function D3(){return new S(3100,!1)}()),a=!0),o<0&&(t.push(function E3(){return new S(3101,!1)}()),a=!0),a&&t.splice(l,0,j0())}return{duration:i,delay:o,easing:s}}(n,t,e)}function $s(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function J0(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Nr(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function eE(n,t,e){return e?t+":"+e+";":""}function tE(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=eE(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=eE(0,fU(e),n.style[e]));n.setAttribute("style",t)}function Ln(n,t,e){n.style&&(t.forEach((r,i)=>{const o=vp(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),lp()&&tE(n))}function ci(n,t){n.style&&(t.forEach((e,r)=>{const i=vp(r);n.style[i]=""}),lp()&&tE(n))}function Hs(n){return Array.isArray(n)?1==n.length?n[0]:d0(n):n}const _p=new RegExp("{{\\s*(.+?)\\s*}}","g");function nE(n){let t=[];if("string"==typeof n){let e;for(;e=_p.exec(n);)t.push(e[1]);_p.lastIndex=0}return t}function zs(n,t,e){const r=n.toString(),i=r.replace(_p,(o,s)=>{let a=t[s];return null==a&&(e.push(function T3(n){return new S(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function gc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const hU=/-+([a-z0-9])/g;function vp(n){return n.replace(hU,(...t)=>t[1].toUpperCase())}function fU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qt(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function M3(n){return new S(3004,!1)}()}}function rE(n,t){return window.getComputedStyle(n)[t]}function vU(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function wU(n,t,e){if(":"==n[0]){const l=function CU(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function j3(n){return new S(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function U3(n){return new S(3015,!1)}()),t;const i=r[1],o=r[2],s=r[3];t.push(iE(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&t.push(iE(s,i))}(r,e,t)):e.push(n),e}const vc=new Set(["true","1"]),wc=new Set(["false","0"]);function iE(n,t){const e=vc.has(n)||wc.has(n),r=vc.has(t)||wc.has(t);return(i,o)=>{let s="*"==n||n==i,a="*"==t||t==o;return!s&&e&&"boolean"==typeof i&&(s=i?vc.has(n):wc.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?vc.has(t):wc.has(t)),s&&a}}const bU=new RegExp("s*:selfs*,?","g");function wp(n,t,e,r){return new DU(n).build(t,e,r)}class DU{constructor(t){this._driver=t}build(t,e,r){const i=new TU(e);return this._resetContextStyleTimingState(i),qt(this,Hs(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function A3(){return new S(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(function x3(){return new S(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{nE(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(gc(o.values()),e.errors.push(function k3(n,t){return new S(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=qt(this,Hs(t.animation),e);return{type:1,matchers:vU(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:ui(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>qt(this,r,e)),options:ui(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(s=>{e.currentTime=r;const a=qt(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:ui(t.options)}}visitAnimate(t,e){const r=function IU(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Cp(pc(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Cp(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=pc(e,t);return Cp(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:ye({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=ye(c)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===cr?r.push(a):e.errors.push(new S(3002,!1)):r.push(J0(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(e.errors.push(function N3(n,t,e,r,i){return new S(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),e.options&&function dU(n,t,e){const r=t.params||{},i=nE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function S3(n){return new S(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function R3(){return new S(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(E=>{const x=this._makeStyleAst(E,e);let D=null!=x.offset?x.offset:function MU(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(x.styles),P=0;return null!=D&&(o++,P=x.offset=D),l=l||P<0||P>1,a=a||P<c,c=P,s.push(P),x});l&&e.errors.push(function O3(){return new S(3012,!1)}()),a&&e.errors.push(function F3(){return new S(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function L3(){return new S(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,y=e.currentTime,_=e.currentAnimateTimings,C=_.duration;return u.forEach((E,x)=>{const D=h>0?x==f?1:h*x:s[x],P=D*C;e.currentTime=y+_.delay+P,_.duration=P,this._validateStyleAst(E,e),E.offset=D,r.styles.push(E)}),r}visitReference(t,e){return{type:8,animation:qt(this,Hs(t.animation),e),options:ui(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ui(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ui(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function EU(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(bU,"")),n=n.replace(/@\*/g,fc).replace(/@\w+/g,e=>fc+"-"+e.slice(1)).replace(/:animating/g,mp),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Gt(e.collectedStyles,e.currentQuerySelector,new Map);const a=qt(this,Hs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:ui(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function V3(){return new S(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:pc(t.timings,e.errors,!0);return{type:12,animation:qt(this,Hs(t.animation),e),timings:r,options:null}}}class TU{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ui(n){return n?(n=$s(n)).params&&(n.params=function SU(n){return n?$s(n):null}(n.params)):n={},n}function Cp(n,t,e){return{duration:n,delay:t,easing:e}}function bp(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Cc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const kU=new RegExp(":enter","g"),NU=new RegExp(":leave","g");function Dp(n,t,e,r,i,o=new Map,s=new Map,a,l,c=[]){return(new RU).buildKeyframes(n,t,e,r,i,o,s,a,l,c)}class RU{buildKeyframes(t,e,r,i,o,s,a,l,c,u=[]){c=c||new Cc;const d=new Ep(t,e,c,i,o,u,[]);d.options=l;const h=l.delay?ur(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),qt(this,r,d);const f=d.timelines.filter(y=>y.containsAnimation());if(f.length&&a.size){let y;for(let _=f.length-1;_>=0;_--){const C=f[_];if(C.element===e){y=C;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,l)}return f.length?f.map(y=>y.buildKeyframes()):[bp(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimateRefDelay(t.animation,e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimateRefDelay(t,e,r){const i=t.options?.delay;if(!i)return;let o;o="string"==typeof i?ur(zs(i,t.options?.params??{},e.errors)):i,r.delayNextStep(o)}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const s=null!=r.duration?ur(r.duration):null,a=null!=r.delay?ur(r.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),qt(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bc);const s=ur(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>qt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ur(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),qt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return pc(e.params?zs(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?ur(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bc);let s=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),qt(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;qt(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const bc={};class Ep{constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Dc(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=ur(r.duration)),null!=r.delay&&(i.delay=ur(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=zs(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new Ep(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=bc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new OU(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(kU,"."+this._enterClassName)).replace(NU,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function B3(n){return new S(3014,!1)}()),a}}class Dc{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Dc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||cr),this._currentKeyframe.set(e,cr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function FU(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,cr)}else Nr(i,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=zs(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??cr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Nr(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===cr&&e.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=t.size?gc(t.values()):[],s=e.size?gc(e.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return bp(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class OU extends Dc{constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=r+e,a=e/s,l=Nr(t[0]);l.set("offset",0),o.push(l);const c=Nr(t[0]);c.set("offset",aE(a)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Nr(t[d]);const f=h.get("offset");h.set("offset",aE((e+f*r)/s)),o.push(h)}r=s,e=0,i="",t=o}return bp(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function aE(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Sp{}const LU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class VU extends Sp{normalizePropertyName(t,e){return vp(t)}normalizeStyleValue(t,e,r,i){let o="";const s=r.toString().trim();if(LU.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function I3(n,t){return new S(3005,!1)}())}return s+o}}function lE(n,t,e,r,i,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Tp={};class cE{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function BU(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Tp,y=this.buildStyles(r,a&&a.params||Tp,d),_=l&&l.params||Tp,C=this.buildStyles(i,_,d),E=new Set,x=new Map,D=new Map,P="void"===i,J={params:UU(_,h),delay:this.ast.options?.delay},ie=u?[]:Dp(t,e,this.ast.animation,o,s,y,C,J,c,d);let Me=0;if(ie.forEach(Et=>{Me=Math.max(Et.duration+Et.delay,Me)}),d.length)return lE(e,this._triggerName,r,i,P,y,C,[],[],x,D,Me,d);ie.forEach(Et=>{const St=Et.element,Vn=Gt(x,St,new Set);Et.preStyleProps.forEach(Pt=>Vn.add(Pt));const bn=Gt(D,St,new Set);Et.postStyleProps.forEach(Pt=>bn.add(Pt)),St!==e&&E.add(St)});const ot=gc(E.values());return lE(e,this._triggerName,r,i,P,y,C,ie,ot,x,D,Me)}}function UU(n,t){const e=$s(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class jU{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=$s(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=zs(s,i,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(l,s)})}),r}}class HU{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new jU(i.style,i.options&&i.options.params||{},r))}),uE(this.states,"true","1"),uE(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new cE(t,i,this.states))}),this.fallbackTransition=function zU(n,t,e){return new cE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function uE(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const GU=new Cc;class qU{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=wp(this._driver,e,r,[]);if(r.length)throw function q3(n){return new S(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=$0(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=Dp(this._driver,e,o,gp,dc,new Map,new Map,r,GU,i),s.forEach(u=>{const d=Gt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function W3(){return new S(3300,!1)}()),s=[]),i.length)throw function K3(n){return new S(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,cr))})});const c=Pr(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Q3(n){return new S(3301,!1)}();return e}listen(t,e,r,i){const o=dp(e,"","","");return cp(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const dE="ng-animate-queued",Mp="ng-animate-disabled",ZU=[],hE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nn="__ng_removed";class Ip{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function nj(n){return n??null}(r?t.value:t),r){const o=$s(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Gs="void",Ap=new Ip(Gs);class XU{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,rn(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function Y3(n,t){return new S(3302,!1)}();if(null==r||0==r.length)throw function Z3(n){return new S(3303,!1)}();if(!function rj(n){return"start"==n||"done"==n}(r))throw function J3(n,t){return new S(3400,!1)}();const o=Gt(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);const a=Gt(this._engine.statesByElement,t,new Map);return a.has(e)||(rn(t,hc),rn(t,hc+"-"+e),a.set(e,Ap)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function X3(n){return new S(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),s=new xp(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(rn(t,hc),rn(t,hc+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new Ip(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Ap),c.value!==Gs&&l.value===c.value){if(!function sj(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const _=[],C=o.matchStyles(l.value,l.params,_),E=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{ci(t,C),Ln(t,E)})}return}const h=Gt(this._engine.playersByElement,t,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),y=!1;if(!f){if(!i)return;f=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(rn(t,dE),s.onStart(()=>{go(t,dE)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);const C=this._engine.playersByElement.get(t);if(C){let E=C.indexOf(s);E>=0&&C.splice(E,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,fc,!0);r.forEach(i=>{if(i[nn])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Gs,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&Pr(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||Ap,u=new Ip(Gs),d=new xp(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[nn];(!o||o===hE)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){rn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=dp(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,cp(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class ej{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new XU(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(Ec(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Ec(e))return;const o=e[nn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),rn(t,Mp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),go(t,Mp))}removeNode(t,e,r,i){if(Ec(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[nn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Ec(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,fc,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,mp,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[nn];if(e&&e.setForRemoval){if(t[nn]=hE,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Mp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)rn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Pr(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function eU(n){return new S(3402,!1)}()}_flushAnimations(t,e){const r=new Cc,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const L=this.driver.query(O,".ng-animate-queued",!0);for(let U=0;U<L.length;U++)u.add(L[U])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=gE(h,this.collectedEnterElements),y=new Map;let _=0;f.forEach((O,L)=>{const U=gp+_++;y.set(L,U),O.forEach(le=>rn(le,U))});const C=[],E=new Set,x=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const L=this.collectedLeaveElements[O],U=L[nn];U&&U.setForRemoval&&(C.push(L),E.add(L),U.hasAnimation?this.driver.query(L,".ng-star-inserted",!0).forEach(le=>E.add(le)):x.add(L))}const D=new Map,P=gE(h,Array.from(E));P.forEach((O,L)=>{const U=dc+_++;D.set(L,U),O.forEach(le=>rn(le,U))}),t.push(()=>{f.forEach((O,L)=>{const U=y.get(L);O.forEach(le=>go(le,U))}),P.forEach((O,L)=>{const U=D.get(L);O.forEach(le=>go(le,U))}),C.forEach(O=>{this.processLeaveNode(O)})});const J=[],ie=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(U=>{const le=U.player,We=U.element;if(J.push(le),this.collectedEnterElements.length){const Pe=We[nn];if(Pe&&Pe.setForMove){if(Pe.previousTriggersValues&&Pe.previousTriggersValues.has(U.triggerName)){const di=Pe.previousTriggersValues.get(U.triggerName),on=this.statesByElement.get(U.element);if(on&&on.has(U.triggerName)){const Mc=on.get(U.triggerName);Mc.value=di,on.set(U.triggerName,Mc)}}return void le.destroy()}}const Nt=!d||!this.driver.containsElement(d,We),Tt=D.get(We),Un=y.get(We),me=this._buildInstruction(U,r,Un,Tt,Nt);if(me.errors&&me.errors.length)return void ie.push(me);if(Nt)return le.onStart(()=>ci(We,me.fromStyles)),le.onDestroy(()=>Ln(We,me.toStyles)),void i.push(le);if(U.isFallbackTransition)return le.onStart(()=>ci(We,me.fromStyles)),le.onDestroy(()=>Ln(We,me.toStyles)),void i.push(le);const mo=[];me.timelines.forEach(Pe=>{Pe.stretchStartingKeyframe=!0,this.disabledNodes.has(Pe.element)||mo.push(Pe)}),me.timelines=mo,r.append(We,me.timelines),s.push({instruction:me,player:le,element:We}),me.queriedElements.forEach(Pe=>Gt(a,Pe,[]).push(le)),me.preStyleProps.forEach((Pe,di)=>{if(Pe.size){let on=l.get(di);on||l.set(di,on=new Set),Pe.forEach((Mc,Rp)=>on.add(Rp))}}),me.postStyleProps.forEach((Pe,di)=>{let on=c.get(di);on||c.set(di,on=new Set),Pe.forEach((Mc,Rp)=>on.add(Rp))})});if(ie.length){const O=[];ie.forEach(L=>{O.push(function tU(n,t){return new S(3505,!1)}())}),J.forEach(L=>L.destroy()),this.reportError(O)}const Me=new Map,ot=new Map;s.forEach(O=>{const L=O.element;r.has(L)&&(ot.set(L,L),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,Me))}),i.forEach(O=>{const L=O.element;this._getPreviousPlayers(L,!1,O.namespaceId,O.triggerName,null).forEach(le=>{Gt(Me,L,[]).push(le),le.destroy()})});const Et=C.filter(O=>yE(O,l,c)),St=new Map;pE(St,this.driver,x,c,cr).forEach(O=>{yE(O,l,c)&&Et.push(O)});const bn=new Map;f.forEach((O,L)=>{pE(bn,this.driver,new Set(O),l,"!")}),Et.forEach(O=>{const L=St.get(O),U=bn.get(O);St.set(O,new Map([...Array.from(L?.entries()??[]),...Array.from(U?.entries()??[])]))});const Pt=[],Rr=[],Bn={};s.forEach(O=>{const{element:L,player:U,instruction:le}=O;if(r.has(L)){if(u.has(L))return U.onDestroy(()=>Ln(L,le.toStyles)),U.disabled=!0,U.overrideTotalTime(le.totalTime),void i.push(U);let We=Bn;if(ot.size>1){let Tt=L;const Un=[];for(;Tt=Tt.parentNode;){const me=ot.get(Tt);if(me){We=me;break}Un.push(Tt)}Un.forEach(me=>ot.set(me,We))}const Nt=this._buildAnimation(U.namespaceId,le,Me,o,bn,St);if(U.setRealPlayer(Nt),We===Bn)Pt.push(U);else{const Tt=this.playersByElement.get(We);Tt&&Tt.length&&(U.parentPlayer=Pr(Tt)),i.push(U)}}else ci(L,le.fromStyles),U.onDestroy(()=>Ln(L,le.toStyles)),Rr.push(U),u.has(L)&&i.push(U)}),Rr.forEach(O=>{const L=o.get(O.element);if(L&&L.length){const U=Pr(L);O.setRealPlayer(U)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<C.length;O++){const L=C[O],U=L[nn];if(go(L,dc),U&&U.hasAnimation)continue;let le=[];if(a.size){let Nt=a.get(L);Nt&&Nt.length&&le.push(...Nt);let Tt=this.driver.query(L,mp,!0);for(let Un=0;Un<Tt.length;Un++){let me=a.get(Tt[Un]);me&&me.length&&le.push(...me)}}const We=le.filter(Nt=>!Nt.destroyed);We.length?ij(this,L,We):this.processLeaveNode(L)}return C.length=0,Pt.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const L=this.players.indexOf(O);this.players.splice(L,1)}),O.play()}),Pt}elementContainsData(t,e){let r=!1;const i=e[nn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Gs;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=Gt(r,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const y=f.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),f.destroy(),d.push(f)})}ci(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(y=>{const _=y.element;u.add(_);const C=_[nn];if(C&&C.removedBeforeQueried)return new Bs(y.duration,y.delay);const E=_!==l,x=function oj(n){const t=[];return mE(n,t),t}((r.get(_)||ZU).map(Me=>Me.getRealPlayer())).filter(Me=>!!Me.element&&Me.element===_),D=o.get(_),P=s.get(_),J=$0(0,this._normalizer,0,y.keyframes,D,P),ie=this._buildPlayer(y,J,x);if(y.subTimeline&&i&&d.add(_),E){const Me=new xp(t,a,_);Me.setRealPlayer(ie),c.push(Me)}return ie});c.forEach(y=>{Gt(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function tj(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>rn(y,Z0));const f=Pr(h);return f.onDestroy(()=>{u.forEach(y=>go(y,Z0)),Ln(l,e.toStyles)}),d.forEach(y=>{Gt(i,y,[]).push(f)}),f}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Bs(t.duration,t.delay)}}class xp{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Bs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>cp(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Gt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ec(n){return n&&1===n.nodeType}function fE(n,t){const e=n.style.display;return n.style.display=t??"none",e}function pE(n,t,e,r,i){const o=[];e.forEach(l=>o.push(fE(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[nn]=JU,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>fE(l,o[a++])),s}function gE(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function rn(n,t){n.classList?.add(t)}function go(n,t){n.classList?.remove(t)}function ij(n,t,e){Pr(e).onDone(()=>n.processLeaveNode(t))}function mE(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof f0?mE(r.players,t):t.push(r)}}function yE(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class Sc{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new ej(t,e,r),this._timelineEngine=new qU(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=wp(this._driver,o,l,[]);if(l.length)throw function z3(n,t){return new S(3404,!1)}();a=function $U(n,t,e){return new HU(n,t,e)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,s]=H0(r);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[s,a]=H0(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let lj=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ln(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ln(this._element,this._initialStyles),this._endStyles&&(Ln(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ci(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),Ln(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kp(n){let t=null;return n.forEach((e,r)=>{(function cj(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class _E{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:rE(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class uj{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return W0(t,e)}getParentElement(t){return fp(t)}query(t,e,r){return K0(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof _E);(function pU(n,t){return 0===n||0===t})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((y,_)=>c.set(_,y))});let d=function uU(n){return n.length?n[0]instanceof Map?n:n.map(t=>J0(t)):[]}(e).map(f=>Nr(f));d=function gU(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,rE(n,a)))}}return t}(t,d,c);const h=function aj(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=kp(t[0]),t.length>1&&(r=kp(t[t.length-1]))):t instanceof Map&&(e=kp(t)),e||r?new lj(n,e,r):null}(t,d);return new _E(t,d,l,h)}}let dj=(()=>{class n extends u0{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ln.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?d0(e):e;return vE(this._renderer,null,r,"register",[i]),new hj(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(F(qo),F(dt))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();class hj extends class DL{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new fj(this._id,t,e||{},this._renderer)}}class fj{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vE(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const wE="@.disabled";let pj=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new CE("",o,this.engine),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return r.data.animation.forEach(l),new gj(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(F(qo),F(Sc),F(Le))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();class CE{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==wE?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class gj extends CE{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==wE?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function mj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function yj(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}const bE=[{provide:u0,useClass:dj},{provide:Sp,useFactory:function vj(){return new VU}},{provide:Sc,useClass:(()=>{class n extends Sc{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(F(dt),F(pp),F(Sp),F(hs))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})()},{provide:qo,useFactory:function wj(n,t,e){return new pj(n,t,e)},deps:[bl,Sc,Le]}],Pp=[{provide:pp,useFactory:()=>new uj},{provide:bw,useValue:"BrowserAnimations"},...bE],DE=[{provide:pp,useClass:Q0},{provide:bw,useValue:"NoopAnimations"},...bE];let Cj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?DE:Pp}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Mt({providers:Pp,imports:[LC]}),n})();const bj={url:U0_socketUrl,options:{}};let Dj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n,bootstrap:[C3]}),n.\u0275inj=Mt({providers:[sp,ap],imports:[LC,y3,CL,s0,hV.forRoot(bj),Cj,If]}),n})();U0_production&&function cP(){Bw=!1}(),UR().bootstrapModule(Dj).catch(n=>console.error(n))}},Ic=>{Ic(Ic.s=603)}]);
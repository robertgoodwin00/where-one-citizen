"use strict";(self.webpackChunkchatng=self.webpackChunkchatng||[]).push([[179],{652:(Bc,Yp,Co)=>{var bo={};Co.r(bo),Co.d(bo,{Decoder:()=>mp,Encoder:()=>TV,PacketType:()=>le,protocol:()=>W0});var Uc={};function de(n){return"function"==typeof n}function jc(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Co.r(Uc),Co.d(Uc,{Manager:()=>_c,Socket:()=>yp,connect:()=>Pr,default:()=>Pr,io:()=>Pr,protocol:()=>W0});const $c=jc(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Zs(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class at{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(de(r))try{r()}catch(o){t=o instanceof $c?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Xp(o)}catch(s){t=t??[],s instanceof $c?t=[...t,...s.errors]:t.push(s)}}if(t)throw new $c(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Xp(t);else{if(t instanceof at){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Zs(e,t)}remove(t){const{_finalizers:e}=this;e&&Zs(e,t),t instanceof at&&t._removeParent(this)}}at.EMPTY=(()=>{const n=new at;return n.closed=!0,n})();const Zp=at.EMPTY;function Jp(n){return n instanceof at||n&&"closed"in n&&de(n.remove)&&de(n.add)&&de(n.unsubscribe)}function Xp(n){de(n)?n():n.unsubscribe()}const Lr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Js={setTimeout(n,t,...e){const{delegate:r}=Js;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Js;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function eg(n){Js.setTimeout(()=>{const{onUnhandledError:t}=Lr;if(!t)throw n;t(n)})}function Xs(){}const zE=Hc("C",void 0,void 0);function Hc(n,t,e){return{kind:n,value:t,error:e}}let Vr=null;function ea(n){if(Lr.useDeprecatedSynchronousErrorHandling){const t=!Vr;if(t&&(Vr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Vr;if(Vr=null,e)throw r}}else n()}class zc extends at{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Jp(t)&&t.add(this)):this.destination=ZE}static create(t,e,r){return new Do(t,e,r)}next(t){this.isStopped?qc(function qE(n){return Hc("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?qc(function GE(n){return Hc("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?qc(zE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const KE=Function.prototype.bind;function Gc(n,t){return KE.call(n,t)}class QE{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){ta(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){ta(r)}else ta(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ta(e)}}}class Do extends zc{constructor(t,e,r){let i;if(super(),de(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Lr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Gc(t.next,o),error:t.error&&Gc(t.error,o),complete:t.complete&&Gc(t.complete,o)}):i=t}this.destination=new QE(i)}}function ta(n){Lr.useDeprecatedSynchronousErrorHandling?function WE(n){Lr.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=n)}(n):eg(n)}function qc(n,t){const{onStoppedNotification:e}=Lr;e&&Js.setTimeout(()=>e(n,t))}const ZE={closed:!0,next:Xs,error:function YE(n){throw n},complete:Xs},Wc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Br(n){return n}function tg(n){return 0===n.length?Br:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let pe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function e1(n){return n&&n instanceof zc||function XE(n){return n&&de(n.next)&&de(n.error)&&de(n.complete)}(n)&&Jp(n)}(e)?e:new Do(e,r,i);return ea(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ng(r))((i,o)=>{const s=new Do({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Wc](){return this}pipe(...e){return tg(e)(this)}toPromise(e){return new(e=ng(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function ng(n){var t;return null!==(t=n??Lr.Promise)&&void 0!==t?t:Promise}const t1=jc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Lt=(()=>{class n extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new rg(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new t1}next(e){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Zp:(this.currentObservers=null,o.push(e),new at(()=>{this.currentObservers=null,Zs(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new pe;return e.source=this,e}}return n.create=(t,e)=>new rg(t,e),n})();class rg extends Lt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:Zp}}function ig(n){return de(n?.lift)}function Be(n){return t=>{if(ig(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(n,t,e,r,i){return new n1(n,t,e,r,i)}class n1 extends zc{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ee(n,t){return Be((e,r)=>{let i=0;e.subscribe(Ue(r,o=>{r.next(n.call(t,o,i++))}))})}function Ur(n){return this instanceof Ur?(this.v=n,this):new Ur(n)}function o1(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(y,_){o.push([h,f,y,_])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ur?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(y){d(o[0][3],y)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function s1(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ag(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Qc=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function lg(n){return de(n?.then)}function cg(n){return de(n[Wc])}function ug(n){return Symbol.asyncIterator&&de(n?.[Symbol.asyncIterator])}function dg(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hg=function l1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fg(n){return de(n?.[hg])}function pg(n){return o1(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield Ur(e.read());if(i)return yield Ur(void 0);yield yield Ur(r)}}finally{e.releaseLock()}})}function gg(n){return de(n?.getReader)}function Vt(n){if(n instanceof pe)return n;if(null!=n){if(cg(n))return function c1(n){return new pe(t=>{const e=n[Wc]();if(de(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Qc(n))return function u1(n){return new pe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(lg(n))return function d1(n){return new pe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,eg)})}(n);if(ug(n))return mg(n);if(fg(n))return function h1(n){return new pe(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(gg(n))return function f1(n){return mg(pg(n))}(n)}throw dg(n)}function mg(n){return new pe(t=>{(function p1(n,t){var e,r,i,o;return function r1(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=s1(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Hn(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ye(n,t,e=1/0){return de(t)?Ye((r,i)=>ee((o,s)=>t(r,o,i,s))(Vt(n(r,i))),e):("number"==typeof t&&(e=t),Be((r,i)=>function g1(n,t,e,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=_=>c<r?y(_):l.push(_),y=_=>{o&&t.next(_),c++;let C=!1;Vt(e(_,u++)).subscribe(Ue(t,E=>{i?.(E),o?f(E):t.next(E)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){const E=l.shift();s?Hn(t,s,()=>y(E)):y(E)}h()}catch(E){t.error(E)}}))};return n.subscribe(Ue(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,e)))}function pi(n=1/0){return Ye(Br,n)}const zn=new pe(n=>n.complete());function yg(n){return n&&de(n.schedule)}function Yc(n){return n[n.length-1]}function _g(n){return de(Yc(n))?n.pop():void 0}function Eo(n){return yg(Yc(n))?n.pop():void 0}function vg(n,t=0){return Be((e,r)=>{e.subscribe(Ue(r,i=>Hn(r,n,()=>r.next(i),t),()=>Hn(r,n,()=>r.complete(),t),i=>Hn(r,n,()=>r.error(i),t)))})}function wg(n,t=0){return Be((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Cg(n,t){if(!n)throw new Error("Iterable cannot be null");return new pe(e=>{Hn(e,t,()=>{const r=n[Symbol.asyncIterator]();Hn(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function je(n,t){return t?function D1(n,t){if(null!=n){if(cg(n))return function _1(n,t){return Vt(n).pipe(wg(t),vg(t))}(n,t);if(Qc(n))return function w1(n,t){return new pe(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(lg(n))return function v1(n,t){return Vt(n).pipe(wg(t),vg(t))}(n,t);if(ug(n))return Cg(n,t);if(fg(n))return function C1(n,t){return new pe(e=>{let r;return Hn(e,t,()=>{r=n[hg](),Hn(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void e.error(s)}o?e.complete():e.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}(n,t);if(gg(n))return function b1(n,t){return Cg(pg(n),t)}(n,t)}throw dg(n)}(n,t):Vt(n)}function Zc(...n){const t=Eo(n),e=function y1(n,t){return"number"==typeof Yc(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Vt(r[0]):pi(e)(je(r,t)):zn}function bg(n={}){const{connector:t=(()=>new Lt),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},y=()=>{const _=s;f(),_?.unsubscribe()};return Be((_,C)=>{c++,!d&&!u&&h();const E=l=l??t();C.add(()=>{c--,0===c&&!d&&!u&&(a=Jc(y,i))}),E.subscribe(C),!s&&c>0&&(s=new Do({next:x=>E.next(x),error:x=>{d=!0,h(),a=Jc(f,e,x),E.error(x)},complete:()=>{u=!0,h(),a=Jc(f,r),E.complete()}}),Vt(_).subscribe(s))})(o)}}function Jc(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new Do({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function we(n){for(let t in n)if(n[t]===we)return t;throw Error("Could not find renamed property on target object.")}function Xc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function eu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const E1=we({__forward_ref__:we});function De(n){return n.__forward_ref__=De,n.toString=function(){return Ce(this())},n}function W(n){return tu(n)?n():n}function tu(n){return"function"==typeof n&&n.hasOwnProperty(E1)&&n.__forward_ref__===De}class S extends Error{constructor(t,e){super(function na(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Y(n){return"string"==typeof n?n:null==n?"":String(n)}function ra(n,t){throw new S(-201,!1)}function Ut(n,t){null==n&&function ge(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ia(n){return Dg(n,oa)||Dg(n,Sg)}function Dg(n,t){return n.hasOwnProperty(t)?n[t]:null}function Eg(n){return n&&(n.hasOwnProperty(nu)||n.hasOwnProperty(N1))?n[nu]:null}const oa=we({\u0275prov:we}),nu=we({\u0275inj:we}),Sg=we({ngInjectableDef:we}),N1=we({ngInjectorDef:we});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let ru;function Xt(n){const t=ru;return ru=n,t}function Tg(n,t,e){const r=ia(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&G.Optional?null:void 0!==t?t:void ra(Ce(n))}function fr(n){return{toString:n}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),hn=(()=>{return(n=hn||(hn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",hn;var n})();const be=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gi={},fe=[],sa=we({\u0275cmp:we}),iu=we({\u0275dir:we}),ou=we({\u0275pipe:we}),Mg=we({\u0275mod:we}),qn=we({\u0275fac:we}),So=we({__NG_ELEMENT_ID__:we});let O1=0;function Wn(n){return fr(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||fe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||hn.Emulated,id:"c"+O1++,styles:n.styles||fe,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=xg(n.inputs,r),i.outputs=xg(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Ig).filter(Ag):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(_t).filter(Ag):null,i})}function Ig(n){return me(n)||yt(n)}function Ag(n){return null!==n}function It(n){return fr(()=>({type:n.type,bootstrap:n.bootstrap||fe,declarations:n.declarations||fe,imports:n.imports||fe,exports:n.exports||fe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xg(n,t){if(null==n)return gi;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const K=Wn;function me(n){return n[sa]||null}function yt(n){return n[iu]||null}function _t(n){return n[ou]||null}function jt(n,t){const e=n[Mg]||null;if(!e&&!0===t)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return e}function xt(n){return Array.isArray(n)&&"object"==typeof n[1]}function pn(n){return Array.isArray(n)&&!0===n[1]}function lu(n){return 0!=(8&n.flags)}function ua(n){return 2==(2&n.flags)}function da(n){return 1==(1&n.flags)}function gn(n){return null!==n.template}function j1(n){return 0!=(256&n[2])}function Gr(n,t){return n.hasOwnProperty(qn)?n[qn]:null}class z1{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ht(){return Ng}function Ng(n){return n.type.prototype.ngOnChanges&&(n.setInput=q1),G1}function G1(){const n=Og(this),t=n?.current;if(t){const e=n.previous;if(e===gi)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function q1(n,t,e,r){const i=Og(n)||function W1(n,t){return n[Rg]=t}(n,{previous:gi,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[e],l=s[a];o[a]=new z1(l&&l.currentValue,t,s===gi),n[r]=t}Ht.ngInherit=!0;const Rg="__ngSimpleChanges__";function Og(n){return n[Rg]||null}function $e(n){for(;Array.isArray(n);)n=n[0];return n}function ha(n,t){return $e(t[n])}function nn(n,t){return $e(t[n.index])}function fu(n,t){return n.data[t]}function zt(n,t){const e=t[n];return xt(e)?e:e[0]}function fa(n){return 64==(64&n[2])}function pr(n,t){return null==t?null:n[t]}function Fg(n){n[18]=0}function pu(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const Q={lFrame:qg(null),bindingsEnabled:!0};function Vg(){return Q.bindingsEnabled}function A(){return Q.lFrame.lView}function ue(){return Q.lFrame.tView}function B(n){return Q.lFrame.contextLView=n,n[8]}function U(n){return Q.lFrame.contextLView=null,n}function Ze(){let n=Bg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bg(){return Q.lFrame.currentTNode}function Mn(n,t){const e=Q.lFrame;e.currentTNode=n,e.isParent=t}function gu(){return Q.lFrame.isParent}function Ci(){return Q.lFrame.bindingIndex++}function Qn(n){const t=Q.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function lS(n,t){const e=Q.lFrame;e.bindingIndex=e.bindingRootIndex=n,yu(t)}function yu(n){Q.lFrame.currentDirectiveIndex=n}function Hg(){return Q.lFrame.currentQueryIndex}function vu(n){Q.lFrame.currentQueryIndex=n}function uS(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function zg(n,t,e){if(e&G.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&G.Host||(i=uS(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=Q.lFrame=Gg();return r.currentTNode=t,r.lView=n,!0}function wu(n){const t=Gg(),e=n[1];Q.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Gg(){const n=Q.lFrame,t=null===n?null:n.child;return null===t?qg(n):t}function qg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Wg(){const n=Q.lFrame;return Q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Kg=Wg;function Cu(){const n=Wg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wt(){return Q.lFrame.selectedIndex}function gr(n){Q.lFrame.selectedIndex=n}function Re(){const n=Q.lFrame;return fu(n.tView,n.selectedIndex)}function pa(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function ga(n,t,e){Qg(n,t,3,e)}function ma(n,t,e,r){(3&n[2])===e&&Qg(n,t,e,r)}function bu(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Qg(n,t,e,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(vS(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function vS(n,t,e,r){const i=e[r]<0,o=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class ko{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function ya(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{const o=i,s=e[++r];Zg(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function Yg(n){return 3===n||4===n||6===n}function Zg(n){return 64===n.charCodeAt(0)}function _a(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Jg(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Jg(n,t,e,r,i){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Xg(n){return-1!==n}function bi(n){return 32767&n}function Di(n,t){let e=function ES(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let Eu=!0;function va(n){const t=Eu;return Eu=n,t}let SS=0;const In={};function No(n,t){const e=Tu(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,Su(r.data,n),Su(t,null),Su(r.blueprint,null));const i=wa(n,t),o=n.injectorIndex;if(Xg(i)){const s=bi(i),a=Di(i,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Su(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Tu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function wa(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=lm(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Ca(n,t,e){!function TS(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(So)&&(r=e[So]),null==r&&(r=e[So]=SS++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function nm(n,t,e){if(e&G.Optional||void 0!==n)return n;ra()}function rm(n,t,e,r){if(e&G.Optional&&void 0===r&&(r=null),0==(e&(G.Self|G.Host))){const i=n[9],o=Xt(void 0);try{return i?i.get(t,r,e&G.Optional):Tg(t,r,e&G.Optional)}finally{Xt(o)}}return nm(r,0,e)}function im(n,t,e,r=G.Default,i){if(null!==n){if(1024&t[2]){const s=function kS(n,t,e,r,i){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=om(o,s,e,r|G.Self,In);if(a!==In)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(e,In,r);if(u!==In)return u}l=lm(s),s=s[15]}o=l}return i}(n,t,e,r,In);if(s!==In)return s}const o=om(n,t,e,r,In);if(o!==In)return o}return rm(t,e,r,i)}function om(n,t,e,r,i){const o=function AS(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(So)?n[So]:void 0;return"number"==typeof t?t>=0?255&t:xS:t}(e);if("function"==typeof o){if(!zg(t,n,r))return r&G.Host?nm(i,0,r):rm(t,e,r,i);try{const s=o(r);if(null!=s||r&G.Optional)return s;ra()}finally{Kg()}}else if("number"==typeof o){let s=null,a=Tu(n,t),l=-1,c=r&G.Host?t[16][6]:null;for((-1===a||r&G.SkipSelf)&&(l=-1===a?wa(n,t):t[a+8],-1!==l&&am(r,!1)?(s=t[1],a=bi(l),t=Di(l,t)):a=-1);-1!==a;){const u=t[1];if(sm(o,a,u.data)){const d=IS(a,t,e,s,r,c);if(d!==In)return d}l=t[a+8],-1!==l&&am(r,t[1].data[a+8]===c)&&sm(o,a,t)?(s=u,a=bi(l),t=Di(l,t)):a=-1}}return i}function IS(n,t,e,r,i,o){const s=t[1],a=s.data[n+8],u=ba(a,s,e,null==r?ua(a)&&Eu:r!=s&&0!=(3&a.type),i&G.Host&&o===a);return null!==u?Ro(t,s,u,a):In}function ba(n,t,e,r,i){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const y=s[f];if(f<l&&e===y||f>=l&&y.type===e)return f}if(i){const f=s[l];if(f&&gn(f)&&f.type===e)return l}return null}function Ro(n,t,e,r){let i=n[e];const o=t.data;if(function wS(n){return n instanceof ko}(i)){const s=i;s.resolving&&function S1(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${e}`)}(function he(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Y(n)}(o[e]));const a=va(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Xt(s.injectImpl):null;zg(n,r,G.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function _S(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Ng(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Xt(l),va(a),s.resolving=!1,Kg()}}return i}function sm(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function am(n,t){return!(n&G.Self||n&G.Host&&t)}class Ei{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return im(this._tNode,this._lView,t,r,e)}}function xS(){return new Ei(Ze(),A())}function ut(n){return fr(()=>{const t=n.prototype.constructor,e=t[qn]||Mu(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[qn]||Mu(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Mu(n){return tu(n)?()=>{const t=Mu(W(n));return t&&t()}:Gr(n)}function lm(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}const Ti="__parameters__";function Ii(n,t,e){return fr(()=>{const r=function Iu(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Ti)?l[Ti]:Object.defineProperty(l,Ti,{value:[]})[Ti];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ${constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=H({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gt(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Gt(r,t)):t!==n&&t.push(r)}return t}function Yn(n,t){n.forEach(e=>Array.isArray(e)?Yn(e,t):t(e))}function um(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Da(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function qt(n,t,e){let r=Ai(n,t);return r>=0?n[1|r]=e:(r=~r,function OS(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function xu(n,t){const e=Ai(n,t);if(e>=0)return n[1|e]}function Ai(n,t){return function fm(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Bo={},Pu="__NG_DI_FLAG__",Sa="ngTempTokenPath",HS=/\n/gm,pm="__source";let Uo;function xi(n){const t=Uo;return Uo=n,t}function GS(n,t=G.Default){if(void 0===Uo)throw new S(-203,!1);return null===Uo?Tg(n,void 0,t):Uo.get(n,t&G.Optional?null:void 0,t)}function F(n,t=G.Default){return(function R1(){return ru}()||GS)(W(n),t)}function Le(n,t=G.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),F(n,t)}function Nu(n){const t=[];for(let e=0;e<n.length;e++){const r=W(n[e]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,o=G.Default;for(let s=0;s<r.length;s++){const a=r[s],l=qS(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(F(i,o))}else t.push(F(r))}return t}function jo(n,t){return n[Pu]=t,n.prototype[Pu]=t,n}function qS(n){return n[Pu]}const $o=jo(Ii("Optional"),8),Ho=jo(Ii("SkipSelf"),4);let Ou;class Mm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yr(n){return n instanceof Mm?n.changingThisBreaksApplicationSecurity:n}const mT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var He=(()=>((He=He||{})[He.NONE=0]="NONE",He[He.HTML=1]="HTML",He[He.STYLE=2]="STYLE",He[He.SCRIPT=3]="SCRIPT",He[He.URL=4]="URL",He[He.RESOURCE_URL=5]="RESOURCE_URL",He))();function qr(n){const t=function Ko(){const n=A();return n&&n[12]}();return t?t.sanitize(He.URL,n)||"":function qo(n,t){const e=function hT(n){return n instanceof Mm&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(n,"URL")?yr(n):function Vu(n){return(n=String(n)).match(mT)?n:"unsafe:"+n}(Y(n))}const $u=new $("ENVIRONMENT_INITIALIZER"),Om=new $("INJECTOR",-1),Fm=new $("INJECTOR_DEF_TYPES");class Lm{get(t,e=Bo){if(e===Bo){const r=new Error(`NullInjectorError: No provider for ${Ce(t)}!`);throw r.name="NullInjectorError",r}return e}}function xT(...n){return{\u0275providers:Vm(0,n)}}function Vm(n,...t){const e=[],r=new Set;let i;return Yn(t,o=>{const s=o;Hu(s,e,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&Bm(i,e),e}function Bm(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];Yn(i,o=>{t.push(o)})}}function Hu(n,t,e,r){if(!(n=W(n)))return!1;let i=null,o=Eg(n);const s=!o&&me(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=Eg(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Hu(c,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Yn(o.imports,u=>{Hu(u,t,e,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Bm(c,t)}if(!a){const c=Gr(i)||(()=>new i);t.push({provide:i,useFactory:c,deps:fe},{provide:Fm,useValue:i,multi:!0},{provide:$u,useValue:()=>F(i),multi:!0})}const l=o.providers;null==l||a||Yn(l,u=>{t.push(u)})}}return i!==n&&void 0!==n.providers}const kT=we({provide:String,useValue:we});function zu(n){return null!==n&&"object"==typeof n&&kT in n}function Wr(n){return"function"==typeof n}const Gu=new $("Set Injector scope."),ka={},NT={};let qu;function Pa(){return void 0===qu&&(qu=new Lm),qu}class _r{}class $m extends _r{constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ku(t,s=>this.processProvider(s)),this.records.set(Om,Ni(void 0,this)),i.has("environment")&&this.records.set(_r,Ni(void 0,this));const o=this.records.get(Gu);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Fm.multi,fe,G.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=xi(this),r=Xt(void 0);try{return t()}finally{xi(e),Xt(r)}}get(t,e=Bo,r=G.Default){this.assertNotDestroyed();const i=xi(this),o=Xt(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function VT(n){return"function"==typeof n||"object"==typeof n&&n instanceof $}(t)&&ia(t);a=l&&this.injectableDefInScope(l)?Ni(Wu(t),ka):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&G.Self?Pa():this.parent).get(t,e=r&G.Optional&&e===Bo?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Sa]=s[Sa]||[]).unshift(Ce(t)),i)throw s;return function WS(n,t,e,r){const i=n[Sa];throw t[pm]&&i.unshift(t[pm]),n.message=function KS(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ce(t);if(Array.isArray(t))i=t.map(Ce).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ce(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(HS,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Sa]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Xt(o),xi(i)}}resolveInjectorInitializers(){const t=xi(this),e=Xt(void 0);try{const r=this.get($u.multi,fe,G.Self);for(const i of r)i()}finally{xi(t),Xt(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(Ce(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(t){let e=Wr(t=W(t))?t:W(t&&t.provide);const r=function OT(n){return zu(n)?Ni(void 0,n.useValue):Ni(Hm(n),ka)}(t);if(Wr(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Ni(void 0,ka,!0),i.factory=()=>Nu(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===ka&&(e.value=NT,e.value=e.factory()),"object"==typeof e.value&&e.value&&function LT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=W(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Wu(n){const t=ia(n),e=null!==t?t.factory:Gr(n);if(null!==e)return e;if(n instanceof $)throw new S(204,!1);if(n instanceof Function)return function RT(n){const t=n.length;if(t>0)throw function Vo(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}(t,"?"),new S(204,!1);const e=function k1(n){const t=n&&(n[oa]||n[Sg]);if(t){const e=function P1(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new S(204,!1)}function Hm(n,t,e){let r;if(Wr(n)){const i=W(n);return Gr(i)||Wu(i)}if(zu(n))r=()=>W(n.useValue);else if(function jm(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Nu(n.deps||[]));else if(function Um(n){return!(!n||!n.useExisting)}(n))r=()=>F(W(n.useExisting));else{const i=W(n&&(n.useClass||n.provide));if(!function FT(n){return!!n.deps}(n))return Gr(i)||Wu(i);r=()=>new i(...Nu(n.deps))}return r}function Ni(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function BT(n){return!!n.\u0275providers}function Ku(n,t){for(const e of n)Array.isArray(e)?Ku(e,t):BT(e)?Ku(e.\u0275providers,t):t(e)}class zm{}class $T{resolveComponentFactory(t){throw function jT(n){const t=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Qo=(()=>{class n{}return n.NULL=new $T,n})();function HT(){return Ri(Ze(),A())}function Ri(n,t){return new Wt(nn(n,t))}let Wt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=HT,n})();function zT(n){return n instanceof Wt?n.nativeElement:n}class Yo{}let Jn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function GT(){const n=A(),e=zt(Ze().index,n);return(xt(e)?e:n)[11]}(),n})(),qT=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class Zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const WT=new Zo("14.2.2"),Qu={};function ed(n){return n.ngOriginalError}class Oi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&ed(t);for(;e&&ed(e);)e=ed(e);return e||null}}const td=new Map;let oM=0;const rd="__ngContext__";function dt(n,t){xt(t)?(n[rd]=t[20],function aM(n){td.set(n[20],n)}(t)):n[rd]=t}function ry(n){return n.ownerDocument.defaultView}function id(n){return n.ownerDocument}function Xn(n){return n instanceof Function?n():n}var kt=(()=>((kt=kt||{})[kt.Important=1]="Important",kt[kt.DashCase=2]="DashCase",kt))();function sd(n,t){return undefined(n,t)}function Xo(n){const t=n[3];return pn(t)?t[3]:t}function ad(n){return sy(n[13])}function ld(n){return sy(n[4])}function sy(n){for(;null!==n&&!pn(n);)n=n[4];return n}function Li(n,t,e,r,i){if(null!=r){let o,s=!1;pn(r)?o=r:xt(r)&&(s=!0,r=r[0]);const a=$e(r);0===n&&null!==e?null==i?hy(t,e,a):Kr(t,e,a,i||null,!0):1===n&&null!==e?Kr(t,e,a,i||null,!0):2===n?function vy(n,t,e){const r=Na(n,t);r&&function PM(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function OM(n,t,e,r,i){const o=e[7];o!==$e(e)&&Li(t,n,r,o,i);for(let a=10;a<e.length;a++){const l=e[a];es(l[1],l,n,t,r,o)}}(t,n,o,e,i)}}function ud(n,t,e){return n.createElement(t,e)}function ly(n,t){const e=n[9],r=e.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,pu(i,-1)),e.splice(r,1)}function dd(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&ly(i,r),t>0&&(n[e-1][4]=r[4]);const o=Da(n,10+t);!function EM(n,t){es(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function cy(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&es(n,t,e,3,null,null),function MM(n){let t=n[13];if(!t)return hd(n[1],n);for(;t;){let e=null;if(xt(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)xt(t)&&hd(t[1],t),t=t[3];null===t&&(t=n),xt(t)&&hd(t[1],t),e=t&&t[4]}t=e}}(t)}}function hd(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function kM(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof ko)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function xM(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):$e(t[s]),l=r[i=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=e[o+1]];e[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&pn(t[3])){e!==t[3]&&ly(e,t);const r=t[19];null!==r&&r.detachView(n)}!function lM(n){td.delete(n[20])}(t)}}function uy(n,t,e){return function dy(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===hn.None||i===hn.Emulated)return null}return nn(r,e)}(n,t.parent,e)}function Kr(n,t,e,r,i){n.insertBefore(t,e,r,i)}function hy(n,t,e){n.appendChild(t,e)}function fy(n,t,e,r,i){null!==r?Kr(n,t,e,r,i):hy(n,t,e)}function Na(n,t){return n.parentNode(t)}let my=function gy(n,t,e){return 40&n.type?nn(n,e):null};function Ra(n,t,e,r){const i=uy(n,r,t),o=t[11],a=function py(n,t,e){return my(n,t,e)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)fy(o,i,e[l],a,!1);else fy(o,i,e,a,!1)}function Oa(n,t){if(null!==t){const e=t.type;if(3&e)return nn(t,n);if(4&e)return pd(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Oa(n,r);{const i=n[t.index];return pn(i)?pd(-1,i):$e(i)}}if(32&e)return sd(t,n)()||$e(n[t.index]);{const r=_y(n,t);return null!==r?Array.isArray(r)?r[0]:Oa(Xo(n[16]),r):Oa(n,t.next)}}return null}function _y(n,t){return null!==t?n[16][6].projection[t.projection]:null}function pd(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Oa(r,i)}return t[7]}function gd(n,t,e,r,i,o,s){for(;null!=e;){const a=r[e.index],l=e.type;if(s&&0===t&&(a&&dt($e(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)gd(n,t,e.child,r,i,o,!1),Li(t,n,i,a,o);else if(32&l){const c=sd(e,r);let u;for(;u=c();)Li(t,n,i,u,o);Li(t,n,i,a,o)}else 16&l?wy(n,t,r,e,i,o):Li(t,n,i,a,o);e=s?e.projectionNext:e.next}}function es(n,t,e,r,i,o){gd(e,r,n.firstChild,t,i,o,!1)}function wy(n,t,e,r,i,o){const s=e[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Li(t,n,i,l[c],o);else gd(n,t,l,s[3],i,o,!0)}function Cy(n,t,e){n.setAttribute(t,"style",e)}function md(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function by(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const Dy="ng-template";function LM(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==by(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Ey(n){return 4===n.type&&n.value!==Dy}function VM(n,t,e){return t===(4!==n.type||e?n.value:Dy)}function BM(n,t,e){let r=4;const i=n.attrs||[],o=function $M(n){for(let t=0;t<n.length;t++)if(Yg(n[t]))return t;return n.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!VM(n,l,e)||""===l&&1===t.length){if(mn(r))return!1;s=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!LM(n.attrs,c,e)){if(mn(r))return!1;s=!0}continue}const d=UM(8&r?"class":l,i,Ey(n),e);if(-1===d){if(mn(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==by(f,c,0)||2&r&&c!==h){if(mn(r))return!1;s=!0}}}}else{if(!s&&!mn(r)&&!mn(l))return!1;if(s&&mn(l))continue;s=!1,r=l|1&r}}return mn(r)||s}function mn(n){return 0==(1&n)}function UM(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function HM(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Sy(n,t,e=!1){for(let r=0;r<t.length;r++)if(BM(n,t[r],e))return!0;return!1}function Ty(n,t){return n?":not("+t.trim()+")":t}function GM(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!mn(s)&&(t+=Ty(o,i),i=""),r=s,o=o||!mn(r);e++}return""!==i&&(t+=Ty(o,i)),t}const Z={};function v(n){My(ue(),A(),wt()+n,!1)}function My(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&ga(t,o,e)}else{const o=n.preOrderHooks;null!==o&&ma(t,o,0,e)}gr(e)}function ky(n,t=null,e=null,r){const i=Py(n,t,e,r);return i.resolveInjectorInitializers(),i}function Py(n,t=null,e=null,r,i=new Set){const o=[e||fe,xT(n)];return r=r||("object"==typeof n?void 0:Ce(n)),new $m(o,t||Pa(),r||null,i)}let Kt=(()=>{class n{static create(e,r){if(Array.isArray(e))return ky({name:""},r,e,"");{const i=e.name??"";return ky({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=Bo,n.NULL=new Lm,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>F(Om)}),n.__NG_ELEMENT_ID__=-1,n})();function T(n,t=G.Default){const e=A();return null===e?F(n,t):im(Ze(),e,W(n),t)}function Cd(){throw new Error("invalid")}function La(n,t){return n<<17|t<<2}function yn(n){return n>>17&32767}function bd(n){return 2|n}function er(n){return(131068&n)>>2}function Dd(n,t){return-131069&n|t<<2}function Ed(n){return 1|n}function Qy(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const s=n.data[o];vu(i),s.contentQueries(2,t[o],o)}}}function Ua(n,t,e,r,i,o,s,a,l,c,u){const d=t.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),Fg(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function sM(){return oM++}(),d[21]=u,d[16]=2==t.type?n[16]:d,d}function Bi(n,t,e,r,i){let o=n.data[t];if(null===o)o=function Pd(n,t,e,r,i){const o=Bg(),s=gu(),l=n.data[t]=function MI(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,r,i),function aS(){return Q.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function xo(){const n=Q.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mn(o,!0),o}function Ui(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Nd(n,t,e){wu(t);try{const r=n.viewQuery;null!==r&&jd(1,r,e);const i=n.template;null!==i&&Yy(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Qy(n,t),n.staticViewQueries&&jd(2,n.viewQuery,e);const o=n.components;null!==o&&function EI(n,t){for(let e=0;e<t.length;e++)HI(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Cu()}}function ja(n,t,e,r){const i=t[2];if(128!=(128&i)){wu(t);try{Fg(t),function jg(n){return Q.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Yy(n,t,e,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&ga(t,c,null)}else{const c=n.preOrderHooks;null!==c&&ma(t,c,0,null),bu(t,0)}if(function jI(n){for(let t=ad(n);null!==t;t=ld(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(512&i[2])&&pu(o,1),i[2]|=512}}}(t),function UI(n){for(let t=ad(n);null!==t;t=ld(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];fa(r)&&ja(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&Qy(n,t),s){const c=n.contentCheckHooks;null!==c&&ga(t,c)}else{const c=n.contentHooks;null!==c&&ma(t,c,1),bu(t,1)}!function bI(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)gr(~i);else{const o=i,s=e[++r],a=e[++r];lS(s,o),a(2,t[o])}}}finally{gr(-1)}}(n,t);const a=n.components;null!==a&&function DI(n,t){for(let e=0;e<t.length;e++)$I(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&jd(2,l,r),s){const c=n.viewCheckHooks;null!==c&&ga(t,c)}else{const c=n.viewHooks;null!==c&&ma(t,c,2),bu(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,pu(t[3],-1))}finally{Cu()}}}function Yy(n,t,e,r,i){const o=wt(),s=2&r;try{gr(-1),s&&t.length>22&&My(n,t,22,!1),e(r,i)}finally{gr(o)}}function Rd(n,t,e){!Vg()||(function PI(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||No(e,t),dt(r,t);const s=e.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=gn(l);c&&LI(t,e,l);const u=Ro(t,n,a,e);dt(u,t),null!==s&&VI(0,a-i,u,l,0,s),c&&(zt(e.index,t)[8]=u)}}(n,t,e,nn(e,t)),128==(128&e.flags)&&function NI(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function cS(){return Q.lFrame.currentDirectiveIndex}();try{gr(o);for(let a=r;a<i;a++){const l=n.data[a],c=t[a];yu(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&i_(l,c)}}finally{gr(-1),yu(s)}}(n,t,e))}function Od(n,t,e=nn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(t,n):n[s];n[i++]=a}}}function Jy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Fd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Fd(n,t,e,r,i,o,s,a,l,c){const u=22+r,d=u+i,h=function SI(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Z);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Xy(n,t,e,r){const i=c_(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&u_(n).push(r,i.length-1))}function e_(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function t_(n,t){const r=t.directiveEnd,i=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===o||Ey(t)?null:BI(d,o);s.push(h),a=e_(d,c,a),l=e_(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}function Qt(n,t,e,r,i,o,s,a){const l=nn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?($d(n,e,u,r,i),ua(t)&&n_(e,t.index)):3&t.type&&(r=function II(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}function n_(n,t){const e=zt(t,n);16&e[2]||(e[2]|=32)}function Ld(n,t,e,r){let i=!1;if(Vg()){const o=function RI(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Sy(e,s.selectors,!1)&&(i||(i=[]),Ca(No(e,t),n,s.type),gn(s)?(o_(n,e),i.unshift(s)):i.push(s))}return i}(n,t,e),s=null===r?null:{"":-1};if(null!==o){i=!0,s_(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Ui(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=_a(e.mergedAttrs,d.hostAttrs),a_(n,e,t,c,d),FI(c,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}t_(n,e)}s&&function OI(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new S(-301,!1);r.push(t[i],o)}}}(e,r,s)}return e.mergedAttrs=_a(e.mergedAttrs,e.attrs),i}function r_(n,t,e,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function kI(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function i_(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function o_(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function FI(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;gn(t)&&(e[""]=n)}}function s_(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function a_(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=Gr(i.type)),s=new ko(o,gn(i),T);n.blueprint[r]=s,e[r]=s,r_(n,t,0,r,Ui(n,e,i.hostVars,Z),i)}function LI(n,t,e){const r=nn(t,n),i=Jy(e),o=n[10],s=$a(n,Ua(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=s}function An(n,t,e,r,i,o){const s=nn(n,t);!function Vd(n,t,e,r,i,o,s){if(null==o)n.removeAttribute(t,i,e);else{const a=null==s?Y(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}(t[11],s,o,n.value,e,r,i)}function VI(n,t,e,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(e,d,c,u):e[u]=d}}}function BI(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function l_(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function $I(n,t){const e=zt(t,n);if(fa(e)){const r=e[1];48&e[2]?ja(r,e,r.template,e[8]):e[5]>0&&Bd(e)}}function Bd(n){for(let r=ad(n);null!==r;r=ld(r))for(let i=10;i<r.length;i++){const o=r[i];if(fa(o))if(512&o[2]){const s=o[1];ja(s,o,s.template,o[8])}else o[5]>0&&Bd(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=zt(e[r],n);fa(i)&&i[5]>0&&Bd(i)}}function HI(n,t){const e=zt(t,n),r=e[1];(function zI(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),Nd(r,e,e[8])}function $a(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Ud(n){for(;n;){n[2]|=32;const t=Xo(n);if(j1(n)&&!t)return n;n=t}return null}function Ha(n,t,e,r=!0){const i=t[10];i.begin&&i.begin();try{ja(n,t,n.template,e)}catch(s){throw r&&h_(t,s),s}finally{i.end&&i.end()}}function jd(n,t,e){vu(0),t(n,e)}function c_(n){return n[7]||(n[7]=[])}function u_(n){return n.cleanup||(n.cleanup=[])}function h_(n,t){const e=n[9],r=e?e.get(Oi,null):null;r&&r.handleError(t)}function $d(n,t,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function tr(n,t,e){const r=ha(t,n);!function ay(n,t,e){n.setValue(t,e)}(n[11],r,e)}function za(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=eu(i,a):2==o&&(r=eu(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function Ga(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push($e(o)),pn(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Ga(l[1],l,c,r)}const s=e.type;if(8&s)Ga(n,t,e.child,r);else if(32&s){const a=sd(e,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=_y(t,e);if(Array.isArray(a))r.push(...a);else{const l=Xo(t[16]);Ga(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class ts{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ga(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pn(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(dd(t,r),Da(e,r))}this._attachedToViewContainer=!1}cy(this._lView[1],this._lView)}onDestroy(t){Xy(this._lView[1],this._lView,null,t)}markForCheck(){Ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ha(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TM(n,t){es(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t}}class GI extends ts{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ha(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Hd extends Qo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=me(t);return new ns(e,this.ngModule)}}function f_(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class WI{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const i=this.injector.get(t,Qu,r);return i!==Qu||e===Qu?i:this.parentInjector.get(t,e,r)}}class ns extends zm{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function qM(n){return n.map(GM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return f_(this.componentDef.inputs)}get outputs(){return f_(this.componentDef.outputs)}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof _r?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new WI(t,o):t,a=s.get(Yo,null);if(null===a)throw new S(407,!1);const l=s.get(qT,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function TI(n,t,e){return n.selectRootElement(t,e===hn.ShadowDom)}(c,r,this.componentDef.encapsulation):ud(a.createRenderer(null,this.componentDef),u,function qI(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,f=Fd(0,null,null,1,0,null,null,null,null,null),y=Ua(null,f,null,h,null,null,a,c,l,s,null);let _,C;wu(y);try{const E=function YI(n,t,e,r,i,o){const s=e[1];e[22]=n;const l=Bi(s,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(za(l,c,!0),null!==n&&(ya(i,n,c),null!==l.classes&&md(i,n,l.classes),null!==l.styles&&Cy(i,n,l.styles)));const u=r.createRenderer(n,t),d=Ua(e,Jy(t),null,t.onPush?32:16,e[22],l,r,u,o||null,null,null);return s.firstCreatePass&&(Ca(No(l,e),s,t.type),o_(s,l),s_(l,e.length,1)),$a(e,d),e[22]=d}(d,this.componentDef,y,a,c);if(d)if(r)ya(c,d,["ng-version",WT.full]);else{const{attrs:x,classes:D}=function WM(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!mn(i))break;i=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);x&&ya(c,d,x),D&&D.length>0&&md(c,d,D.join(" "))}if(C=fu(f,22),void 0!==e){const x=C.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const P=e[D];x.push(null!=P?Array.from(P):null)}}_=function ZI(n,t,e,r){const i=e[1],o=function xI(n,t,e){const r=Ze();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),a_(n,r,t,Ui(n,t,1,null),e),t_(n,r));const i=Ro(t,n,r.directiveStart,r);dt(i,t);const o=nn(r,t);return o&&dt(o,t),i}(i,e,t);if(n[8]=e[8]=o,null!==r)for(const a of r)a(o,t);if(t.contentQueries){const a=Ze();t.contentQueries(1,o,a.directiveStart)}const s=Ze();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(gr(s.index),r_(e[1],s,0,s.directiveStart,s.directiveEnd,t),i_(t,o)),o}(E,this.componentDef,y,[JI]),Nd(f,y,null)}finally{Cu()}return new QI(this.componentType,_,Ri(C,y),y,C)}}class QI extends class UT{}{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new GI(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;$d(o[1],o,i,t,e),n_(o,this._tNode.index)}}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function JI(){const n=Ze();pa(A()[1],n)}function ye(n){let t=function p_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(gn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=zd(n.inputs),s.declaredInputs=zd(n.declaredInputs),s.outputs=zd(n.outputs);const a=i.hostBindings;a&&nA(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&eA(n,l),c&&tA(n,c),Xc(n.inputs,i.inputs),Xc(n.declaredInputs,i.declaredInputs),Xc(n.outputs,i.outputs),gn(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ye&&(e=!1)}}t=Object.getPrototypeOf(t)}!function XI(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=_a(i.hostAttrs,e=_a(e,i.hostAttrs))}}(r)}function zd(n){return n===gi?{}:n===fe?[]:n}function eA(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function tA(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function nA(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let qa=null;function Qr(){if(!qa){const n=be.Symbol;if(n&&n.iterator)qa=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(qa=r)}}}return qa}function rs(n){return!!Gd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qr()in n)}function Gd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ht(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function kn(n,t,e,r){const i=A();return ht(i,Ci(),t)&&(ue(),An(Re(),i,n,t,e,r)),kn}function $i(n,t,e,r){return ht(n,Ci(),e)?t+Y(e)+r:Z}function Hi(n,t,e,r,i,o){const a=function Yr(n,t,e,r){const i=ht(n,t,e);return ht(n,t+1,r)||i}(n,function Kn(){return Q.lFrame.bindingIndex}(),e,i);return Qn(2),a?t+Y(e)+r+Y(i)+o:Z}function I(n,t,e,r,i,o,s,a){const l=A(),c=ue(),u=n+22,d=c.firstCreatePass?function uA(n,t,e,r,i,o,s,a,l){const c=t.consts,u=Bi(t,n,4,s||null,pr(c,a));Ld(t,e,u,pr(c,l)),pa(t,u);const d=u.tViews=Fd(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,r,i,o,s):c.data[u];Mn(d,!1);const h=l[11].createComment("");Ra(c,l,h,d),dt(h,l),$a(l,l[u]=l_(h,l,h,d)),da(d)&&Rd(c,l,d),null!=s&&Od(l,d,a)}function qd(n){return function wi(n,t){return n[t]}(function sS(){return Q.lFrame.contextLView}(),22+n)}function w(n,t,e){const r=A();return ht(r,Ci(),t)&&Qt(ue(),Re(),r,n,t,r[11],e,!1),w}function Wd(n,t,e,r,i){const s=i?"class":"style";$d(n,e,t.inputs[s],s,r)}function m(n,t,e,r){const i=A(),o=ue(),s=22+n,a=i[11],l=i[s]=ud(a,t,function yS(){return Q.lFrame.currentNamespace}()),c=o.firstCreatePass?function hA(n,t,e,r,i,o,s){const a=t.consts,c=Bi(t,n,2,i,pr(a,o));return Ld(t,e,c,pr(a,s)),null!==c.attrs&&za(c,c.attrs,!1),null!==c.mergedAttrs&&za(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,0,t,e,r):o.data[s];Mn(c,!0);const u=c.mergedAttrs;null!==u&&ya(a,l,u);const d=c.classes;null!==d&&md(a,l,d);const h=c.styles;return null!==h&&Cy(a,l,h),64!=(64&c.flags)&&Ra(o,i,l,c),0===function tS(){return Q.lFrame.elementDepthCount}()&&dt(l,i),function nS(){Q.lFrame.elementDepthCount++}(),da(c)&&(Rd(o,i,c),function Zy(n,t,e){if(lu(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}(o,c,i)),null!==r&&Od(i,c),m}function g(){let n=Ze();gu()?function mu(){Q.lFrame.isParent=!1}():(n=n.parent,Mn(n,!1));const t=n;!function rS(){Q.lFrame.elementDepthCount--}();const e=ue();return e.firstCreatePass&&(pa(e,n),lu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function bS(n){return 0!=(16&n.flags)}(t)&&Wd(e,t,A(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function DS(n){return 0!=(32&n.flags)}(t)&&Wd(e,t,A(),t.stylesWithoutHost,!1),g}function M(n,t,e,r){return m(n,t,e,r),g(),M}function re(){return A()}function os(n){return!!n&&"function"==typeof n.then}const Yd=function S_(n){return!!n&&"function"==typeof n.subscribe};function k(n,t,e,r){const i=A(),o=ue(),s=Ze();return function M_(n,t,e,r,i,o,s,a){const l=da(r),u=n.firstCreatePass&&u_(n),d=t[8],h=c_(t);let f=!0;if(3&r.type||a){const C=nn(r,t),E=a?a(C):C,x=h.length,D=a?J=>a($e(J[r.index])):r.index;let P=null;if(!a&&l&&(P=function pA(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=t[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,f=!1;else{o=A_(r,t,d,o,!1);const J=e.listen(E,i,o);h.push(o,J),u&&u.push(i,D,x,x+1)}}else o=A_(r,t,d,o,!1);const y=r.outputs;let _;if(f&&null!==y&&(_=y[i])){const C=_.length;if(C)for(let E=0;E<C;E+=2){const oe=t[_[E]][_[E+1]].subscribe(o),Ie=h.length;h.push(o,oe),u&&u.push(i,r.index,Ie,-(Ie+1))}}}(o,i,i[11],s,n,t,0,r),k}function I_(n,t,e,r){try{return!1!==e(r)}catch(i){return h_(n,i),!1}}function A_(n,t,e,r,i){return function o(s){if(s===Function)return r;Ud(2&n.flags?zt(n.index,t):t);let l=I_(t,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=I_(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function b(n=1){return function dS(n){return(Q.lFrame.contextLView=function hS(n,t){for(;n>0;)t=t[15],n--;return t}(n,Q.lFrame.contextLView))[8]}(n)}function Yi(n,t,e){return Zd(n,"",t,"",e),Yi}function Zd(n,t,e,r,i){const o=A(),s=$i(o,t,e,r);return s!==Z&&Qt(ue(),Re(),o,n,s,o[11],i,!1),Zd}function V_(n,t,e,r,i){const o=n[e+1],s=null===t;let a=r?yn(o):er(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];wA(n[a],t)&&(l=!0,n[a+1]=r?Ed(u):bd(u)),a=r?yn(u):er(u)}l&&(n[e+1]=r?bd(o):Ed(o))}function wA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ai(n,t)>=0}function Ka(n,t){return function _n(n,t,e,r){const i=A(),o=ue(),s=Qn(2);o.firstUpdatePass&&function W_(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[wt()],s=function q_(n,t){return t>=n.expandoStartIndex}(n,e);(function Z_(n,t){return 0!=(n.flags&(t?16:32))})(o,r)&&null===t&&!s&&(t=!1),t=function AA(n,t,e,r){const i=function _u(n){const t=Q.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=ss(e=Jd(null,n,t,e,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=Jd(i,n,t,e,r),null===o){let l=function xA(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==er(r))return n[yn(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=Jd(null,n,t,l[1],r),l=ss(l,t.attrs,r),function kA(n,t,e,r){n[yn(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else o=function PA(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ss(r,n[o].hostAttrs,e);return ss(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function _A(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=yn(s),l=er(s);n[r]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||Ai(d,u)>0)&&(c=!0)}else u=e;if(i)if(0!==l){const h=yn(n[a+1]);n[r+1]=La(h,a),0!==h&&(n[h+1]=Dd(n[h+1],r)),n[a+1]=function hI(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=La(a,0),0!==a&&(n[a+1]=Dd(n[a+1],r)),a=r;else n[r+1]=La(l,0),0===a?a=r:n[l+1]=Dd(n[l+1],r),l=r;c&&(n[r+1]=bd(n[r+1])),V_(n,u,r,!0),V_(n,u,r,!1),function vA(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Ai(o,t)>=0&&(e[r+1]=Ed(e[r+1]))}(t,u,n,r,o),s=La(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,e,s,r)}}(o,n,s,r),t!==Z&&ht(i,s,t)&&function Q_(n,t,e,r,i,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];Qa(function jy(n){return 1==(1&n)}(c)?Y_(l,t,e,i,er(c),s):void 0)||(Qa(o)||function Uy(n){return 2==(2&n)}(c)&&(o=Y_(l,null,e,i,a,s)),function FM(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:kt.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=kt.Important),n.setStyle(e,r,i,o))}}(r,s,ha(wt(),e),i,o))}(o,o.data[wt()],i,i[11],n,i[s+1]=function OA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ce(yr(n)))),n}(t,e),r,s)}(n,t,null,!0),Ka}function Jd(n,t,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],r=ss(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function ss(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),qt(n,s,!!e||t[++o]))}return void 0===n?null:n}function Y_(n,t,e,r,i,o){const s=null===t;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[i+1];h===Z&&(h=d?fe:void 0);let f=d?xu(h,r):u===r?h:void 0;if(c&&!Qa(f)&&(f=xu(l,r)),Qa(f)&&(a=f,s))return a;const y=n[i+1];i=s?yn(y):er(y)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=xu(l,r))}return a}function Qa(n){return void 0!==n}function p(n,t=""){const e=A(),r=ue(),i=n+22,o=r.firstCreatePass?Bi(r,i,1,t,null):r.data[i],s=e[i]=function cd(n,t){return n.createText(t)}(e[11],t);Ra(r,e,s,o),Mn(o,!1)}function nr(n){return ze("",n,""),nr}function ze(n,t,e){const r=A(),i=$i(r,n,t,e);return i!==Z&&tr(r,wt(),i),ze}function Ji(n,t,e,r,i){const o=A(),s=Hi(o,n,t,e,r,i);return s!==Z&&tr(o,wt(),s),Ji}const eo="en-US";let _v=eo;function th(n,t,e,r,i){if(n=W(n),Array.isArray(n))for(let o=0;o<n.length;o++)th(n[o],t,e,r,i);else{const o=ue(),s=A();let a=Wr(n)?n:W(n.provide),l=Hm(n);const c=Ze(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Wr(n)||!n.multi){const f=new ko(l,i,T),y=rh(a,t,i?u:u+h,d);-1===y?(Ca(No(c,s),o,a),nh(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[y]=f,s[y]=f)}else{const f=rh(a,t,u+h,d),y=rh(a,t,u,u+h),_=f>=0&&e[f],C=y>=0&&e[y];if(i&&!C||!i&&!_){Ca(No(c,s),o,a);const E=function Xx(n,t,e,r,i){const o=new ko(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,Hv(o,i,r&&!e),o}(i?Jx:Zx,e.length,i,r,l);!i&&C&&(e[y].providerFactory=E),nh(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(E),s.push(E)}else nh(o,n,f>-1?f:y,Hv(e[i?y:f],l,!i&&r));!i&&r&&C&&e[y].componentProviders++}}}function nh(n,t,e,r){const i=Wr(t),o=function PT(n){return!!n.useClass}(t);if(i||o){const l=(o?W(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function Hv(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function rh(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function Zx(n,t,e,r){return ih(this.multi,[])}function Jx(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ro(e,e[1],this.providerFactory.index,r);o=a.slice(0,s),ih(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ih(i,o);return o}function ih(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function xe(n,t=[]){return e=>{e.providersResolver=(r,i)=>function Yx(n,t,e){const r=ue();if(r.firstCreatePass){const i=gn(n);th(e,r.data,r.blueprint,i,!0),th(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Jr{}class zv{}class Gv extends Jr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hd(this);const r=jt(t);this._bootstrapComponents=Xn(r.bootstrap),this._r3Injector=Py(t,e,[{provide:Jr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],Ce(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class oh extends zv{constructor(t){super(),this.moduleType=t}create(t){return new Gv(this.moduleType,t)}}class tk extends Jr{constructor(t,e,r){super(),this.componentFactoryResolver=new Hd(this),this.instance=null;const i=new $m([...t,{provide:Jr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],e||Pa(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function el(n,t,e=null){return new tk(n,t,e).injector}let nk=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=Vm(0,e.type),i=r.length>0?el([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(F(_r))}),n})();function qv(n){n.getStandaloneInjector=t=>t.get(nk).getOrCreateStandaloneInjector(n)}function Xv(n,t,e){const r=function vt(){const n=Q.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}()+n,i=A();return i[r]===Z?function xn(n,t,e){return n[t]=e}(i,r,e?t.call(e):t()):function is(n,t){return n[t]}(i,r)}function ah(n){return t=>{setTimeout(n,void 0,t)}}const Me=class Mk extends Lt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=ah(o),i&&(i=ah(i)),s&&(s=ah(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof at&&t.add(a),a}};function Ik(){return this._results[Qr()]()}class lh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Qr(),r=lh.prototype;r[e]||(r[e]=Ik)}get changes(){return this._changes||(this._changes=new Me)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=Gt(t);(this._changesDetected=!function NS(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rr=(()=>{class n{}return n.__NG_ELEMENT_ID__=kk,n})();const Ak=rr,xk=class extends Ak{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=Ua(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),Nd(r,i,t),new ts(i)}};function kk(){return tl(Ze(),A())}function tl(n,t){return 4&n.type?new xk(t,n,Ri(n,t)):null}let wn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Pk,n})();function Pk(){return aw(Ze(),A())}const Nk=wn,ow=class extends Nk{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Ri(this._hostTNode,this._hostLView)}get injector(){return new Ei(this._hostTNode,this._hostLView)}get parentInjector(){const t=wa(this._hostTNode,this._hostLView);if(Xg(t)){const e=Di(t,this._hostLView),r=bi(t);return new Ei(e[1].data[r+8],e)}return new Ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=sw(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,i),s}createComponent(t,e,r,i,o){const s=t&&!function Lo(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new ns(me(t)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(_r,null);h&&(o=h)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const r=t._lView,i=r[1];if(function eS(n){return pn(n[3])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=r[3],h=new ow(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function IM(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],um(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function AM(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(i,r,s,o);const a=pd(o,s),l=r[11],c=Na(l,s[7]);return null!==c&&function SM(n,t,e,r,i,o){r[0]=i,r[6]=t,es(n,r,e,1,i,o)}(i,s[6],l,r,c,a),t.attachToViewContainerRef(),um(ch(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=sw(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=dd(this._lContainer,e);r&&(Da(ch(this._lContainer),e),cy(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=dd(this._lContainer,e);return r&&null!=Da(ch(this._lContainer),e)?new ts(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function sw(n){return n[8]}function ch(n){return n[8]||(n[8]=[])}function aw(n,t){let e;const r=t[n.index];if(pn(r))e=r;else{let i;if(8&n.type)i=$e(r);else{const o=t[11];i=o.createComment("");const s=nn(n,t);Kr(o,Na(o,s),i,function NM(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=l_(r,t,i,n),$a(t,e)}return new ow(e,n,t)}class uh{constructor(t){this.queryList=t,this.matches=null}clone(){return new uh(this.queryList)}setDirty(){this.queryList.setDirty()}}class dh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const s=e.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new dh(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==fw(t,e).matches&&this.queries[e].setDirty()}}class lw{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class hh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new hh(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new fh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,Fk(e,o)),this.matchTNodeWithReadOption(t,e,ba(e,t,o,!1,!1))}else r===rr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ba(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Wt||i===wn||i===rr&&4&e.type)this.addMatch(e.index,-2);else{const o=ba(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Fk(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function Vk(n,t,e,r){return-1===e?function Lk(n,t){return 11&n.type?Ri(n,t):4&n.type?tl(n,t):null}(t,n):-2===e?function Bk(n,t,e){return e===Wt?Ri(t,n):e===rr?tl(t,n):e===wn?aw(t,n):void 0}(n,t,r):Ro(n,n[1],e,t)}function cw(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:Vk(t,o[c],s[l+1],e.metadata.read))}i.matches=a}return i.matches}function ph(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const s=cw(n,t,i,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&ph(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];ph(f[1],f,c,r)}}}}}return r}function nl(n){const t=A(),e=ue(),r=Hg();vu(r+1);const i=fw(e,r);if(n.dirty&&function X1(n){return 4==(4&n[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?ph(e,t,r,[]):cw(e,t,i,r);n.reset(o,zT),n.notifyOnChanges()}return!0}return!1}function uw(n,t,e){const r=ue();r.firstCreatePass&&(function hw(n,t,e){null===n.queries&&(n.queries=new hh),n.queries.track(new fh(t,e))}(r,new lw(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),function dw(n,t,e){const r=new lh(4==(4&e));Xy(n,t,r,r.destroy),null===t[19]&&(t[19]=new dh),t[19].queries.push(new uh(r))}(r,A(),t)}function fw(n,t){return n.queries.getByIndex(t)}function ol(...n){}const gs=new $("Application Initializer");let sl=(()=>{class n{constructor(e){this.appInits=e,this.resolve=ol,this.reject=ol,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(os(o))e.push(o);else if(Yd(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(F(gs,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ms=new $("AppId",{providedIn:"root",factory:function Pw(){return`${wh()}${wh()}${wh()}`}});function wh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nw=new $("Platform Initializer"),al=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rw=new $("appBootstrapListener"),Ow=new $("AnimationModuleType");let lP=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ir=new $("LocaleId",{providedIn:"root",factory:()=>Le(ir,G.Optional|G.SkipSelf)||function cP(){return typeof $localize<"u"&&$localize.locale||eo}()});class dP{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Ch=(()=>{class n{compileModuleSync(e){return new oh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=Xn(jt(e).declarations).reduce((s,a)=>{const l=me(a);return l&&s.push(new ns(l)),s},[]);return new dP(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pP=(()=>Promise.resolve(0))();function bh(n){typeof Zone>"u"?pP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Fe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function gP(){let n=be.requestAnimationFrame,t=be.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function _P(n){const t=()=>{!function yP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(be,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Eh(n),n.isCheckStableRunning=!0,Dh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Eh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{try{return Vw(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),Bw(n)}},onInvoke:(e,r,i,o,s,a,l)=>{try{return Vw(n),e.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),Bw(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Eh(n),Dh(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new S(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,mP,ol,ol);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const mP={};function Dh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Eh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Vw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Bw(n){n._nesting--,Dh(n)}class vP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const Uw=new $(""),ll=new $("");let Mh,Sh=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Mh||(function wP(n){Mh=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),bh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(F(Fe),F(Th),F(ll))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Th=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Mh?.findTestabilityInTree(this,e,r)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Cr=null;const jw=new $("AllowMultipleToken"),Ih=new $("PlatformDestroyListeners");class $w{constructor(t,e){this.name=t,this.token=e}}function zw(n,t,e=[]){const r=`Platform: ${t}`,i=new $(r);return(o=[])=>{let s=Ah();if(!s||s.injector.get(jw,!1)){const a=[...e,...o,{provide:i,useValue:!0}];n?n(a):function DP(n){if(Cr&&!Cr.get(jw,!1))throw new S(400,!1);Cr=n;const t=n.get(qw);(function Hw(n){const t=n.get(Nw,null);t&&t.forEach(e=>e())})(n)}(function Gw(n=[],t){return Kt.create({name:t,providers:[{provide:Gu,useValue:"platform"},{provide:Ih,useValue:new Set([()=>Cr=null])},...n]})}(a,r))}return function SP(n){const t=Ah();if(!t)throw new S(401,!1);return t}()}}function Ah(){return Cr?.get(qw)??null}let qw=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function Kw(n,t){let e;return e="noop"===n?new vP:("zone.js"===n?void 0:n)||new Fe(t),e}(r?.ngZone,function Ww(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Fe,useValue:i}];return i.run(()=>{const s=Kt.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),l=a.injector.get(Oi,null);if(!l)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{cl(this._modules,a),c.unsubscribe()})}),function Qw(n,t,e){try{const r=e();return os(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(sl);return c.runInitializers(),c.donePromise.then(()=>(function vv(n){Ut(n,"Expected localeId to be defined"),"string"==typeof n&&(_v=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ir,eo)||eo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const i=Yw({},r);return function CP(n,t,e){const r=new oh(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(ro);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new S(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Ih,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(F(Kt))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Yw(n,t){return Array.isArray(t)?t.reduce(Yw,n):{...n,...t}}let ro=(()=>{class n{constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new pe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new pe(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),bh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Zc(o,s.pipe(bg()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof zm;if(!this._injector.get(sl).done)throw!i&&function mi(n){const t=me(n)||yt(n)||_t(n);return null!==t&&t.standalone}(e),new S(405,false);let s;s=i?e:this._injector.get(Qo).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function bP(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Jr),c=s.create(Kt.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(Uw,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),cl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;cl(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Rw,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>cl(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new S(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(F(Fe),F(_r),F(Oi))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cl(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Jw=!0,ul=(()=>{class n{}return n.__NG_ELEMENT_ID__=IP,n})();function IP(n){return function AP(n,t,e){if(ua(n)&&!e){const r=zt(n.index,t);return new ts(r,r)}return 47&n.type?new ts(t[16],t):null}(Ze(),A(),16==(16&n))}class rC{constructor(){}supports(t){return rs(t)}create(t){return new OP(t)}}const RP=(n,t)=>t;class OP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||RP}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<oC(r,i,o)?e:r,a=oC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,y=f+h;u<=y&&y<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!rs(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function aA(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Qr()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new FP(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new iC),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class FP{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class iC{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new LP,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oC(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class sC{constructor(){}supports(t){return t instanceof Map||Gd(t)}create(){return new VP}}class VP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Gd(t)))throw new S(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new BP(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class BP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aC(){return new fl([new rC])}let fl=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||aC()),deps:[[n,new Ho,new $o]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:aC}),n})();function lC(){return new ys([new sC])}let ys=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||lC()),deps:[[n,new Ho,new $o]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new S(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:lC}),n})();const $P=zw(null,"core",[]);let HP=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(F(ro))},n.\u0275mod=It({type:n}),n.\u0275inj=mt({}),n})();let pl=null;function Rn(){return pl}const ft=new $("DocumentToken");let Rh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:function(){return function WP(){return F(cC)}()},providedIn:"platform"}),n})();const KP=new $("Location Initialized");let cC=(()=>{class n extends Rh{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rn().getBaseHref(this._doc)}onPopState(e){const r=Rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){uC()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){uC()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(F(ft))},n.\u0275prov=H({token:n,factory:function(){return function QP(){return new cC(F(ft))}()},providedIn:"platform"}),n})();function uC(){return!!window.history.pushState}function Oh(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function dC(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ar(n){return n&&"?"!==n[0]?"?"+n:n}let ei=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:function(){return Le(fC)},providedIn:"root"}),n})();const hC=new $("appBaseHref");let fC=(()=>{class n extends ei{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Le(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oh(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+ar(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+ar(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Rh),F(hC,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YP=(()=>{class n extends ei{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Oh(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+ar(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+ar(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Rh),F(hC,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Fh=(()=>{class n{constructor(e){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=dC(pC(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ar(r))}normalize(e){return n.stripTrailingSlash(function JP(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,pC(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ar(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=ar,n.joinWithSlash=Oh,n.stripTrailingSlash=dC,n.\u0275fac=function(e){return new(e||n)(F(ei))},n.\u0275prov=H({token:n,factory:function(){return function ZP(){return new Fh(F(ei))}()},providedIn:"root"}),n})();function pC(n){return n.replace(/\/index.html$/,"")}let DC=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(rs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ce(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(T(fl),T(ys),T(Wt),T(Jn))},n.\u0275dir=K({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class LN{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qh=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new LN(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),TC(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{TC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(T(wn),T(rr),T(fl))},n.\u0275dir=K({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function TC(n,t){n.context.$implicit=t.item}let io=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new BN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){MC("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){MC("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(T(wn),T(rr))},n.\u0275dir=K({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class BN{constructor(){this.$implicit=null,this.ngIf=null}}function MC(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ce(t)}'.`)}let hR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({}),n})();const xC="browser";function kC(n){return n===xC}let mR=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new yR(F(ft),window)}),n})();class yR{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function _R(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=PC(this.window.history)||PC(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function PC(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xh extends class LR extends class qP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function GP(n){pl||(pl=n)}(new Xh)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function VR(){return Cs=Cs||document.querySelector("base"),Cs?Cs.getAttribute("href"):null}();return null==e?null:function BR(n){Sl=Sl||document.createElement("a"),Sl.setAttribute("href",n);const t=Sl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ON(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Sl,Cs=null;const FC=new $("TRANSITION_ID"),jR=[{provide:gs,useFactory:function UR(n,t,e){return()=>{e.get(sl).donePromise.then(()=>{const r=Rn(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[FC,ft,Kt],multi:!0}];let HR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const Tl=new $("EventManagerPlugins");let Ml=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(F(Tl),F(Fe))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class LC{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Rn().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let VC=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),bs=(()=>{class n extends VC{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(BC),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(BC))}}return n.\u0275fac=function(e){return new(e||n)(F(ft))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function BC(n){Rn().remove(n)}const ef={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tf=/%COMP%/g;function Il(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Il(n,i,e):(i=i.replace(tf,n),e.push(i))}return e}function $C(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Al=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new nf(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case hn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new QR(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case hn.ShadowDom:return new YR(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Il(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(F(Ml),F(bs),F(ms))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class nf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ef[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(zC(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(zC(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=ef[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=ef[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(kt.DashCase|kt.Important)?t.style.setProperty(e,r,i&kt.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&kt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$C(r)):this.eventManager.addEventListener(t,e,$C(r))}}function zC(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class QR extends nf{constructor(t,e,r,i){super(t),this.component=r;const o=Il(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function qR(n){return"_ngcontent-%COMP%".replace(tf,n)}(i+"-"+r.id),this.hostAttr=function WR(n){return"_nghost-%COMP%".replace(tf,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class YR extends nf{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Il(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ZR=(()=>{class n extends LC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(F(ft))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const GC=["alt","control","meta","shift"],JR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let eO=(()=>{class n extends LC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rn().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),GC.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=JR[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GC.forEach(s=>{s!==i&&(0,XR[s])(e)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(F(ft))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const iO=zw($P,"browser",[{provide:al,useValue:xC},{provide:Nw,useValue:function tO(){Xh.makeCurrent()},multi:!0},{provide:ft,useFactory:function rO(){return function iT(n){Ou=n}(document),document},deps:[]}]),KC=new $(""),QC=[{provide:ll,useClass:class $R{addToWindow(t){be.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},be.getAllAngularTestabilities=()=>t.getAllTestabilities(),be.getAllAngularRootElements=()=>t.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(r=>{const i=be.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Rn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:Uw,useClass:Sh,deps:[Fe,Th,ll]},{provide:Sh,useClass:Sh,deps:[Fe,Th,ll]}],YC=[{provide:Gu,useValue:"root"},{provide:Oi,useFactory:function nO(){return new Oi},deps:[]},{provide:Tl,useClass:ZR,multi:!0,deps:[ft,Fe,al]},{provide:Tl,useClass:eO,multi:!0,deps:[ft]},{provide:Al,useClass:Al,deps:[Ml,bs,ms]},{provide:Yo,useExisting:Al},{provide:VC,useExisting:bs},{provide:bs,useClass:bs,deps:[ft]},{provide:Ml,useClass:Ml,deps:[Tl,Fe]},{provide:class vR{},useClass:HR,deps:[]},[]];let ZC=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:ms,useValue:e.appId},{provide:FC,useExisting:ms},jR]}}}return n.\u0275fac=function(e){return new(e||n)(F(KC,12))},n.\u0275mod=It({type:n}),n.\u0275inj=mt({providers:[...YC,...QC],imports:[hR,HP]}),n})(),JC=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(F(ft))},n.\u0275prov=H({token:n,factory:function(e){let r=null;return r=e?new e:function sO(){return new JC(F(ft))}(),r},providedIn:"root"}),n})();function L(...n){return je(n,Eo(n))}typeof window<"u"&&window;class En extends Lt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const xl=jc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:pO}=Array,{getPrototypeOf:gO,prototype:mO,keys:yO}=Object;function tb(n){if(1===n.length){const t=n[0];if(pO(t))return{args:t,keys:null};if(function _O(n){return n&&"object"==typeof n&&gO(n)===mO}(t)){const e=yO(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:vO}=Array;function af(n){return ee(t=>function wO(n,t){return vO(t)?n(...t):n(t)}(n,t))}function nb(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function rb(...n){const t=Eo(n),e=_g(n),{args:r,keys:i}=tb(n);if(0===r.length)return je([],t);const o=new pe(function CO(n,t,e=Br){return r=>{ib(t,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)ib(t,()=>{const c=je(n[l],t);let u=!1;c.subscribe(Ue(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>nb(i,s):Br));return e?o.pipe(af(e)):o}function ib(n,t,e){n?Hn(e,n,t):t()}function Ds(...n){return function bO(){return pi(1)}()(je(n,Eo(n)))}function kl(n){return new pe(t=>{Vt(n()).subscribe(t)})}function oo(n,t){const e=de(n)?n:()=>n,r=i=>i.error(e());return new pe(t?i=>t.schedule(r,0,i):r)}function lf(){return Be((n,t)=>{let e=null;n._refCount++;const r=Ue(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class cf extends pe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ig(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new at;const e=this.getSubject();t.add(this.source.subscribe(Ue(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=at.EMPTY)}return t}refCount(){return lf()(this)}}function Nt(n,t){return Be((e,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();e.subscribe(Ue(r,l=>{i?.unsubscribe();let c=0;const u=o++;Vt(n(l,u)).subscribe(i=Ue(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Yt(n){return n<=0?()=>zn:Be((t,e)=>{let r=0;t.subscribe(Ue(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Rt(n,t){return Be((e,r)=>{let i=0;e.subscribe(Ue(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Pl(n){return Be((t,e)=>{let r=!1;t.subscribe(Ue(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function ob(n=EO){return Be((t,e)=>{let r=!1;t.subscribe(Ue(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function EO(){return new xl}function Dr(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Rt((i,o)=>n(i,o,r)):Br,Yt(1),e?Pl(t):ob(()=>new xl))}function ti(n,t){return de(t)?Ye(n,t,1):Ye(n,1)}function it(n,t,e){const r=de(n)||t||e?{next:n,error:t,complete:e}:n;return r?Be((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ue(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Br}function Er(n){return Be((t,e)=>{let o,r=null,i=!1;r=t.subscribe(Ue(e,void 0,void 0,s=>{o=Vt(n(s,Er(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function SO(n,t,e,r,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Ue(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function sb(n,t){return Be(SO(n,t,arguments.length>=2,!0))}function uf(n){return n<=0?()=>zn:Be((t,e)=>{let r=[];t.subscribe(Ue(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function ab(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Rt((i,o)=>n(i,o,r)):Br,uf(1),e?Pl(t):ob(()=>new xl))}function lb(n){return ee(()=>n)}function df(n){return Be((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const ie="primary",Es=Symbol("RouteTitle");class MO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function so(n){return new MO(n)}function IO(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function On(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!cb(n[i],t[i]))return!1;return!0}function cb(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function ub(n){return Array.prototype.concat.apply([],n)}function db(n){return n.length>0?n[n.length-1]:null}function ot(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Sr(n){return Yd(n)?n:os(n)?je(Promise.resolve(n)):L(n)}const kO={exact:function pb(n,t,e){if(!ri(n.segments,t.segments)||!Nl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!pb(n.children[r],t.children[r],e))return!1;return!0},subset:gb},hb={exact:function PO(n,t){return On(n,t)},subset:function NO(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cb(n[e],t[e]))},ignored:()=>!0};function fb(n,t,e){return kO[e.paths](n.root,t.root,e.matrixParams)&&hb[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function gb(n,t,e){return mb(n,t,t.segments,e)}function mb(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!ri(i,e)||t.hasChildren()||!Nl(i,e,r))}if(n.segments.length===e.length){if(!ri(n.segments,e)||!Nl(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!gb(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ri(n.segments,i)&&Nl(n.segments,i,r)&&n.children[ie])&&mb(n.children[ie],t,o,r)}}function Nl(n,t,e){return t.every((r,i)=>hb[e](n[i].parameters,r.parameters))}class ni{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=so(this.queryParams)),this._queryParamMap}toString(){return FO.serialize(this)}}class se{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ot(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}}class Ss{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=so(this.parameters)),this._parameterMap}toString(){return wb(this)}}function ri(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:function(){return new ff},providedIn:"root"}),n})();class ff{parse(t){const e=new GO(t);return new ni(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ts(t.root,!0)}`,r=function BO(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Ol(e)}=${Ol(i)}`).join("&"):`${Ol(e)}=${Ol(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function LO(n){return encodeURI(n)}(t.fragment)}`:""}`}}const FO=new ff;function Rl(n){return n.segments.map(t=>wb(t)).join("/")}function Ts(n,t){if(!n.hasChildren())return Rl(n);if(t){const e=n.children[ie]?Ts(n.children[ie],!1):"",r=[];return ot(n.children,(i,o)=>{o!==ie&&r.push(`${o}:${Ts(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function OO(n,t){let e=[];return ot(n.children,(r,i)=>{i===ie&&(e=e.concat(t(r,i)))}),ot(n.children,(r,i)=>{i!==ie&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===ie?[Ts(n.children[ie],!1)]:[`${i}:${Ts(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ie]?`${Rl(n)}/${e[0]}`:`${Rl(n)}/(${e.join("//")})`}}function _b(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ol(n){return _b(n).replace(/%3B/gi,";")}function pf(n){return _b(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fl(n){return decodeURIComponent(n)}function vb(n){return Fl(n.replace(/\+/g,"%20"))}function wb(n){return`${pf(n.path)}${function VO(n){return Object.keys(n).map(t=>`;${pf(t)}=${pf(n[t])}`).join("")}(n.parameters)}`}const UO=/^[^\/()?;=#]+/;function Ll(n){const t=n.match(UO);return t?t[0]:""}const jO=/^[^=?&#]+/,HO=/^[^&#]+/;class GO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ie]=new se(t,e)),r}parseSegment(){const t=Ll(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new Ss(Fl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ll(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Ll(this.remaining);i&&(r=i,this.capture(r))}t[Fl(e)]=Fl(r)}parseQueryParam(t){const e=function $O(n){const t=n.match(jO);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function zO(n){const t=n.match(HO);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=vb(e),o=vb(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ll(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ie);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ie]:new se([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}}function gf(n){return n.segments.length>0?new se([],{[ie]:n}):n}function Vl(n){const t={};for(const r of Object.keys(n.children)){const o=Vl(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function qO(n){if(1===n.numberOfChildren&&n.children[ie]){const t=n.children[ie];return new se(n.segments.concat(t.segments),t.children)}return n}(new se(n.segments,t))}function ii(n){return n instanceof ni}function QO(n,t,e,r,i){if(0===e.length)return ao(t.root,t.root,t.root,r,i);const o=function Db(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bb(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ot(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new bb(e,t,r)}(e);return o.toRoot()?ao(t.root,t.root,new se([],{}),r,i):function s(l){const c=function ZO(n,t,e,r){if(n.isAbsolute)return new lo(t.root,!0,0);if(-1===r)return new lo(e,e===t.root,0);return function Eb(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new lo(r,!1,i-o)}(e,r+(Ms(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,l),u=c.processChildren?As(c.segmentGroup,c.index,o.commands):yf(c.segmentGroup,c.index,o.commands);return ao(t.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Ms(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Is(n){return"object"==typeof n&&null!=n&&n.outlets}function ao(n,t,e,r,i){let s,o={};r&&ot(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===t?e:Cb(n,t,e);const a=gf(Vl(s));return new ni(a,o,i)}function Cb(n,t,e){const r={};return ot(n.children,(i,o)=>{r[o]=i===t?e:Cb(i,t,e)}),new se(n.segments,r)}class bb{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Ms(r[0]))throw new S(4003,!1);const i=r.find(Is);if(i&&i!==db(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lo{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function yf(n,t,e){if(n||(n=new se([],{})),0===n.segments.length&&n.hasChildren())return As(n,t,e);const r=function XO(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const s=n.segments[i],a=e[r];if(Is(a))break;const l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Tb(l,c,s))return o;r+=2}else{if(!Tb(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new se(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new se(n.segments.slice(r.pathIndex),n.children),As(o,0,i)}return r.match&&0===i.length?new se(n.segments,{}):r.match&&!n.hasChildren()?_f(n,t,e):r.match?As(n,0,i):_f(n,t,e)}function As(n,t,e){if(0===e.length)return new se(n.segments,{});{const r=function JO(n){return Is(n[0])?n[0].outlets:{[ie]:n}}(e),i={};return ot(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=yf(n.children[s],t,o))}),ot(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new se(n.segments,i)}}function _f(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(Is(o)){const l=eF(o.outlets);return new se(r,l)}if(0===i&&Ms(e[0])){r.push(new Ss(n.segments[t].path,Sb(e[0]))),i++;continue}const s=Is(o)?o.outlets[ie]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Ms(a)?(r.push(new Ss(s,Sb(a))),i+=2):(r.push(new Ss(s,{})),i++)}return new se(r,{})}function eF(n){const t={};return ot(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=_f(new se([],{}),0,e))}),t}function Sb(n){const t={};return ot(n,(e,r)=>t[r]=`${e}`),t}function Tb(n,t,e){return n==e.path&&On(t,e.parameters)}class cr{constructor(t,e){this.id=t,this.url=e}}class vf extends cr{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oi extends cr{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bl extends cr{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mb extends cr{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tF extends cr{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nF extends cr{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rF extends cr{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iF extends cr{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oF extends cr{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sF{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aF{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lF{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cF{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uF{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dF{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ib{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ab{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=wf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Cf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Cf(t,this._root).map(e=>e.value)}}function wf(n,t){if(n===t.value)return t;for(const e of t.children){const r=wf(n,e);if(r)return r}return null}function Cf(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Cf(n,e);if(r.length)return r.unshift(t),r}return[]}class ur{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function co(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class xb extends Ab{constructor(t,e){super(t),this.snapshot=e,bf(this,t)}toString(){return this.snapshot.toString()}}function kb(n,t){const e=function fF(n,t){const s=new Ul([],{},{},"",{},ie,t,null,n.root,-1,{});return new Nb("",new ur(s,[]))}(n,t),r=new En([new Ss("",{})]),i=new En({}),o=new En({}),s=new En({}),a=new En(""),l=new Tr(r,i,s,a,o,ie,t,e.root);return l.snapshot=e.root,new xb(new ur(l,[]),e)}class Tr{constructor(t,e,r,i,o,s,a,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ee(c=>c[Es]))??L(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(t=>so(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(t=>so(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pb(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function pF(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Ul{constructor(t,e,r,i,o,s,a,l,c,u,d,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[Es],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=so(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=so(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nb extends Ab{constructor(t,e){super(e),this.url=t,bf(this,e)}toString(){return Rb(this._root)}}function bf(n,t){t.value._routerState=n,t.children.forEach(e=>bf(n,e))}function Rb(n){const t=n.children.length>0?` { ${n.children.map(Rb).join(", ")} } `:"";return`${n.value}${t}`}function Df(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,On(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),On(t.params,e.params)||n.params.next(e.params),function AO(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!On(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),On(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ef(n,t){const e=On(n.params,t.params)&&function RO(n,t){return ri(n,t)&&n.every((e,r)=>On(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ef(n.parent,t.parent))}function xs(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function mF(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xs(n,r,i);return xs(n,r)})}(n,t,e);return new ur(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>xs(n,a)),s}}const r=function yF(n){return new Tr(new En(n.url),new En(n.params),new En(n.queryParams),new En(n.fragment),new En(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>xs(n,o));return new ur(r,i)}}const Sf="ngNavigationCancelingError";function Ob(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=ii(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Fb(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function Fb(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[Sf]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Lb(n){return Vb(n)&&ii(n.url)}function Vb(n){return n&&n[Sf]}class _F{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ks,this.attachRef=null}}let ks=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new _F,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jl=!1;let Tf=(()=>{class n{constructor(e,r,i,o,s){this.parentContexts=e,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.name=i||ie,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,jl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,jl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,jl);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new S(4013,jl);this._activatedRoute=e;const i=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vF(e,a,i.injector);if(r&&function wF(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(T(ks),T(wn),function Oo(n){return function MS(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(Yg(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(Ze(),n)}("name"),T(ul),T(_r))},n.\u0275dir=K({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class vF{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Tr?this.route:t===ks?this.childContexts:this.parent.get(t,e)}}let Mf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wn({type:n,selectors:[["ng-component"]],standalone:!0,features:[qv],decls:1,vars:0,template:function(e,r){1&e&&M(0,"router-outlet")},dependencies:[Tf],encapsulation:2}),n})();function Bb(n,t){return n.providers&&!n._injector&&(n._injector=el(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Af(n){const t=n.children&&n.children.map(Af),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ie&&(e.component=Mf),e}function an(n){return n.outlet||ie}function Ub(n,t){const e=n.filter(r=>an(r)===t);return e.push(...n.filter(r=>an(r)!==t)),e}function Ps(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class SF{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Df(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=co(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),ot(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=co(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=co(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=co(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dF(o.value.snapshot))}),t.children.length&&this.forwardEvent(new cF(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Df(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Df(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Ps(i.snapshot),l=a?.get(Qo)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class jb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $l{constructor(t,e){this.component=t,this.route=e}}function TF(n,t,e){const r=n._root;return Ns(r,t?t._root:null,e,[r.value])}function uo(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function x1(n){return null!==ia(n)}(n)?t.get(n):n:r}function Ns(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=co(t);return n.children.forEach(s=>{(function IF(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function AF(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ri(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ri(n.url,t.url)||!On(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ef(n,t)||!On(n.queryParams,t.queryParams);default:return!Ef(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new jb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ns(n,t,o.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $l(a.outlet.component,s))}else s&&Rs(t,a,i),i.canActivateChecks.push(new jb(r)),Ns(n,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),ot(o,(s,a)=>Rs(s,e.getContext(a),i)),i}function Rs(n,t,e){const r=co(n),i=n.value;ot(r,(o,s)=>{Rs(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new $l(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Os(n){return"function"==typeof n}function xf(n){return n instanceof xl||"EmptyError"===n?.name}const Hl=Symbol("INITIAL_VALUE");function ho(){return Nt(n=>rb(n.map(t=>t.pipe(Yt(1),function DO(...n){const t=Eo(n);return Be((e,r)=>{(t?Ds(n,e,t):Ds(n,e)).subscribe(r)})}(Hl)))).pipe(ee(t=>{for(const e of t)if(!0!==e){if(e===Hl)return Hl;if(!1===e||e instanceof ni)return e}return!0}),Rt(t=>t!==Hl),Yt(1)))}function $b(n){return function JE(...n){return tg(n)}(it(t=>{if(ii(t))throw Ob(0,t)}),ee(t=>!0===t))}const kf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hb(n,t,e,r,i){const o=Pf(n,t,e);return o.matched?function qF(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?L(i.map(s=>{const a=uo(s,n);return Sr(function OF(n){return n&&Os(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(ho(),$b()):L(!0)}(r=Bb(t,r),t,e).pipe(ee(s=>!0===s?o:{...kf})):L(o)}function Pf(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...kf}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||IO)(e,n,t);if(!i)return{...kf};const o={};ot(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zl(n,t,e,r,i="corrected"){if(e.length>0&&function QF(n,t,e){return e.some(r=>Gl(n,t,r)&&an(r)!==ie)}(n,e,r)){const s=new se(t,function KF(n,t,e,r){const i={};i[ie]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&an(o)!==ie){const s=new se([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,i[an(o)]=s}return i}(n,t,r,new se(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function YF(n,t,e){return e.some(r=>Gl(n,t,r))}(n,e,r)){const s=new se(n.segments,function WF(n,t,e,r,i,o){const s={};for(const a of r)if(Gl(n,e,a)&&!i[an(a)]){const l=new se([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[an(a)]=l}return{...i,...s}}(n,t,e,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new se(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Gl(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function zb(n,t,e,r){return!!(an(n)===r||r!==ie&&Gl(t,e,n))&&("**"===n.path||Pf(t,n,e).matched)}function Gb(n,t,e){return 0===t.length&&!n.children[e]}const ql=!1;class Wl{constructor(t){this.segmentGroup=t||null}}class qb{constructor(t){this.urlTree=t}}function Fs(n){return oo(new Wl(n))}function Wb(n){return oo(new qb(n))}class e2{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=zl(this.urlTree.root,[],[],this.config).segmentGroup,e=new se(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,ie).pipe(ee(o=>this.createUrlTree(Vl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Er(o=>{if(o instanceof qb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Wl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ie).pipe(ee(i=>this.createUrlTree(Vl(i),t.queryParams,t.fragment))).pipe(Er(i=>{throw i instanceof Wl?this.noMatchError(i):i}))}noMatchError(t){return new S(4002,ql)}createUrlTree(t,e,r){const i=gf(t);return new ni(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(ee(o=>new se([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return je(i).pipe(ti(o=>{const s=r.children[o],a=Ub(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(ee(l=>({segment:l,outlet:o})))}),sb((o,s)=>(o[s.outlet]=s.segment,o),{}),ab())}expandSegment(t,e,r,i,o,s){return je(r).pipe(ti(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,o,s).pipe(Er(c=>{if(c instanceof Wl)return L(null);throw c}))),Dr(a=>!!a),Er((a,l)=>{if(xf(a))return Gb(e,i,o)?L(new se([],{})):Fs(e);throw a}))}expandSegmentAgainstRoute(t,e,r,i,o,s,a){return zb(i,e,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s):Fs(e):Fs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Wb(o):this.lineralizeSegments(r,o).pipe(Ye(s=>{const a=new se(s,{});return this.expandSegment(t,a,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Pf(e,i,o);if(!a)return Fs(e);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?Wb(d):this.lineralizeSegments(i,d).pipe(Ye(h=>this.expandSegment(t,e,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=Bb(r,t),r.loadChildren?(r._loadedRoutes?L({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(ee(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new se(i,{})))):L(new se(i,{}))):Hb(e,r,i,t).pipe(Nt(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=r._injector??t,r,i).pipe(Ye(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:f,slicedSegments:y}=zl(e,a,l,h),_=new se(f.segments,f.children);if(0===y.length&&_.hasChildren())return this.expandChildren(d,h,_).pipe(ee(D=>new se(a,D)));if(0===h.length&&0===y.length)return L(new se(a,{}));const C=an(r)===o;return this.expandSegment(d,_,h,y,C?ie:o,!0).pipe(ee(x=>new se(a.concat(x.segments),x.children)))})):Fs(e)))}getChildConfig(t,e,r){return e.children?L({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?L({routes:e._loadedRoutes,injector:e._loadedInjector}):function GF(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?L(!0):L(i.map(s=>{const a=uo(s,n);return Sr(function kF(n){return n&&Os(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(ho(),$b())}(t,e,r).pipe(Ye(i=>i?this.configLoader.loadChildren(t,e).pipe(it(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function JF(n){return oo(Fb(ql,3))}())):L({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return L(r);if(i.numberOfChildren>1||!i.children[ie])return oo(new S(4e3,ql));i=i.children[ie]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new ni(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ot(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let s={};return ot(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,r,i)}),new se(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new S(4001,ql);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class n2{}class o2{constructor(t,e,r,i,o,s,a,l){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=zl(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ie).pipe(ee(e=>{if(null===e)return null;const r=new Ul([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ur(r,e),o=new Nb(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=Pb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return je(Object.keys(r.children)).pipe(ti(i=>{const o=r.children[i],s=Ub(e,i);return this.processSegmentGroup(t,s,o,i)}),sb((i,o)=>i&&o?(i.push(...o),i):null),function TO(n,t=!1){return Be((e,r)=>{let i=0;e.subscribe(Ue(r,o=>{const s=n(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Pl(null),ab(),ee(i=>{if(null===i)return null;const o=Kb(i);return function s2(n){n.sort((t,e)=>t.value.outlet===ie?-1:e.value.outlet===ie?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return je(e).pipe(ti(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,i,o)),Dr(s=>!!s),Er(s=>{if(xf(s))return Gb(r,i,o)?L([]):L(null);throw s}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!zb(e,r,i,o))return L(null);let s;if("**"===e.path){const a=i.length>0?db(i).parameters:{},l=Yb(r)+i.length;s=L({snapshot:new Ul(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jb(e),an(e),e.component??e._loadedComponent??null,e,Qb(r),l,Xb(e),l),consumedSegments:[],remainingSegments:[]})}else s=Hb(r,e,i,t).pipe(ee(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=Yb(r)+l.length;return{snapshot:new Ul(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jb(e),an(e),e.component??e._loadedComponent??null,e,Qb(r),d,Xb(e),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(Nt(a=>{if(null===a)return L(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function a2(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:y}=zl(r,c,u,h.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===y.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ee(C=>null===C?null:[new ur(l,C)]));if(0===h.length&&0===y.length)return L([new ur(l,[])]);const _=an(e)===o;return this.processSegment(d,h,f,y,_?ie:o).pipe(ee(C=>null===C?null:[new ur(l,C)]))}))}}function l2(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Kb(n){const t=[],e=new Set;for(const r of n){if(!l2(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=Kb(r.children);t.push(new ur(r.value,i))}return t.filter(r=>!e.has(r))}function Qb(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Yb(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Jb(n){return n.data||{}}function Xb(n){return n.resolve||{}}function eD(n){return"string"==typeof n.title||null===n.title}function Nf(n){return Nt(t=>{const e=n(t);return e?je(e).pipe(ee(()=>t)):L(t)})}let tD=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(e){return e.data[Es]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:function(){return Le(nD)},providedIn:"root"}),n})(),nD=(()=>{class n extends tD{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(F(JC))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class m2{}class _2 extends class y2{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ql=new $("",{providedIn:"root",factory:()=>({})}),Rf=new $("ROUTES");let Of=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return L(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Sr(e.loadComponent()).pipe(it(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),df(()=>{this.componentLoaders.delete(e)})),i=new cf(r,()=>new Lt).pipe(lf());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ee(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=ub(l.get(Rf,[],G.Self|G.Optional)));return{routes:c.map(Af),injector:l}}),df(()=>{this.childrenLoaders.delete(r)})),s=new cf(o,()=>new Lt).pipe(lf());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return Sr(e()).pipe(Ye(r=>r instanceof zv||Array.isArray(r)?L(r):je(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(F(Kt),F(Ch))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class w2{}class C2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function b2(n){throw n}function D2(n,t,e){return t.parse("/")}const E2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function iD(){const n=Le(yb),t=Le(ks),e=Le(Fh),r=Le(Kt),i=Le(Ch),o=Le(Rf,{optional:!0})??[],s=Le(Ql,{optional:!0})??{},a=Le(nD),l=Le(tD,{optional:!0}),c=Le(w2,{optional:!0}),u=Le(m2,{optional:!0}),d=new We(null,n,t,e,r,i,ub(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function T2(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let We=(()=>{class n{constructor(e,r,i,o,s,a,l){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Lt,this.errorHandler=b2,this.malformedUriErrorHandler=D2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>L(void 0),this.urlHandlingStrategy=new C2,this.routeReuseStrategy=new _2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Of),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new aF(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new sF(h)),this.ngModule=s.get(Jr),this.console=s.get(lP);const d=s.get(Fe);this.isNgZoneEnabled=d instanceof Fe&&Fe.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function xO(){return new ni(new se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kb(this.currentUrlTree,this.rootComponentType),this.transitions=new En({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Rt(i=>0!==i.id),ee(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Nt(i=>{let o=!1,s=!1;return L(i).pipe(it(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nt(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return oD(a.source)&&(this.browserUrlTree=a.extractedUrl),L(a).pipe(Nt(d=>{const h=this.transitions.getValue();return r.next(new vf(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?zn:Promise.resolve(d)}),function t2(n,t,e,r){return Nt(i=>function XF(n,t,e,r,i){return new e2(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(ee(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),it(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function u2(n,t,e,r,i,o){return Ye(s=>function i2(n,t,e,r,i,o,s="emptyOnly",a="legacy"){return new o2(n,t,e,r,i,s,a,o).recognize().pipe(Nt(l=>null===l?function r2(n){return new pe(t=>t.error(n))}(new n2):L(l)))}(n,t,e,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(ee(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),it(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new tF(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:y,restoredState:_,extras:C}=a,E=new vf(h,this.serializeUrl(f),y,_);r.next(E);const x=kb(f,this.rootComponentType).snapshot;return L(i={...a,targetSnapshot:x,urlAfterRedirects:f,extras:{...C,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),zn}),it(a=>{const l=new nF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ee(a=>i={...a,guards:TF(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function LF(n,t){return Ye(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?L({...e,guardsResult:!0}):function VF(n,t,e,r){return je(n).pipe(Ye(i=>function zF(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?L(o.map(a=>{const l=Ps(t)??i,c=uo(a,l);return Sr(function RF(n){return n&&Os(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,r):l.runInContext(()=>c(n,t,e,r))).pipe(Dr())})).pipe(ho()):L(!0)}(i.component,i.route,e,t,r)),Dr(i=>!0!==i,!0))}(s,r,i,n).pipe(Ye(a=>a&&function xF(n){return"boolean"==typeof n}(a)?function BF(n,t,e,r){return je(t).pipe(ti(i=>Ds(function jF(n,t){return null!==n&&t&&t(new lF(n)),L(!0)}(i.route.parent,r),function UF(n,t){return null!==n&&t&&t(new uF(n)),L(!0)}(i.route,r),function HF(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function MF(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>kl(()=>L(s.guards.map(l=>{const c=Ps(s.node)??e,u=uo(l,c);return Sr(function NF(n){return n&&Os(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Dr())})).pipe(ho())));return L(o).pipe(ho())}(n,i.path,e),function $F(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return L(!0);const i=r.map(o=>kl(()=>{const s=Ps(t)??e,a=uo(o,s);return Sr(function PF(n){return n&&Os(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Dr())}));return L(i).pipe(ho())}(n,i.route,e))),Dr(i=>!0!==i,!0))}(r,o,n,t):L(a)),ee(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),it(a=>{if(i.guardsResult=a.guardsResult,ii(a.guardsResult))throw Ob(0,a.guardsResult);const l=new rF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Rt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Nf(a=>{if(a.guards.canActivateChecks.length)return L(a).pipe(it(l=>{const c=new iF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Nt(l=>{let c=!1;return L(l).pipe(function d2(n,t){return Ye(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return L(e);let o=0;return je(i).pipe(ti(s=>function h2(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!eD(i)&&(o[Es]=i.title),function f2(n,t,e,r){const i=function p2(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return L({});const o={};return je(i).pipe(Ye(s=>function g2(n,t,e,r){const i=Ps(t)??r,o=uo(n,i);return Sr(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[s],t,e,r).pipe(Dr(),it(a=>{o[s]=a}))),uf(1),lb(o),Er(s=>xf(s)?zn:oo(s)))}(o,n,t,r).pipe(ee(s=>(n._resolvedData=s,n.data=Pb(n,e).resolve,i&&eD(i)&&(n.data[Es]=i.title),null)))}(s.route,r,n,t)),it(()=>o++),uf(1),Ye(s=>o===i.length?L(e):zn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),it({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),it(l=>{const c=new oF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Nf(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(it(d=>{c.component=d}),ee(()=>{})));for(const d of c.children)u.push(...l(d));return u};return rb(l(a.targetSnapshot.root)).pipe(Pl(),Yt(1))}),Nf(()=>this.afterPreactivation()),ee(a=>{const l=function gF(n,t,e){const r=xs(n,t._root,e?e._root:void 0);return new xb(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),it(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>ee(r=>(new SF(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),it({next(){o=!0},complete(){o=!0}}),df(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Er(a=>{if(s=!0,Vb(a)){Lb(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new Bl(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),Lb(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oD(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Mb(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return zn}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Af),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),QO(c,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ii(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function M2(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new S(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...E2}:!1===r?{...S2}:r,ii(e))return fb(this.currentUrlTree,e,i);const o=this.parseUrl(e);return fb(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new oi(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const o=new Bl(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){Cd()},n.\u0275prov=H({token:n,factory:function(){return iD()},providedIn:"root"}),n})();function oD(n){return"imperative"!==n}class sD{}let x2=(()=>{class n{constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Rt(e=>e instanceof oi),ti(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=el(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return je(i).pipe(pi())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):L(null);const o=i.pipe(Ye(s=>null===s?L(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?je([o,this.loader.loadComponent(r)]).pipe(pi()):o})}}return n.\u0275fac=function(e){return new(e||n)(F(We),F(Ch),F(_r),F(sD),F(Of))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vf=new $("");let aD=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof oi&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ib&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Ib(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Cd()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function fo(n,t){return{\u0275kind:n,\u0275providers:t}}function Bf(n){return[{provide:Rf,multi:!0,useValue:n}]}function cD(){const n=Le(Kt);return t=>{const e=n.get(ro);if(t!==e.components[0])return;const r=n.get(We),i=n.get(uD);1===n.get(Uf)&&r.initialNavigation(),n.get(dD,null,G.Optional)?.setUpPreloading(),n.get(Vf,null,G.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.next(),i.complete()}}const uD=new $("",{factory:()=>new Lt}),Uf=new $("",{providedIn:"root",factory:()=>1});const dD=new $("");function R2(n){return fo(0,[{provide:dD,useExisting:x2},{provide:sD,useExisting:n}])}const hD=new $("ROUTER_FORROOT_GUARD"),O2=[Fh,{provide:yb,useClass:ff},{provide:We,useFactory:iD},ks,{provide:Tr,useFactory:function lD(n){return n.routerState.root},deps:[We]},Of];function F2(){return new $w("Router",We)}let jf=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[O2,[],Bf(e),{provide:hD,useFactory:U2,deps:[[We,new $o,new Ho]]},{provide:Ql,useValue:r||{}},r?.useHash?{provide:ei,useClass:YP}:{provide:ei,useClass:fC},{provide:Vf,useFactory:()=>{const n=Le(We),t=Le(mR),e=Le(Ql);return e.scrollOffset&&t.setOffset(e.scrollOffset),new aD(n,t,e)}},r?.preloadingStrategy?R2(r.preloadingStrategy).\u0275providers:[],{provide:$w,multi:!0,useFactory:F2},r?.initialNavigation?j2(r):[],[{provide:fD,useFactory:cD},{provide:Rw,multi:!0,useExisting:fD}]]}}static forChild(e){return{ngModule:n,providers:[Bf(e)]}}}return n.\u0275fac=function(e){return new(e||n)(F(hD,8))},n.\u0275mod=It({type:n}),n.\u0275inj=mt({imports:[Mf]}),n})();function U2(n){return"guarded"}function j2(n){return["disabled"===n.initialNavigation?fo(3,[{provide:gs,multi:!0,useFactory:()=>{const t=Le(We);return()=>{t.setUpLocationChangeListener()}}},{provide:Uf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?fo(2,[{provide:Uf,useValue:0},{provide:gs,multi:!0,deps:[Kt],useFactory:t=>{const e=t.get(KP,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(o=>{const s=t.get(We),a=t.get(uD);(function i(o){t.get(We).events.pipe(Rt(a=>a instanceof oi||a instanceof Bl||a instanceof Mb),ee(a=>a instanceof oi||a instanceof Bl&&(0===a.code||1===a.code)&&null),Rt(a=>null!==a),Yt(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||a.closed?L(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const fD=new $("");let pD=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(T(Jn),T(Wt))},n.\u0275dir=K({type:n}),n})(),si=(()=>{class n extends pD{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=ut(n)))(r||n)}}(),n.\u0275dir=K({type:n,features:[ye]}),n})();const Fn=new $("NgValueAccessor"),G2={provide:Fn,useExisting:De(()=>po),multi:!0},W2=new $("CompositionEventMode");let po=(()=>{class n extends pD{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function q2(){const n=Rn()?Rn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Jn),T(Wt),T(W2,8))},n.\u0275dir=K({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&k("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[xe([G2]),ye]}),n})();function Mr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mD(n){return null!=n&&"number"==typeof n.length}const gt=new $("NgValidators"),Ir=new $("NgAsyncValidators"),Q2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xl{static min(t){return function yD(n){return t=>{if(Mr(t.value)||Mr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function _D(n){return t=>{if(Mr(t.value)||Mr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function vD(n){return Mr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function wD(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function CD(n){return Mr(n.value)||Q2.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function bD(n){return t=>Mr(t.value)||!mD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return DD(t)}static pattern(t){return function ED(n){if(!n)return ec;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Mr(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return xD(t)}static composeAsync(t){return kD(t)}}function DD(n){return t=>mD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function ec(n){return null}function SD(n){return null!=n}function TD(n){return os(n)?je(n):n}function MD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ID(n,t){return t.map(e=>e(n))}function AD(n){return n.map(t=>function Y2(n){return!n.validate}(t)?t:e=>t.validate(e))}function xD(n){if(!n)return null;const t=n.filter(SD);return 0==t.length?null:function(e){return MD(ID(e,t))}}function $f(n){return null!=n?xD(AD(n)):null}function kD(n){if(!n)return null;const t=n.filter(SD);return 0==t.length?null:function(e){return function H2(...n){const t=_g(n),{args:e,keys:r}=tb(n),i=new pe(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Vt(e[u]).subscribe(Ue(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?nb(r,a):a),o.complete())}))}});return t?i.pipe(af(t)):i}(ID(e,t).map(TD)).pipe(ee(MD))}}function Hf(n){return null!=n?kD(AD(n)):null}function PD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ND(n){return n._rawValidators}function RD(n){return n._rawAsyncValidators}function zf(n){return n?Array.isArray(n)?n:[n]:[]}function tc(n,t){return Array.isArray(n)?n.includes(t):n===t}function OD(n,t){const e=zf(t);return zf(n).forEach(i=>{tc(e,i)||e.push(i)}),e}function FD(n,t){return zf(t).filter(e=>!tc(n,e))}class LD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$f(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Et extends LD{get formDirective(){return null}get path(){return null}}class Ar extends LD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nc=(()=>{class n extends VD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Ar,2))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ka("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ye]}),n})(),Gf=(()=>{class n extends VD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Et,10))},n.\u0275dir=K({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ka("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ye]}),n})();const Ls="VALID",ic="INVALID",go="PENDING",Vs="DISABLED";function Qf(n){return(oc(n)?n.validators:n)||null}function UD(n){return Array.isArray(n)?$f(n):n||null}function Yf(n,t){return(oc(t)?t.asyncValidators:n)||null}function jD(n){return Array.isArray(n)?Hf(n):n||null}function oc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function $D(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new S(1e3,"");if(!r[e])throw new S(1001,"")}function HD(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new S(1002,"")})}class sc{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=UD(this._rawValidators),this._composedAsyncValidatorFn=jD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ls}get invalid(){return this.status===ic}get pending(){return this.status==go}get disabled(){return this.status===Vs}get enabled(){return this.status!==Vs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=UD(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=jD(t)}addValidators(t){this.setValidators(OD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(OD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FD(t,this._rawAsyncValidators))}hasValidator(t){return tc(this._rawValidators,t)}hasAsyncValidator(t){return tc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=go,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vs,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ls,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ls||this.status===go)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vs:Ls}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=go,this._hasOwnPendingAsyncValidator=!0;const e=TD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Vs:this.errors?ic:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(go)?go:this._anyControlsHaveStatus(ic)?ic:Ls}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){oc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class ai extends sc{constructor(t,e,r){super(Qf(e),Yf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){HD(this,0,t),Object.keys(t).forEach(r=>{$D(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class zD extends ai{}function ac(n,t){return[...t.path,n]}function Bs(n,t){Zf(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function iL(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&GD(n,t)})}(n,t),function sL(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function oL(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&GD(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function rL(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function lc(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),uc(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cc(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Zf(n,t){const e=ND(n);null!==t.validator?n.setValidators(PD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=RD(n);null!==t.asyncValidator?n.setAsyncValidators(PD(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();cc(t._rawValidators,i),cc(t._rawAsyncValidators,i)}function uc(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=ND(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=RD(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return cc(t._rawValidators,r),cc(t._rawAsyncValidators,r),e}function GD(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Jf(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Xf(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===po?e=o:function cL(n){return Object.getPrototypeOf(n.constructor)===si}(o)?r=o:i=o}),i||r||e||null}function QD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function YD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const li=class extends sc{constructor(t=null,e,r){super(Qf(e),Yf(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=YD(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){QD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){QD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){YD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},pL={provide:Ar,useExisting:De(()=>tp)},XD=(()=>Promise.resolve())();let tp=(()=>{class n extends Ar{constructor(e,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new li,this._registered=!1,this.update=new Me,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Xf(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Jf(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){XD.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&function sr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);XD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ac(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(T(Et,9),T(gt,10),T(Ir,10),T(Fn,10),T(ul,8))},n.\u0275dir=K({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xe([pL]),ye,Ht]}),n})(),np=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),t0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({}),n})();const rp=new $("NgModelWithFormControlWarning"),wL={provide:Et,useExisting:De(()=>js)};let js=(()=>{class n extends Et{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Me,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Bs(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){lc(e.control||null,e,!1),function uL(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function KD(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(lc(r||null,e),(n=>n instanceof li)(i)&&(Bs(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function qD(n,t){Zf(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function aL(n,t){return uc(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zf(this.form,this),this._oldForm&&uc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(T(gt,10),T(Ir,10))},n.\u0275dir=K({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&k("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xe([wL]),ye,Ht]}),n})();const DL={provide:Ar,useExisting:De(()=>dc)};let dc=(()=>{class n extends Ar{constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Me,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Xf(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Jf(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ac(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(T(Et,13),T(gt,10),T(Ir,10),T(Fn,10),T(rp,8))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xe([DL]),ye,Ht]}),n})();let ci=(()=>{class n{constructor(){this._validator=ec}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ec,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=K({type:n,features:[Ht]}),n})();const FL={provide:gt,useExisting:De(()=>cp),multi:!0};let cp=(()=>{class n extends ci{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function c0(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>DD(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=ut(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&kn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[xe([FL]),ye]}),n})(),y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({imports:[t0]}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({imports:[y0]}),n})(),_0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:rp,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({imports:[y0]}),n})();class v0 extends sc{constructor(t,e,r){super(Qf(e),Yf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){HD(this,0,t),t.forEach((r,i)=>{$D(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function w0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let C0=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let o={};return w0(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ai(i,o)}record(e,r=null){const i=this._reduceControls(e);return new zD(i,r)}control(e,r,i){let o={};return this.useNonNullable?(w0(r)?o=r:(o.validators=r,o.asyncValidators=i),new li(e,{...o,nonNullable:!0})):new li(e,r,i)}array(e,r,i){const o=e.map(s=>this._createControl(s));return new v0(o,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof li||e instanceof sc?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:_0}),n})();class BL{constructor(t){this.l="",this.num_clues=0,this.clues=[0,0,0,0,0,0,0,0,0],this.r_pts=0,this.r_next=0,this.r_level="",this.id="",this.w=0,this.t=-1,this.y=-1,this.a=-1,this.m=-1,this.h=!1,this.sc=!1,this.o=-1,this.devil=-1,this.all=[],this.new_loc="",this.update_loc="",console.log("begin parse oobstring="+t);var e=t.indexOf("l");-1!=e&&(this.l=t.substring(e+1,e+3),console.log("loc="+this.l));var r=t.indexOf("c");if(-1!=r){this.num_clues=0;var i=t.indexOf("c",r+1),o=t.substring(r+1,i),s=0;for(let Pe of o){var a=parseInt(Pe);this.clues[s]=a,a>=1&&(this.num_clues+=1),s++}console.log("oob numclues="+this.num_clues.toString()+" and clues="+this.clues.toString())}var l=t.indexOf("r");if(-1!=l){var c=t.indexOf("-",l+1),u=t.substring(l+1,c);this.r_pts=parseInt(u),c=t.indexOf("-",(l=c+1)+1);var d=t.substring(l,c);this.r_next=parseInt(d),c=t.indexOf("r",(l=c+1)+1),this.r_level=t.substring(l,c),console.log("r_pts="+this.r_pts+" r_next="+this.r_next+" r_level="+this.r_level)}var h=t.indexOf("i");if(-1!=h){var f=t.indexOf("i",h+1);this.id=t.substring(h+1,f),console.log("userid="+this.id)}var y=t.indexOf("y");if(-1!=y){var _=t.indexOf("y",y+1),C=t.substring(y+1,_);"1"==C&&("0"==(E=t.substring(y+2,y+3))||"1"==E||"2"==E)&&(C+=E),this.y=parseInt(C),console.log("y="+this.y)}var x=t.indexOf("w");if(-1!=x){var D=t.substring(x+1,x+2);this.w=parseInt(D),console.log("w="+this.w)}var P=t.indexOf("t");if(-1!=P){var J=t.substring(P+1,P+2);this.t=parseInt(J),console.log("t="+this.t)}var oe=t.indexOf("d");if(-1!=oe){var Ie=t.substring(oe+1,oe+2);this.devil=parseInt(Ie),console.log("d="+this.devil)}var st=t.indexOf("a");if(-1!=st){var St=t.indexOf("a",st+1),Tt=t.substring(st+1,St);this.a=parseInt(Tt),console.log("a="+this.a)}var Un=t.indexOf("k");if(-1!=Un){var Tn=t.indexOf("k",Un+1),Ot=t.substring(Un+1,Tn);for(let Pe=0;Pe<Ot.length;Pe++)this.all[Pe]=parseInt(Ot[Pe]);console.log("all="+this.all.toString())}var jn=t.indexOf("n");if(-1!=jn){var O=t.indexOf("n",jn+2),V=t.substring(jn+1,O);this.new_loc=V,console.log("n="+this.new_loc.toString())}var j=t.indexOf("u");if(-1!=j){var ce=t.indexOf("u",j+2),Qe=t.substring(j+1,ce);this.update_loc=Qe,console.log("u="+this.update_loc.toString())}var Ft=t.indexOf("m");if(-1!=Ft){var Mt=t.substring(Ft+1,Ft+2);this.m=parseInt(Mt),console.log("m="+this.m)}-1!=t.indexOf("h")&&(this.h=!0,console.log("h to halt"));var _e=t.indexOf("o");if(-1!=_e){var E,wo=t.substring(_e+1,_e+2);"1"==wo&&("0"==(E=t.substring(_e+2,_e+3))||"1"==E||"2"==E)&&(wo+=E),this.o=parseInt(wo),console.log("o="+this.o)}-1!=t.indexOf("sc")&&(this.sc=!0,console.log("sc=true"))}}class mo{constructor(t,e){this.msgid="",this.createdAt="",this.username="",this.msgtext="",this.isbot=!1,this.isdevil=!1,this.iscrysanthea=!1,this.oobstring="",this.username=t,this.msgtext=e}}class b0{}const dr="*";function Ln(n,t){return{type:7,name:n,definitions:t,options:{}}}function tt(n,t=null){return{type:4,styles:t,timings:n}}function D0(n,t=null){return{type:2,steps:n,options:t}}function ve(n){return{type:6,styles:n,offset:null}}function Te(n,t,e){return{type:0,name:n,styles:t,options:e}}function nt(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function E0(n){Promise.resolve().then(n)}class $s{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){E0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class S0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?E0(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Vn=Object.create(null);Vn.open="0",Vn.close="1",Vn.ping="2",Vn.pong="3",Vn.message="4",Vn.upgrade="5",Vn.noop="6";const hc=Object.create(null);Object.keys(Vn).forEach(n=>{hc[Vn[n]]=n});const jL={type:"error",data:"parser error"},$L="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),HL="function"==typeof ArrayBuffer,T0=(n,t)=>{const e=new FileReader;return e.onload=function(){const r=e.result.split(",")[1];t("b"+r)},e.readAsDataURL(n)},M0=({type:n,data:t},e,r)=>$L&&t instanceof Blob?e?r(t):T0(t,r):HL&&(t instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(t))?e?r(t):T0(new Blob([t]),r):r(Vn[n]+(t||"")),yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<yo.length;n++)Hs[yo.charCodeAt(n)]=n;const WL="function"==typeof ArrayBuffer,QL=(n,t)=>{if(WL){const e=(n=>{let r,o,s,a,l,t=.75*n.length,e=n.length,i=0;"="===n[n.length-1]&&(t--,"="===n[n.length-2]&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(r=0;r<e;r+=4)o=Hs[n.charCodeAt(r)],s=Hs[n.charCodeAt(r+1)],a=Hs[n.charCodeAt(r+2)],l=Hs[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(15&s)<<4|a>>2,u[i++]=(3&a)<<6|63&l;return c})(n);return I0(e,t)}return{base64:!0,data:n}},I0=(n,t)=>"blob"===t&&n instanceof ArrayBuffer?new Blob([n]):n,A0=(n,t)=>{if("string"!=typeof n)return{type:"message",data:I0(n,t)};const e=n.charAt(0);return"b"===e?{type:"message",data:QL(n.substring(1),t)}:hc[e]?n.length>1?{type:hc[e],data:n.substring(1)}:{type:hc[e]}:jL},x0=String.fromCharCode(30);function Ke(n){if(n)return function JL(n){for(var t in Ke.prototype)n[t]=Ke.prototype[t];return n}(n)}Ke.prototype.on=Ke.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this},Ke.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this},Ke.prototype.off=Ke.prototype.removeListener=Ke.prototype.removeAllListeners=Ke.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<e.length;i++)if((r=e[i])===t||r.fn===t){e.splice(i,1);break}return 0===e.length&&delete this._callbacks["$"+n],this},Ke.prototype.emitReserved=Ke.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e){r=0;for(var i=(e=e.slice(0)).length;r<i;++r)e[r].apply(this,t)}return this},Ke.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ke.prototype.hasListeners=function(n){return!!this.listeners(n).length};const xr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function P0(n,...t){return t.reduce((e,r)=>(n.hasOwnProperty(r)&&(e[r]=n[r]),e),{})}const XL=setTimeout,eV=clearTimeout;function fc(n,t){t.useNativeTimers?(n.setTimeoutFn=XL.bind(xr),n.clearTimeoutFn=eV.bind(xr)):(n.setTimeoutFn=setTimeout.bind(xr),n.clearTimeoutFn=clearTimeout.bind(xr))}function nV(n){return"string"==typeof n?function rV(n){let t=0,e=0;for(let r=0,i=n.length;r<i;r++)t=n.charCodeAt(r),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(r++,e+=4);return e}(n):Math.ceil(1.33*(n.byteLength||n.size))}class iV extends Error{constructor(t,e,r){super(t),this.description=e,this.context=r,this.type="TransportError"}}class N0 extends Ke{constructor(t){super(),this.writable=!1,fc(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,r){return super.emitReserved("error",new iV(t,e,r)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=A0(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const R0="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),O0={};let L0,F0=0,kr=0;function V0(n){let t="";do{t=R0[n%64]+t,n=Math.floor(n/64)}while(n>0);return t}function B0(){const n=V0(+new Date);return n!==L0?(F0=0,L0=n):n+"."+V0(F0++)}for(;kr<64;kr++)O0[R0[kr]]=kr;function U0(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}let j0=!1;try{j0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const sV=j0;function $0(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||sV))return new XMLHttpRequest}catch{}if(!t)try{return new(xr[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function aV(){}const lV=null!=new $0({xdomain:!1}).responseType;let gc=(()=>{class n extends Ke{constructor(e,r){super(),fc(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=!1!==r.async,this.data=void 0!==r.data?r.data:null,this.create()}create(){const e=P0(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new $0(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}typeof document<"u"&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=aV,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function H0(){for(let n in gc.requests)gc.requests.hasOwnProperty(n)&&gc.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",H0):"function"==typeof addEventListener&&addEventListener("onpagehide"in xr?"pagehide":"unload",H0,!1));const uV="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),mc=xr.WebSocket||xr.MozWebSocket,z0=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),fV={websocket:class hV extends N0{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,r=z0?{}:P0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=z0?new mc(t,e,r):e?new mc(t,e):new mc(t)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const i=e===t.length-1;M0(t[e],this.supportsBinary,o=>{try{this.ws.send(o)}catch{}i&&uV(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=B0()),this.supportsBinary||(t.b64=1);const i=U0(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!mc}},polling:class cV extends N0{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==r}this.supportsBinary=lV&&!(t&&t.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||e()})),this.writable||(r++,this.once("drain",function(){--r||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((n,t)=>{const e=n.split(x0),r=[];for(let i=0;i<e.length;i++){const o=A0(e[i],t);if(r.push(o),"error"===o.type)break}return r})(t,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((n,t)=>{const e=n.length,r=new Array(e);let i=0;n.forEach((o,s)=>{M0(o,!1,a=>{r[s]=a,++i===e&&t(r.join(x0))})})})(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=B0()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const i=U0(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new gc(this.uri(),t)}doWrite(t,e){const r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,r)=>{this.onError("xhr poll error",e,r)}),this.pollXhr=t}}},pV=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,gV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hp(n){const t=n,e=n.indexOf("["),r=n.indexOf("]");-1!=e&&-1!=r&&(n=n.substring(0,e)+n.substring(e,r).replace(/:/g,";")+n.substring(r,n.length));let i=pV.exec(n||""),o={},s=14;for(;s--;)o[gV[s]]=i[s]||"";return-1!=e&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function mV(n,t){const r=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.substr(0,1)||0===t.length)&&r.splice(0,1),"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function yV(n,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(e[i]=o)}),e}(0,o.query),o}let G0=(()=>{class n extends Ke{constructor(e,r={}){super(),e&&"object"==typeof e&&(r=e,e=null),e?(e=hp(e),r.hostname=e.host,r.secure="https"===e.protocol||"wss"===e.protocol,r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=hp(r.host).host),fc(this,r),this.secure=null!=r.secure?r.secure:typeof location<"u"&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function oV(n){let t={},e=n.split("&");for(let r=0,i=e.length;r<i;r++){let o=e[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=e,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new fV[e](i)}open(){let e;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),i=!1;n.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!i)if("pong"===h.type&&"probe"===h.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function s(){i||(i=!0,d(),r.close(),r=null)}const a=h=>{const f=new Error("probe error: "+h);f.transport=r.name,s(),this.emitReserved("upgradeError",f)};function l(){a("transport closed")}function c(){a("socket closed")}function u(h){r&&h.name!==r.name&&s()}const d=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",o),r.once("error",a),r.once("close",l),this.once("close",c),this.once("upgrading",u),r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=nV(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(e,r,i){return this.sendPacket("message",e,r,i),this}send(e,r,i){return this.sendPacket("message",e,r,i),this}sendPacket(e,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:e,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let i=0;const o=e.length;for(;i<o;i++)~this.transports.indexOf(e[i])&&r.push(e[i]);return r}}return n.protocol=4,n})();const vV="function"==typeof ArrayBuffer,q0=Object.prototype.toString,CV="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===q0.call(Blob),bV="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===q0.call(File);function fp(n){return vV&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||CV&&n instanceof Blob||bV&&n instanceof File}function yc(n,t){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let e=0,r=n.length;e<r;e++)if(yc(n[e]))return!0;return!1}if(fp(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return yc(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&yc(n[e]))return!0;return!1}function DV(n){const t=[],r=n;return r.data=pp(n.data,t),r.attachments=t.length,{packet:r,buffers:t}}function pp(n,t){if(!n)return n;if(fp(n)){const e={_placeholder:!0,num:t.length};return t.push(n),e}if(Array.isArray(n)){const e=new Array(n.length);for(let r=0;r<n.length;r++)e[r]=pp(n[r],t);return e}if("object"==typeof n&&!(n instanceof Date)){const e={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=pp(n[r],t));return e}return n}function EV(n,t){return n.data=gp(n.data,t),delete n.attachments,n}function gp(n,t){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=gp(n[e],t);else if("object"==typeof n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=gp(n[e],t));return n}const SV=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],W0=5;var le=(()=>{return(n=le||(le={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",le;var n})();class TV{constructor(t){this.replacer=t}encode(t){return t.type!==le.EVENT&&t.type!==le.ACK||!yc(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===le.EVENT?le.BINARY_EVENT:le.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return(t.type===le.BINARY_EVENT||t.type===le.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=DV(t),r=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(r),i}}function K0(n){return"[object Object]"===Object.prototype.toString.call(n)}class mp extends Ke{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const r=e.type===le.BINARY_EVENT;r||e.type===le.BINARY_ACK?(e.type=r?le.EVENT:le.ACK,this.reconstructor=new MV(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!fp(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const r={type:Number(t.charAt(0))};if(void 0===le[r.type])throw new Error("unknown packet type "+r.type);if(r.type===le.BINARY_EVENT||r.type===le.BINARY_ACK){const o=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const s=t.substring(o,e);if(s!=Number(s)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===t.charAt(e+1)){const o=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);r.nsp=t.substring(o,e)}else r.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const o=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}r.id=Number(t.substring(o,e+1))}if(t.charAt(++e)){const o=this.tryParse(t.substr(e));if(!mp.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case le.CONNECT:return K0(e);case le.DISCONNECT:return void 0===e;case le.CONNECT_ERROR:return"string"==typeof e||K0(e);case le.EVENT:case le.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===SV.indexOf(e[0]));case le.ACK:case le.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class MV{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=EV(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Sn(n,t,e){return n.on(t,e),function(){n.off(t,e)}}const IV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yp extends Ke{constructor(t,e,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Sn(t,"open",this.onopen.bind(this)),Sn(t,"packet",this.onpacket.bind(this)),Sn(t,"error",this.onerror.bind(this)),Sn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(IV.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');e.unshift(t);const r={type:le.EVENT,data:e,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const s=this.ids++,a=e.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){const r=this.flags.timeout;if(void 0===r)return void(this.acks[t]=e);const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);e.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(i),e.apply(this,[null,...o])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this.packet({type:le.CONNECT,data:t})}):this.packet({type:le.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case le.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case le.EVENT:case le.BINARY_EVENT:this.onevent(t);break;case le.ACK:case le.BINARY_ACK:this.onack(t);break;case le.DISCONNECT:this.ondisconnect();break;case le.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const r of e)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let r=!1;return function(...i){r||(r=!0,e.packet({type:le.ACK,id:t,data:i}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:le.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const r of e)r.apply(this,t.data)}}}function _o(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}_o.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=0==(1&Math.floor(10*t))?n-e:n+e}return 0|Math.min(n,this.max)},_o.prototype.reset=function(){this.attempts=0},_o.prototype.setMin=function(n){this.ms=n},_o.prototype.setMax=function(n){this.max=n},_o.prototype.setJitter=function(n){this.jitter=n};class _c extends Ke{constructor(t,e){var r;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,fc(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=e.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new _o({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout??2e4),this._readyState="closed",this.uri=t;const i=e.parser||bo;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new G0(this.uri,this.opts);const e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Sn(e,"open",function(){r.onopen(),t&&t()}),o=Sn(e,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),t?t(s):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const s=this._timeout;0===s&&i();const a=this.setTimeoutFn(()=>{i(),e.close(),e.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Sn(t,"ping",this.onping.bind(this)),Sn(t,"data",this.ondata.bind(this)),Sn(t,"error",this.onerror.bind(this)),Sn(t,"close",this.onclose.bind(this)),Sn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch{this.onclose("parse error")}}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,e){let r=this.nsps[t];return r||(r=new yp(this,t,e),this.nsps[t]=r),r}_destroy(t){const e=Object.keys(this.nsps);for(const r of e)if(this.nsps[r].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let r=0;r<e.length;r++)this.engine.write(e[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},e);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const zs={};function Pr(n,t){"object"==typeof n&&(t=n,n=void 0);const e=function _V(n,t="",e){let r=n;e=e||typeof location<"u"&&location,null==n&&(n=e.protocol+"//"+e.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?e.protocol+n:e.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof e<"u"?e.protocol+"//"+n:"https://"+n),r=hp(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(e&&e.port===r.port?"":":"+r.port),r}(n,(t=t||{}).path||"/socket.io"),r=e.source,i=e.id;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||zs[i]&&e.path in zs[i].nsps?l=new _c(r,t):(zs[i]||(zs[i]=new _c(r,t)),l=zs[i]),e.query&&!t.query&&(t.query=e.queryKey),l.socket(e.path,t)}Object.assign(Pr,{Manager:_c,Socket:yp,io:Pr,connect:Pr});class _p{constructor(t){this.config=t,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===t&&(t=this.emptyConfig),this.ioSocket=(Pr||Uc)(t.url,t.options)}of(t){this.ioSocket.of(t)}on(t,e){this.ioSocket.on(t,e)}once(t,e){this.ioSocket.once(t,e)}connect(){return this.ioSocket.connect()}disconnect(t){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(t,...e){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(t,e){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(t){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(t){return this.subscribersCounter[t]||(this.subscribersCounter[t]=0),this.subscribersCounter[t]++,this.eventObservables$[t]||(this.eventObservables$[t]=new pe(e=>{const r=i=>{e.next(i)};return this.ioSocket.on(t,r),()=>{this.subscribersCounter[t]--,0===this.subscribersCounter[t]&&(this.ioSocket.removeListener(t,r),delete this.eventObservables$[t])}}).pipe(bg())),this.eventObservables$[t]}fromOneTimeEvent(t){return new Promise(e=>this.once(t,e))}}function AV(n){return new _p(n)}const Q0=new $("__SOCKET_IO_CONFIG__");let xV=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Q0,useValue:e},{provide:_p,useFactory:AV,deps:[Q0]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({}),n})(),vp=(()=>{class n{constructor(e){this.socket=e,this.limit_size=5,this.skip_size=0,this.initial_take_size=3,this.hot_store_array=[],this.awaitingSocketResponse=!1,this.username="",this.doneCreateRoom=()=>pe.create(r=>{this.socket.on("done-create-room-"+this.username,()=>{r.next()})}),this.getMessages=()=>pe.create(r=>{console.log("get messages for "+this.username),this.socket.on("emit-message-"+this.username,i=>{console.log("incoming message for "+this.username),r.next(i)})})}initializeChatHistoryProcessing(){this.skip_size=0,this.awaitingSocketResponse=!1}createRoom(e){console.log("beginning create room"),this.initializeChatHistoryProcessing(),this.username=e,this.socket.emit("create room",{username:e})}sendMessage(e){this.socket.emit("new-message",e)}offSocket(){this.socket.removeAllListeners()}getInitialChatHistory(){var e=this.initial_take_size+this.limit_size;return console.log("emit with take_size="+e+", skip_size="+this.skip_size),this.awaitingSocketResponse=!0,this.socket.emit("chathistory",{username:this.username,limit:e,skip:this.skip_size}),pe.create(r=>{this.socket.on("chathistoryresults-"+this.username,i=>{if(console.log("received chathistory response="+i),i){var o=i.data;console.log("length of incoming take_history_array="+o.length);var s=[];if(0==this.skip_size){for(var a=0;a<o.length;a++){var l=o[a];a<this.initial_take_size?s.push(l):this.hot_store_array.push(l)}console.log("length of hot_history_array="+this.hot_store_array.length),console.log("length of return_array="+s.length),r.next(s),this.skip_size+=e}else this.skip_size+=this.limit_size,console.log("skip size increased to "+this.skip_size),this.hot_store_array=o,console.log("hot_store_array is now length="+this.hot_store_array.length)}this.awaitingSocketResponse=!1})})}getMoreChatHistory(){if(console.log("get more chat history for username="+this.username),this.awaitingSocketResponse)return pe.create(i=>{console.log("returning empty array"),i.next([])});var r,e=this.limit_size;return console.log("now emit with take_size="+e+", skip_size="+this.skip_size),this.awaitingSocketResponse=!0,console.log("limit_size="+this.limit_size.toString()+", skip_size="+this.skip_size.toString()),this.socket.emit("chathistory",{username:this.username,limit:e,skip:this.skip_size}),r=[...this.hot_store_array],pe.create(i=>{console.log("returning array of length="+r.length),i.next(r)})}moreToLoad(){return console.log("skip size="+this.skip_size+" hot store length="+this.hot_store_array.length+" and limit size="+this.limit_size),0==this.skip_size?(console.log("inital call"),this.hot_store_array.length>0):(console.log("another call"),this.hot_store_array.length==this.limit_size)}deleteUser(e){console.log("call backend to delete -user for user="+e),this.socket.emit("delete-user",{username:e})}}return n.\u0275fac=function(e){return new(e||n)(F(_p))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wp=(()=>{class n{constructor(){this.invokeToggleDevilFunction=new Me}onToggleDevil(){this.invokeToggleDevilFunction.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y0=(()=>{class n{constructor(){this._developer=!1}set developer(e){this._developer=e}get developer(){return this._developer}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z0(n,t,e,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(r,i)}let PV=(()=>{class n{constructor(e){this.router=e}ngOnInit(){var e=this;return function kV(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function s(l){Z0(o,r,i,s,a,"next",l)}function a(l){Z0(o,r,i,s,a,"throw",l)}s(void 0)})}}(function*(){var r="assets/unencoded/Build",i={dataUrl:r+"/built.data",frameworkUrl:r+"/built.framework.js",codeUrl:r+"/built.wasm",streamingAssetsUrl:"StreamingAssets",companyName:"chattyfiction",productName:"chatbot_thing",productVersion:"1.0.0",devicePixelRatio:0};let o=document.querySelector("#unity-container")||new Element;var s=document.querySelector("#unity-canvas")||new HTMLElement,a=document.querySelector("#unity-loading-bar")||new HTMLElement,l=document.querySelector("#unity-progress-bar-full")||new HTMLElement,c=document.querySelector("#unity-fullscreen-button")||new HTMLElement,u=document.querySelector("#unity-mobile-warning")||new HTMLElement;s.style.height="640px",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?(o.className="unity-mobile",i.devicePixelRatio=1,u.style.display="block",setTimeout(()=>{u.style.display="none"},5e3)):s.style.height="640px",a.style.display="block",s.style.width=window.innerWidth.toString()+"px",console.log("canvas width="+s.style.width),e.gameInstance=createUnityInstance(s,i,d=>{l.style.width=100*d+"%"}).then(d=>{e.gameInstance=d,a.style.display="none",c.onclick=()=>{d.SetFullscreen(1)}}).catch(d=>{alert(d)}),e.unitycanvas=s})()}closeUnity(e=!0){console.log("closing unity"),this.gameInstance.Quit().then(()=>{console.log("closed unity"),e&&this.router.navigate(["/home"])}),this.gameInstance=null}onResize(){var e=window.innerWidth.toString()+"px";this.unitycanvas.style.width=e,console.log("window resized to width="+e.toString()),this.refreshPositions()}doChereeAnimation(e){console.log("start cheree animation"+e);try{this.gameInstance.SendMessage("Cheree","StartAnimation",e)}catch(r){console.log("err sending to unity: "+r)}}doMellenAnimation(e){console.log("start mellen animation"+e);try{this.gameInstance.SendMessage("Mellen","StartAnimation",e)}catch(r){console.log("err sending to unity: "+r)}}doStopAnimations(){this.gameInstance.SendMessage("Cheree","StopAnimation"),this.gameInstance.SendMessage("Mellen","StopAnimation")}doCameraToLeft(){console.log("camera to left"),this.gameInstance.SendMessage("Main Camera","CameraToLeft")}doCameraToRight(){console.log("camera to right"),this.gameInstance.SendMessage("Main Camera","CameraToRight")}showMellen(){console.log("showing mellen");try{this.gameInstance.SendMessage("Cheree","ShowMellen")}catch(e){console.log("err sending to unity: "+e)}setTimeout(()=>{this.refreshPositions()},100)}refreshPositions(){console.log("refreshing positions");var e=window.innerWidth/1e3;e<.5&&(e=.5),e>1&&(e=1),console.log("half_width="+e.toString());var r=e-.22,i=-e-.22;console.log("x1="+r.toString()+" x2="+i.toString()),this.gameInstance.SendMessage("Cheree","SetBase",r),this.gameInstance.SendMessage("Mellen","SetBase",i)}hideMellen(){console.log("hiding mellen");try{this.gameInstance.SendMessage("Cheree","HideMellen")}catch(e){console.log("err sending to unity: "+e)}}rotateCheree(e){this.gameInstance.SendMessage("Cheree",e?"RotateRight":"RotateLeft")}rotateMellen(e){this.gameInstance.SendMessage("Mellen",e?"RotateRight":"RotateLeft")}setChereeBase(e){this.gameInstance.SendMessage("Cheree","SetBase",e)}setMellenBase(e){this.gameInstance.SendMessage("Mellen","SetBase",e)}}return n.\u0275fac=function(e){return new(e||n)(T(We))},n.\u0275cmp=Wn({type:n,selectors:[["unity"]],decls:11,vars:0,consts:[["id","unity-container",1,"unity-desktop",3,"resize"],["id","unity-canvas","width","1792","height","640"],["id","unity-loading-bar"],["id","unity-logo"],["id","unity-progress-bar-empty"],["id","unity-progress-bar-full"],["id","unity-warning"],["id","unity-footer"],["id","unity-webgl-logo"],["id","unity-fullscreen-button"],["id","unity-mobile-warning"]],template:function(e,r){1&e&&(m(0,"div",0),k("resize",function(){return r.onResize()},0,ry),M(1,"canvas",1),m(2,"div",2),M(3,"div",3),m(4,"div",4),M(5,"div",5),g()(),M(6,"div",6),m(7,"div",7),M(8,"div",8)(9,"div",9)(10,"div",10),g()())},encapsulation:2}),n})();function NV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Communicating with Cheree "),g(),M(3,"br")(4,"br"),m(5,"div",3),p(6," Conveying your thoughts to Cheree is no different from chatting. Simply type in English whatever you're thinking and press the "),m(7,"span",4),p(8,"ENTER"),g(),p(9," key or click the "),m(10,"span",4),p(11,"Think it"),g(),p(12," button. "),M(13,"br")(14,"br"),p(15," When you aren't sure what to type, it's okay to type nothing. "),g()())}function RV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," The Location List "),g(),M(3,"br")(4,"br"),m(5,"div",3),p(6," View the locations Cheree can visit by clicking the "),m(7,"span",5),p(8,"location name"),g(),p(9," in the upper left corner. From there you can request a location by clicking its name. "),M(10,"br")(11,"br"),p(12," Or you can ask her in English by referring to the location number. "),g()())}function OV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Collecting Clues "),g(),M(3,"br")(4,"br"),m(5,"div",3),p(6," Certain topics when discussed with Cheree will trigger a realization, resulting in a clue. The two of you will need to find all clues in order to solve the mystery. (No matter what, you are never locked out of solving it) "),M(7,"br")(8,"br"),p(9," View the clues you have collected by clicking "),m(10,"span",5),p(11,"Clues"),g(),p(12," in the upper right corner. "),M(13,"br")(14,"br"),m(15,"span",4),p(16,"Tip"),g(),p(17,": Pay attention to names of people and concepts that come up in conversation. You can, for instance, ask what (according to Cheree) one person thinks about another. "),g()())}function FV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Deciphering Clues "),g(),M(3,"br")(4,"br"),m(5,"div",3),p(6," A clue once collected must be deciphered. Each letter in the alphabet codes for a different letter. "),M(7,"br")(8,"br"),p(9," To change a letter first select it (click on the letter) in the code. Then type on the keyboard the letter you wish to change it to, or use the letter input field. "),M(10,"br")(11,"br"),m(12,"span",4),p(13,"Tips"),g(),p(14,': Begin with short words commonly occuring in sentences, such as "I", "it", "the". If you are having trouble solving the code, sometimes trying random letters may give you ideas. '),g()())}function LV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Relationship Levels "),g(),M(3,"br")(4,"br"),m(5,"div",3),p(6," Your relationship with Cheree is represented by a "),m(7,"span",5),p(8,"level"),g(),p(9," displayed in the upper right corner. As your level increases, Cheree becomes comfortable discussing more topics. "),M(10,"br")(11,"br"),p(12,' You naturally accumulate points towards the next level as you "converse" thoughts, but not all thoughts accumulate points. '),M(13,"br")(14,"br"),p(15," Which ones do? There is no way to know in advance, but generally, Cheree likes it when you pose "),m(16,"span",4),p(17,"questions"),g(),p(18," and make "),m(19,"span",4),p(20,"statements"),g(),p(21," that she can understand. "),g()())}function VV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Locations Without Clues "),g(),M(3,"br")(4,"br"),m(5,"div",3),p(6," At times, Cheree will infer that there are no more clues to be found at a location. "),p(7," The names of such locations will appear in "),m(8,"span",6),p(9,"green"),g(),p(10," in the location list. (Note that simply because a location isn't green doesn't mean there is necessarily a clue there) "),g()())}function BV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Cheree's Moods "),g(),M(3,"br")(4,"br"),m(5,"div",3),p(6,' The way that you go about "conversing" with Cheree has an effect on her mood. For instance, being very terse can cause her to feel neglected. '),M(7,"br")(8,"br"),p(9," Cheree's mood is displayed in the upper left. When her mood is anything other than "),m(10,"span",4),p(11,"normal"),g(),p(12," it will halt the increase of relationship points. "),M(13,"br"),p(14," (Exception: Correctly answering trivia questions always increases points) "),M(15,"br")(16,"br"),p(17," Her mood will revert to normal over time, but you may discover certain actions that can immediately break Cheree out of a bad mood. "),g()())}function UV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Cheree's Moods (2/3) "),g(),M(3,"br")(4,"br"),m(5,"div",3)(6,"div")(7,"span",7),p(8,"Agitated"),g(),p(9," - Triggered by using too much negative language "),g(),M(10,"br"),m(11,"div")(12,"span",7),p(13,"Neglected"),g(),p(14," - Triggered by thinking too many short thoughts "),g(),M(15,"br"),m(16,"div")(17,"span",7),p(18,"Misunderstood"),g(),p(19," - Triggered by only making statements, not asking questions "),g(),M(20,"br"),m(21,"div")(22,"span",7),p(23,"Interrogated"),g(),p(24," - Triggered by only asking questions, not making statements "),g(),M(25,"br"),g()())}function jV(n,t){1&n&&(m(0,"div",1)(1,"div",2),p(2," Cheree's Moods (3/3) "),g(),M(3,"br")(4,"br"),m(5,"div",3)(6,"div")(7,"span",7),p(8,"Flustered"),g(),p(9," - Triggered by changing topics too frequently "),g(),M(10,"br"),m(11,"div")(12,"span",7),p(13,"Creeped"),g(),p(14," - Triggered by excessive flirting (at sufficiently high relationship level does not trigger) "),g(),M(15,"br"),p(16," Her mood will revert to normal over time, but you may discover certain actions that can immediately break Cheree out of a bad mood. "),g()())}let $V=(()=>{class n{constructor(){this.whichTutorialView=-1}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wn({type:n,selectors:[["tutorial"]],inputs:{whichTutorialView:"whichTutorialView"},decls:9,vars:9,consts:[["class","tut",4,"ngIf"],[1,"tut"],[1,"system-title"],[1,"system-text"],[2,"color","lightseagreen"],[2,"color","yellow"],[2,"color","#3a1"],[2,"color","violet"]],template:function(e,r){1&e&&(I(0,NV,16,0,"div",0),I(1,RV,13,0,"div",0),I(2,OV,18,0,"div",0),I(3,FV,15,0,"div",0),I(4,LV,22,0,"div",0),I(5,VV,11,0,"div",0),I(6,BV,18,0,"div",0),I(7,UV,26,0,"div",0),I(8,jV,17,0,"div",0)),2&e&&(w("ngIf",0==r.whichTutorialView),v(1),w("ngIf",1==r.whichTutorialView),v(1),w("ngIf",2==r.whichTutorialView),v(1),w("ngIf",3==r.whichTutorialView),v(1),w("ngIf",4==r.whichTutorialView),v(1),w("ngIf",5==r.whichTutorialView),v(1),w("ngIf",6==r.whichTutorialView),v(1),w("ngIf",7==r.whichTutorialView),v(1),w("ngIf",8==r.whichTutorialView))},dependencies:[io],styles:[".system-title[_ngcontent-%COMP%] {\n      font-size: 20px;\n      font-family:'playfair'; \n      color: #d88;\n      padding-top: 15px;\n    }\n\n    .system-text[_ngcontent-%COMP%] {\n      font-size: 14px;\n      color: white;\n    }\n\n    .tut[_ngcontent-%COMP%] {\n      padding-left: 10px;\n      padding-right: 10px;\n    }"]}),n})();function HV(n,t){if(1&n){const e=re();m(0,"div")(1,"span",12),k("@letterAnim.done",function(){return B(e),U(b(4).afterLetterAnim())}),p(2),g()()}if(2&n){const e=b(2),r=e.$implicit,i=e.index,o=b().index,s=b();v(1),w("@letterAnim",s.whichLetterAnimColor),v(1),ze(" ",s.adjustLetter(r,o,i)," ")}}function zV(n,t){if(1&n&&(m(0,"div")(1,"span",12),p(2),g()()),2&n){const e=b(2),r=e.$implicit,i=e.index,o=b().index,s=b();v(1),w("@letterAnim",s.whichLetterAnimColor),v(1),ze(" ",s.adjustLetter(r,o,i)," ")}}function GV(n,t){if(1&n){const e=re();m(0,"div")(1,"a",13),k("click",function(){B(e);const i=b(3),o=i.$implicit,s=i.index,a=b().index;return U(b().highlightThisLetter(o,a,s))}),p(2),g()()}if(2&n){const e=b(3),r=e.$implicit,i=e.index,o=b().index,s=b();v(2),nr(s.adjustLetter(r,o,i))}}function qV(n,t){if(1&n){const e=re();m(0,"div")(1,"a",14),k("click",function(){B(e);const i=b(4),o=i.$implicit,s=i.index,a=b().index,l=b(),c=qd(10);return l.highlightThisLetter(o,a,s),U(c.select())}),p(2),g()()}if(2&n){const e=b(4),r=e.$implicit,i=e.index,o=b().index,s=b();v(2),nr(s.adjustLetter(r,o,i))}}function WV(n,t){if(1&n&&(m(0,"div")(1,"span",15),p(2),g()()),2&n){const e=b(4),r=e.$implicit,i=e.index,o=b().index,s=b();v(2),nr(s.adjustLetter(r,o,i))}}function KV(n,t){if(1&n&&(m(0,"div"),I(1,qV,3,1,"div",11),I(2,WV,3,1,"div",11),g()),2&n){const e=b(3).$implicit;v(1),w("ngIf",e>="a"&&e<="z"),v(1),w("ngIf",e<"a"||e>"z")}}function QV(n,t){if(1&n&&(m(0,"div"),I(1,GV,3,1,"div",11),I(2,KV,3,2,"div",11),g()),2&n){const e=b(2).$implicit,r=b(2);v(1),w("ngIf",e==r.highlightedletter),v(1),w("ngIf",e!=r.highlightedletter)}}function YV(n,t){if(1&n&&(m(0,"div",10),I(1,HV,3,2,"div",11),I(2,zV,3,2,"div",11),I(3,QV,3,2,"div",11),g()),2&n){const e=b().index,r=b().index,i=b();v(1),w("ngIf",i.codesolved&&0==r&&0==e),v(1),w("ngIf",i.codesolved&&(0!=r||0!=e)),v(1),w("ngIf",!i.codesolved)}}function ZV(n,t){if(1&n&&(m(0,"div",8),I(1,YV,4,3,"div",9),p(2," \xad "),g()),2&n){const e=t.$implicit;v(1),w("ngIf"," "!=e)}}function JV(n,t){if(1&n&&(m(0,"div",6),I(1,ZV,3,1,"div",7),p(2," \xa0\xa0\n"),g()),2&n){const e=t.$implicit;v(1),w("ngForOf",e)}}let XV=(()=>{class n{constructor(e){this.varsService=e,this.whichCode=-1,this.buttonTextChange=new Me,this.puzzleSolved=new Me,this.code=[],this.codemap=[],this.highlightedletter=" ",this.inputletter="",this.codesolved=!1,this.codepuzzleinstructions="Select letter and key in new letter for it.",this.codehint="",this.codewordarray=[],this.codetargetarray=[],this.highlighted_i=-1,this.highlighted_j=-1,this.whichLetterAnimColor="one"}afterLetterAnim(){for(var e=this.whichLetterAnimColor;e==this.whichLetterAnimColor;)switch(Math.floor(8*Math.random())){case 0:this.whichLetterAnimColor="one";break;case 1:this.whichLetterAnimColor="two";break;case 2:this.whichLetterAnimColor="three";break;case 3:this.whichLetterAnimColor="four";break;case 4:this.whichLetterAnimColor="five";break;case 5:this.whichLetterAnimColor="six";break;case 6:this.whichLetterAnimColor="seven";break;case 7:this.whichLetterAnimColor="eight"}}ngOnInit(){console.log("init with whichcode="+this.whichCode),this.prepareCode(this.whichCode)}ngOnChanges(){}getCodeBody(e){return 0==e?"the year 1891 was the last year of my life. i died that year. where i do not remember but it was not at home.":1==e?"the cause of my death was a head injury. something hard struck the back of my head. it may have happened suddenly. i may not have seen who inflicted it.":2==e?"the police that day were carrying umbrellas. that means they were from hampshire. then my body must have been found in hampshire.":3==e?"i am certain that i have had personal experience with chloroform having been administered to me by somebody. it was likely against my will.":4==e?"although she was stabbed dozens of times, the weapon that killed martha tabram may have been a bayonet, possibly owned by one of the soldiers she had been with that night.":5==e?"burton was my sister's fiance. he was a guardsman in london, but he left with my sister during the murders.":6==e?"my sister offered to conduct a seance and chauncy took her up on the offer. however, it did not further his investigation. quite the opposite.":7==e?"burton had many experiences during the war, including assisting the army surgeon in administering drugs. he went on to leave the military despite achieving high rank.":"i was present during a carriage ride in which the horses were whipped. the destination of this ride was hampshire."}getCodeHint(e){return 0==e?"What happened in the year 1891?":1==e?"What was the cause of death?":2==e?"Where was Cheree found?":3==e?"''If it was good enough for the Queen''":4==e?"The killing blow?":5==e?"My sister had a fiance.":6==e?"What business did my sister have in London?":7==e?"How accomplished was Burton?":"Why can I remember a whip cracking?"}highlightThisLetter(e,r,i){this.highlightedletter=e,this.inputletter=e,console.log("highlighted "+this.highlightedletter+" at i="+r+" j="+i),this.highlighted_i=r,this.highlighted_j=i}prepareCode(e,r=!1){var i=this.getCodeBody(e);this.codehint=this.getCodeHint(e),this.whichCode=e,this.codetargetarray=[];var o=i.split(" ");for(let c of o){var s=Array.from(Array(c.length)).map((u,d)=>c[d]);this.codetargetarray.push(s)}this.code=Array.from(Array(i.length)).map((c,u)=>i[u]);var a=r?i:this.codify(i,e);this.buttonTextChange.emit("Try Later"),this.codepuzzleinstructions="Select letter and key in new letter for it.",this.codewordarray=[];var l=a.split(" ");console.log("wordarray="+l.toString());for(let c of l)s=Array.from(Array(c.length)).map((d,h)=>c[h]),this.codewordarray.push(s)}codify(e,r){var i="";switch(r){case 0:i="lpmkonjibhuvgycftxdrzseawq";break;case 1:i="kjhgfdsaqwertyuiopmnbvcxzl";break;case 2:i="qetuoadgjlzcbmwryipsfhkxvn";break;case 3:i="zaqxswcdevfrbgtnhymjukilop";break;case 4:i="piyrwouteqljgdakhfsmbcznvx";break;case 5:i="opiuytrewqlkjhgfdsamnbvcxz";break;case 6:i="mnbvcxzlkjhgfdsapoiuytrewq";break;case 7:i="tyuiopqwerghjklasdfbnmzxcv";break;case 8:i="hoadgjwryipsfkxvnqetulzcbm"}this.codemap=Array.from(Array(26)).map((_,C)=>i[C]);const s=Array.from(Array(26)).map((_,C)=>C+97).map(_=>String.fromCharCode(_));console.log("alphabet="+s);for(var a=e,l=e.length,c=0;c<e.length;c++){var h=s[this.codemap.indexOf(a[c])];if(h){var f=a.substring(0,c),y=a.substring(c+1,l);a=f+h+y}}return console.log("code="+a),a}solvepuzzle(){console.log("solved it!"),this.codesolved=!0,this.highlightedletter=" ",this.buttonTextChange.emit("Close"),this.codepuzzleinstructions="Solved!",this.puzzleSolved.emit()}adjustLetter(e,r,i){if(0==r&&0==i)return e.toUpperCase();if(0==i){var o=this.codetargetarray[r-1];if("."==o[o.length-1]||"i"==this.codetargetarray[r][i]&&1==this.codetargetarray[r].length||"h"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=9&&"a"==this.codetargetarray[r][i+1]&&"m"==this.codetargetarray[r][i+2]||"m"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"a"==this.codetargetarray[r][i+1]&&"r"==this.codetargetarray[r][i+2]||"t"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"a"==this.codetargetarray[r][i+1]&&"b"==this.codetargetarray[r][i+2]||"b"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"u"==this.codetargetarray[r][i+1]&&"r"==this.codetargetarray[r][i+2]||"l"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=6&&"o"==this.codetargetarray[r][i+1]&&"n"==this.codetargetarray[r][i+2]||"c"==this.codetargetarray[r][i]&&this.codetargetarray[r].length>=7&&"h"==this.codetargetarray[r][i+1]&&"a"==this.codetargetarray[r][i+2])return e.toUpperCase()}return e}handleKeyboardEvent(e){if("ArrowLeft"==e.key?(0!=this.highlighted_i||0!=this.highlighted_j)&&(0==this.highlighted_j?(this.highlighted_i-=1,this.highlighted_j=0):this.highlighted_j-=1,this.highlightedletter=this.codewordarray[this.highlighted_i][this.highlighted_j]):"ArrowRight"==e.key&&(this.highlighted_i!=this.codewordarray.length-1||this.highlighted_j!=this.codewordarray[this.codewordarray.length-1].length-1)&&(this.highlighted_j==this.codewordarray[this.highlighted_i].length-1?(this.highlighted_i+=1,this.highlighted_j=0):this.highlighted_j+=1,this.highlightedletter=this.codewordarray[this.highlighted_i][this.highlighted_j]),!this.codesolved&&(this.varsService.developer||e.shiftKey)&&"F4"==e.key)return this.solvepuzzle(),void this.prepareCode(this.whichCode,!0);if(!this.codesolved&&" "!=this.highlightedletter){var o=e.key;if(!/^[A-Za-z]/.exec(o)||"Enter"==o||"Shift"==o||"CapsLock"==o||"ArrowLeft"==o||"ArrowRight"==o||"ArrowUp"==o||"ArrowDown"==o||"PageUp"==o||"PageDown"==o||"Escape"==o||"PrintScreen"==o||"Insert"==o||"Delete"==o||"Tab"==o||"Control"==o||"Alt"==o||"Home"==o||"End"==o||"Backspace"==o||"F1"==o||"F2"==o||"F3"==o||"F4"==o||"F5"==o||"F6"==o||"F7"==o||"F8"==o||"F9"==o||"F10"==o||"F11"==o||"F12"==o||"Pause"==o||"NumLock"==o||"ScrollLock"==o||"ContextMenu"==o)return;if(console.log("original key="+e.key+" and highlightedletter="+this.highlightedletter+" and inputletter="+this.inputletter),(!e.key||"Unidentified"==e.key)&&(o=this.inputletter),e.preventDefault(),o>="A"&&o<="Z"&&(o=o.toLowerCase()),console.log("key to use is "+o),o>="a"&&o<="z"){for(var s=0;s<this.codewordarray.length;s++)for(var a=this.codewordarray[s],l=0;l<a.length;l++)a[l]==o?this.codewordarray[s][l]=this.highlightedletter:a[l]==this.highlightedletter&&(this.codewordarray[s][l]=o);this.highlightedletter=o,this.inputletter=o,console.log("highlightedletter now="+this.highlightedletter)}for(s=0;s<this.codewordarray.length;s++){a=this.codewordarray[s];var c=this.codetargetarray[s];for(l=0;l<a.length;l++)if(a[l]>="a"&&a[l]<="z"&&a[l]!=c[l])return}this.solvepuzzle()}}shorten(){this.inputletter.length>1&&(console.log("old inputletter="+this.inputletter),this.inputletter=this.inputletter[this.inputletter.length-1],console.log("new inputletter="+this.inputletter))}}return n.\u0275fac=function(e){return new(e||n)(T(Y0))},n.\u0275cmp=Wn({type:n,selectors:[["codepuzzle"]],hostBindings:function(e,r){1&e&&k("keyup",function(o){return r.handleKeyboardEvent(o)},0,id)},inputs:{whichCode:"whichCode"},outputs:{buttonTextChange:"buttonTextChange",puzzleSolved:"puzzleSolved"},features:[Ht],decls:13,vars:5,consts:[[2,"font-size","18px","font-weight","bold","margin-top","20px"],["style","display:inline-block;",4,"ngFor","ngForOf"],["id","singlekeydiv",3,"ngClass"],["type","text","id","inputField","autofocus","","maxlength","1",2,"width","38px",3,"ngModel","ngModelChange","click","input"],["singlekey",""],["id","helptext"],[2,"display","inline-block"],["class","codeletter",4,"ngFor","ngForOf"],[1,"codeletter"],["style","  color:white;",4,"ngIf"],[2,"color","white"],[4,"ngIf"],[1,"letter-solved",2,"color","rgb(102, 172, 177)","cursor","default"],[2,"color","red","cursor","pointer",3,"click"],[2,"color","yellow","text-decoration","none","cursor","pointer",3,"click"],[2,"color","rgb(102, 172, 177)","cursor","default"]],template:function(e,r){if(1&e){const i=re();m(0,"div",0),p(1),g(),M(2,"br")(3,"br"),I(4,JV,3,1,"div",1),M(5,"br")(6,"br"),m(7,"div")(8,"div",2)(9,"input",3,4),k("ngModelChange",function(s){return r.inputletter=s})("click",function(){return B(i),U(qd(10).select())})("input",function(){return r.shorten()}),g()(),m(11,"div",5),p(12),g()()}2&e&&(v(1),nr(r.codehint),v(3),w("ngForOf",r.codewordarray),v(4),w("ngClass",r.codesolved?"invisible":"visible"),v(1),w("ngModel",r.inputletter),v(3),ze(" ",r.codepuzzleinstructions," "))},dependencies:[DC,qh,io,po,nc,cp,tp],styles:["#singlekeydiv[_ngcontent-%COMP%] {\n    display: inline-block;\n   }\n\n   #helptext[_ngcontent-%COMP%] {\n    display: inline-block;\n    margin-left: 15px;\n    font-size:12px;\n    color:white;\n   }\n\n  .codeletter[_ngcontent-%COMP%] {\n    line-height:26px;\n    font-size:30px;\n    display:inline-block;\n  }\n\n  .visible[_ngcontent-%COMP%] {\n    visibility: normal;\n  }\n  .invisible[_ngcontent-%COMP%] {\n    visibility: hidden;\n  }\n\n  .letter-solved[_ngcontent-%COMP%] {\n    top: 0px;\n  }\n\n  @media screen and (max-width:720px) {\n    .codeletter[_ngcontent-%COMP%] {\n        line-height: 20px;\n        font-size: 24px;\n    }\n  }"],data:{animation:[Ln("letterAnim",[Te("one",ve({color:"lightblue"})),Te("two",ve({color:"pink"})),Te("three",ve({color:"yellow"})),Te("four",ve({color:"orange"})),Te("five",ve({color:"lightgreen"})),Te("six",ve({color:"silver"})),Te("seven",ve({color:"violet"})),Te("eight",ve({color:"lightred"})),nt("* => *",[tt(".4s")])])]}}),n})();const eB=["unity"];function tB(n,t){1&n&&M(0,"span",23)}function nB(n,t){if(1&n){const e=re();m(0,"div")(1,"img",24),k("@BackTransition.done",function(){return B(e),U(b().afterTransition())}),g(),m(2,"img",25),k("@BackTransition.done",function(){return B(e),U(b().afterTransition())}),g(),m(3,"img",26),k("@BackTransition.done",function(){return B(e),U(b().afterTransition())}),g()()}if(2&n){const e=b();v(1),Yi("src",e.imgpath,qr),w("@BackTransition",e.transitionIn?"in":"out"),v(1),Yi("src",e.imgpath_m,qr),w("@BackTransition",e.transitionIn?"in":"out"),v(1),Yi("src",e.imgpath_s,qr),w("@BackTransition",e.transitionIn?"in":"out")}}function rB(n,t){if(1&n){const e=re();m(0,"div",27)(1,"img",28),k("@BackTransition.done",function(){return B(e),U(b().afterTransition())}),g()()}if(2&n){const e=b();v(1),Yi("src",e.imgpath_ending,qr),w("@BackTransition",e.transitionIn?"in":"out")}}function iB(n,t){if(1&n){const e=re();m(0,"div",29)(1,"a",30),k("click",function(){return B(e),U(b().toggleShowCluesText())}),m(2,"span"),p(3,"Clues: \xa0"),g(),m(4,"span",31),p(5),g()()()}if(2&n){const e=b();v(5),Ji("",e.num_clues,"/",e.maxClues,"")}}function oB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function sB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function aB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function lB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function cB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function uB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function dB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function hB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function fB(n,t){1&n&&(m(0,"span",34),p(1,"Q"),g())}function pB(n,t){if(1&n&&(m(0,"div",32),I(1,oB,2,0,"span",33),I(2,sB,2,0,"span",33),I(3,aB,2,0,"span",33),I(4,lB,2,0,"span",33),I(5,cB,2,0,"span",33),I(6,uB,2,0,"span",33),I(7,dB,2,0,"span",33),I(8,hB,2,0,"span",33),I(9,fB,2,0,"span",33),g()),2&n){const e=b();v(1),w("ngIf",e.clues[0]>=1),v(1),w("ngIf",e.clues[1]>=1),v(1),w("ngIf",e.clues[2]>=1),v(1),w("ngIf",e.clues[3]>=1),v(1),w("ngIf",e.clues[4]>=1),v(1),w("ngIf",e.clues[5]>=1),v(1),w("ngIf",e.clues[6]>=1),v(1),w("ngIf",e.clues[7]>=1),v(1),w("ngIf",e.clues[8]>=1)}}function gB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function mB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function yB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function _B(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function vB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function wB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function CB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function bB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function DB(n,t){1&n&&(m(0,"span",36),p(1,"Q"),g())}function EB(n,t){if(1&n){const e=re();m(0,"div",32)(1,"a",30),k("click",function(){return B(e),U(b().toggleShowCluesText())}),I(2,gB,2,0,"span",35),I(3,mB,2,0,"span",35),I(4,yB,2,0,"span",35),I(5,_B,2,0,"span",35),I(6,vB,2,0,"span",35),I(7,wB,2,0,"span",35),I(8,CB,2,0,"span",35),I(9,bB,2,0,"span",35),I(10,DB,2,0,"span",35),g()()}if(2&n){const e=b();v(2),w("ngIf",e.clues[0]>=1),v(1),w("ngIf",e.clues[1]>=1),v(1),w("ngIf",e.clues[2]>=1),v(1),w("ngIf",e.clues[3]>=1),v(1),w("ngIf",e.clues[4]>=1),v(1),w("ngIf",e.clues[5]>=1),v(1),w("ngIf",e.clues[6]>=1),v(1),w("ngIf",e.clues[7]>=1),v(1),w("ngIf",e.clues[8]>=1)}}function SB(n,t){if(1&n){const e=re();m(0,"div",55),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(0))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(0))}function TB(n,t){if(1&n){const e=re();m(0,"div",56),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(1))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(1))}function MB(n,t){if(1&n){const e=re();m(0,"div",57),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(2))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(2))}function IB(n,t){if(1&n){const e=re();m(0,"div",58),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(3))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(3))}function AB(n,t){if(1&n){const e=re();m(0,"div",59),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(4))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(4))}function xB(n,t){if(1&n){const e=re();m(0,"div",60),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(5))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(5))}function kB(n,t){if(1&n){const e=re();m(0,"div",61),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(6))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(6))}function PB(n,t){if(1&n){const e=re();m(0,"div",62),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(7))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(7))}function NB(n,t){if(1&n){const e=re();m(0,"div",63),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(8))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(8))}function RB(n,t){if(1&n){const e=re();m(0,"div",64),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(9))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(9))}function OB(n,t){if(1&n){const e=re();m(0,"div",65),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(10))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(10))}function FB(n,t){if(1&n){const e=re();m(0,"div",66),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(11))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(11))}function LB(n,t){if(1&n){const e=re();m(0,"div",67),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(12))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(12))}function VB(n,t){if(1&n){const e=re();m(0,"div",68),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(13))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(13))}function BB(n,t){if(1&n){const e=re();m(0,"div",69),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(14))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(14))}function UB(n,t){if(1&n){const e=re();m(0,"div",70),k("@romTrigger.done",function(){return B(e),U(b(2).afterRomBlink(15))}),g()}2&n&&w("@romTrigger",b(2).determineBlink(15))}function jB(n,t){if(1&n&&(m(0,"div",37)(1,"span"),p(2,"R Level: \xa0"),g(),m(3,"span"),p(4),g(),m(5,"div",38),I(6,SB,1,1,"div",39),I(7,TB,1,1,"div",40),I(8,MB,1,1,"div",41),I(9,IB,1,1,"div",42),I(10,AB,1,1,"div",43),I(11,xB,1,1,"div",44),I(12,kB,1,1,"div",45),I(13,PB,1,1,"div",46),I(14,NB,1,1,"div",47),I(15,RB,1,1,"div",48),I(16,OB,1,1,"div",49),I(17,FB,1,1,"div",50),I(18,LB,1,1,"div",51),I(19,VB,1,1,"div",52),I(20,BB,1,1,"div",53),I(21,UB,1,1,"div",54),g()()),2&n){const e=b();v(4),nr(e.r_level),v(2),w("ngIf",e.rombarfillwidth>=1),v(1),w("ngIf",e.rombarfillwidth>=7),v(1),w("ngIf",e.rombarfillwidth>=13),v(1),w("ngIf",e.rombarfillwidth>=20),v(1),w("ngIf",e.rombarfillwidth>=26),v(1),w("ngIf",e.rombarfillwidth>=32),v(1),w("ngIf",e.rombarfillwidth>=38),v(1),w("ngIf",e.rombarfillwidth>=44),v(1),w("ngIf",e.rombarfillwidth>=51),v(1),w("ngIf",e.rombarfillwidth>=57),v(1),w("ngIf",e.rombarfillwidth>=63),v(1),w("ngIf",e.rombarfillwidth>=69),v(1),w("ngIf",e.rombarfillwidth>=75),v(1),w("ngIf",e.rombarfillwidth>=82),v(1),w("ngIf",e.rombarfillwidth>=88),v(1),w("ngIf",e.rombarfillwidth>=94)}}function $B(n,t){if(1&n){const e=re();m(0,"div",71),M(1,"tutorial",72)(2,"br")(3,"br"),m(4,"button",73),k("click",function(){return B(e),U(b().onSubmit())}),p(5,"OK"),g()()}if(2&n){const e=b();v(1),w("whichTutorialView",e.whichTutorialView)}}function HB(n,t){1&n&&M(0,"div",81)}function zB(n,t){if(1&n){const e=re();m(0,"div",82)(1,"a",83),k("click",function(){B(e);const i=b().index;return U(b(2).doCodePuzzle(i))}),p(2,"???"),g()()}}function GB(n,t){if(1&n&&(m(0,"div",84),p(1),g()),2&n){const e=b().index,r=b(2);v(1),ze(" ",r.getClueText(e)," ")}}function qB(n,t){if(1&n&&(m(0,"div",77)(1,"div"),I(2,HB,1,0,"div",78),I(3,zB,3,0,"div",79),I(4,GB,2,1,"div",80),g()()),2&n){const e=t.index,r=b(2);v(2),w("ngIf",0==r.clues[e]),v(1),w("ngIf",1==r.clues[e]),v(1),w("ngIf",2==r.clues[e])}}function WB(n,t){if(1&n){const e=re();m(0,"div",74)(1,"div",75),p(2,"CLUES FOUND"),g(),M(3,"br")(4,"br"),I(5,qB,5,3,"div",76),M(6,"br")(7,"br"),m(8,"button",73),k("click",function(){return B(e),U(b().onSubmit())}),p(9,"OK"),g()()}if(2&n){const e=b();v(5),w("ngForOf",e.clues)}}function KB(n,t){if(1&n&&(m(0,"div",81),p(1),g()),2&n){const e=b().index,r=b(2);v(1),Ji(" ",r.addPrecedingZero(e.toString())," ",r.getLocationName(e.toString())," ")}}function QB(n,t){if(1&n&&(m(0,"span",94),p(1),g()),2&n){const e=b(2).index,r=b(2);v(1),Ji(" ",r.addPrecedingZero(e.toString())," ",r.getLocationName(e.toString())," ")}}function YB(n,t){if(1&n&&(m(0,"span"),p(1),g()),2&n){const e=b(2).index,r=b(2);v(1),Ji(" ",r.addPrecedingZero(e.toString())," ",r.getLocationName(e.toString())," ")}}function ZB(n,t){if(1&n){const e=re();m(0,"div")(1,"a",92),k("click",function(){B(e);const i=b().index;return U(b(2).clickLocation(i))}),I(2,QB,2,2,"span",93),I(3,YB,2,2,"span",4),g()()}if(2&n){const e=b().index,r=b(2);v(2),w("ngIf",r.locationUpdated(e)),v(1),w("ngIf",!r.locationUpdated(e))}}function JB(n,t){if(1&n&&(m(0,"div",91)(1,"div"),I(2,KB,2,2,"div",78),I(3,ZB,4,2,"div",4),g()()),2&n){const e=t.index,r=b(2);v(2),w("ngIf",!r.locationIsKnown(e)),v(1),w("ngIf",r.locationIsKnown(e))}}const XB=function(){return[]};function e3(n,t){if(1&n){const e=re();m(0,"div",85)(1,"div",86),p(2,"LOCATIONS"),g(),m(3,"div",87),I(4,JB,4,2,"div",88),m(5,"div",89)(6,"button",90),k("click",function(){return B(e),U(b().onSubmit())}),p(7,"OK"),g()()()()}if(2&n){const e=b();v(4),w("ngForOf",Xv(1,XB).constructor(e.NUM_LOCS))}}function t3(n,t){if(1&n){const e=re();m(0,"div",95)(1,"a",30),k("click",function(){return B(e),U(b().toggleShowKnownLocations())}),p(2),g()()}if(2&n){const e=b();v(2),ze(" ",e.location_name," ")}}function n3(n,t){if(1&n&&(m(0,"div")(1,"span",97),p(2),g(),m(3,"span",98),p(4),g()()),2&n){const e=b(2);v(2),ze(" ",e.getMood()," "),v(2),ze(" ",e.getMood()," ")}}function r3(n,t){if(1&n&&(m(0,"div")(1,"span",99),p(2),g(),m(3,"span",100),p(4),g()()),2&n){const e=b(2);v(2),ze(" ",e.getMood()," "),v(2),ze(" ",e.getMood()," ")}}function i3(n,t){if(1&n){const e=re();m(0,"div"),I(1,n3,5,2,"div",4),I(2,r3,5,2,"div",4),m(3,"div",96),k("@moodRecoveredTrigger.done",function(){return B(e),U(b().afterMoodRecovered())}),m(4,"span"),p(5," Mood Recovered "),g()()()}if(2&n){const e=b();v(1),w("ngIf",0==e.mood),v(1),w("ngIf",0!=e.mood),v(1),w("@moodRecoveredTrigger",e.moodRecovered?"faded_in":"faded_out")}}function o3(n,t){if(1&n){const e=re();m(0,"div")(1,"a",104),k("click",function(){return B(e),U(b(2).loadMore())}),p(2,"Load more"),g()()}}function s3(n,t){if(1&n&&(m(0,"div",107)(1,"div",108),p(2),g()()),2&n){const e=b().$implicit,r=b(2);v(2),ze(" ",r.processMessage(e.msgtext)," ")}}function a3(n,t){if(1&n&&(m(0,"div",109)(1,"div",110),p(2),g()()),2&n){const e=b().$implicit,r=b(2);v(2),ze(" ",r.processMessage(e.msgtext)," ")}}function l3(n,t){if(1&n&&(m(0,"div"),I(1,s3,3,1,"div",105),I(2,a3,3,1,"div",106),g()),2&n){const e=t.$implicit;v(1),w("ngIf",0==e.isbot),v(1),w("ngIf",e.isbot)}}function c3(n,t){if(1&n&&(m(0,"div",115)(1,"div",108),p(2),g()()),2&n){const e=b().$implicit,r=b(2);v(2),ze(" ",r.processMessage(e.msgtext)," ")}}function u3(n,t){if(1&n&&(m(0,"div",116)(1,"div",110),p(2),g()()),2&n){const e=b().$implicit,r=b(2);w("@newMessage","expand"),v(2),ze(" ",r.processMessage(e.msgtext)," ")}}function d3(n,t){if(1&n&&(m(0,"div",117)(1,"div",110),p(2),g()()),2&n){const e=b().$implicit,r=b(2);v(2),ze(" ",r.processMessage(e.msgtext)," ")}}function h3(n,t){if(1&n&&(m(0,"div",118)(1,"div",110),p(2),g()()),2&n){const e=b().$implicit,r=b(2);w("@newMessage","expand"),v(2),ze(" ",r.processMessage(e.msgtext)," ")}}function f3(n,t){if(1&n&&(m(0,"div"),I(1,c3,3,1,"div",111),I(2,u3,3,2,"div",112),I(3,d3,3,1,"div",113),I(4,h3,3,2,"div",114),g()),2&n){const e=t.$implicit;v(1),w("ngIf",0==e.isbot),v(1),w("ngIf",!e.isdevil&&!e.iscrysanthea&&e.isbot),v(1),w("ngIf",e.isdevil&&e.isbot),v(1),w("ngIf",e.iscrysanthea&&e.isbot)}}function p3(n,t){if(1&n&&(m(0,"div",101),I(1,o3,3,0,"div",4),I(2,l3,3,2,"div",102),M(3,"br")(4,"br"),I(5,f3,5,4,"div",102),M(6,"div",103),g()),2&n){const e=b();v(1),w("ngIf",e.moreHistoryToLoad),v(1),w("ngForOf",e.messages_history),v(3),w("ngForOf",e.messages_emitted)}}function g3(n,t){if(1&n){const e=re();m(0,"div",119)(1,"a",120),k("click",function(){return B(e),U(b().toggleDisplayChat())}),p(2),g()()}if(2&n){const e=b();v(2),nr(e.displayChatText)}}function m3(n,t){1&n&&(m(0,"div",128),M(1,"input",129,130),g())}function y3(n,t){if(1&n&&(m(0,"div",131)(1,"button",132),p(2,"THINK IT"),g()()),2&n){const e=b(2);v(1),w("disabled",e.loadingRoom)}}function _3(n,t){1&n&&M(0,"div",133)}function v3(n,t){if(1&n){const e=re();m(0,"div")(1,"label"),p(2,"Animation control:"),g(),m(3,"button",134),k("click",function(){return B(e),U(b(2).doChereeAnimation(0))}),p(4,"Start"),g(),m(5,"button",134),k("click",function(){return B(e),U(b(2).doStopAnimation())}),p(6,"Stop"),g(),m(7,"button",134),k("click",function(){return B(e),U(b(2).doCameraToLeft())}),p(8,"Left"),g(),m(9,"button",134),k("click",function(){return B(e),U(b(2).doCameraToRight())}),p(10,"Right"),g()()}}function w3(n,t){if(1&n){const e=re();m(0,"form",121,122),k("ngSubmit",function(){return B(e),U(b().onSubmit())}),m(2,"div"),I(3,m3,3,0,"div",123),I(4,y3,3,1,"div",124),m(5,"div",125)(6,"a",126),k("click",function(){return B(e),U(b().onQuit())}),p(7,"Quit"),g()()(),I(8,_3,1,0,"div",127),I(9,v3,11,0,"div",4),g()}if(2&n){const e=b();w("formGroup",e.chatForm),v(3),w("ngIf",!e.ending),v(1),w("ngIf",!e.ending),v(4),w("ngIf",e.ending),v(1),w("ngIf",e.varsService.developer)}}function C3(n,t){if(1&n){const e=re();m(0,"div",135)(1,"codepuzzle",136),k("buttonTextChange",function(i){return B(e),U(b().updateCodePuzzleButtonText(i))})("puzzleSolved",function(){return B(e),U(b().puzzlesolved())}),g(),M(2,"br"),m(3,"div",89)(4,"button",73),k("click",function(){return B(e),U(b().onSubmit())}),p(5),g()()()}if(2&n){const e=b();v(1),w("whichCode",e.doingcode),v(4),nr(e.codePuzzleButtonText)}}let b3=(()=>{class n{constructor(e,r,i,o,s,a){this.chatService=e,this.activatedRoute=r,this.router=i,this.formBuilder=o,this.eventEmitterService=s,this.varsService=a,this.messages_emitted=[],this.messages_history=[],this.invalidMessage="",this.maxLengthMsg=100,this.loadingRoom=!1,this.username="",this.imgpath="assets/limbo.jpg",this.imgpath_m="assets/limbom.jpg",this.imgpath_s="assets/limbos.jpg",this.imgpath_ending="assets/ending.jpg",this.clues=[0,0,0,0,0,0,0,0,0],this.num_clues=0,this.r_pts=0,this.r_next=0,this.r_level="0",this.rombarfillwidth=0,this.romBlink=!1,this.whichBlink=-1,this.blinkCounter=0,this.seenMellen=!1,this.NUM_LOCS=56,this.loc="",this.location_name="Nowhere",this.showKnownLocations=!1,this.all=[],this.locationTitleShowable=!1,this.needscrolldown=!1,this.formVisible=!0,this.submitted=!1,this.messagesSubscription=new at,this.messageHistorySubscription=new at,this.moreHistoryToLoad=!1,this.showTutorialView=!1,this.whichTutorialView=-1,this.initial_oob_refresh=!0,this.newClueFade=!1,this.newClueText="",this.showCluesText=!1,this.newLevelUp=!1,this.maxClues=4,this.nextback="",this.transitionIn=!0,this.countdown_to_free_volley=0,this.fadeUnity=!0,this.fadeBack=!1,this.fadeDarken=!0,this.mellenVisible=!0,this.rotating=!1,this.rotate_left=!0,this.chereeAnimFrozen=!1,this.melAnimFrozen=!1,this.displayChat=!0,this.displayChatText="HIDE",this.displayCodePuzzle=!1,this.doingcode=-1,this.codePuzzleButtonText="Close",this.codePuzzleSolved=!1,this.allowEnterToCloseCodePuzzle=!1,this.openedCluesByCommand=!1,this.mood=0,this.devil=0,this.moodRecovered=!1,this.ending=!1,this.initialAutoChatTimer=15e3,this.autoChatTimer=this.initialAutoChatTimer,this.volleyCount=0,this.targetCounts=[],this.timeout_threads=0,this.lastinput="",this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.chatForm=new ai({msg:new li("",[Xl.minLength(1),Xl.maxLength(this.maxLengthMsg)])})}afterTransition(){this.transitionIn?this.countdown_to_free_volley>0&&(this.countdown_to_free_volley-=1,0==this.countdown_to_free_volley&&(console.log("countdown_to_free_volley=0"),this.chatService.sendMessage(new mo(this.username,"[astravel]")),this.setLocationName(),this.seenMellen&&1!=Math.floor(3*Math.random())&&"52"!=this.loc&&this.showMellen())):(this.transitionIn=!0,this.fadeDarken=!1,""!=this.nextback&&(this.imgpath="assets/"+this.nextback+".jpg",this.imgpath_m="assets/"+this.nextback+"m.jpg",this.imgpath_s="assets/"+this.nextback+"s.jpg",this.nextback=""))}afterNewClueFade(){this.newClueFade=!1,this.newLevelUp=!1}determineBlink(e){return this.whichBlink==e&&this.romBlink?"blink_out":"blink_in"}afterRomBlink(e){this.whichBlink==e&&(this.blinkCounter>0?(this.romBlink=!this.romBlink,this.blinkCounter-=1):this.romBlink=!1)}afterLevelUp(){this.newLevelUp=!1}afterMoodRecovered(){this.moodRecovered=!1}get_username(){const e=localStorage.getItem("stored");this.username=null!==e?JSON.parse(e):"",console.log("got username "+this.username)}ngOnInit(){this.loadingRoom=!0,this.get_username(),""==this.username&&this.router.navigate(["/home"]),this.chatService.createRoom(this.username),this.chatService.doneCreateRoom().subscribe(()=>{console.log("room created"),this.loadingRoom=!1,this.formVisible=!0,this.messageHistorySubscription=this.chatService.getInitialChatHistory().subscribe(e=>{console.log("received new chat history from socket service"),this.processNewMessageHistory(e),this.needscrolldown=!0,0==this.chatService.skip_size&&(console.log("first batch of history for username="+this.username),this.chatService.sendMessage(new mo(this.username,"refresh clear")))})}),this.messagesSubscription=this.chatService.getMessages().subscribe(e=>{console.log("received new message="+e.msgtext);var r=-1,i=-1;if(e.oobstring){var o=new BL(e.oobstring);if(-1!=o.y&&(i=o.y,console.log("system code="+i),this.doSystemCode(i),0==o.y&&(this.all=o.all,this.all[1]>=1&&(this.locationTitleShowable=!0))),""!=o.l&&(this.loc=o.l,0==i?(this.nextback=this.loc,this.setLocationName(),console.log("loc refreshed to "+o.l+" location name="+this.location_name),this.all=o.all):0==this.countdown_to_free_volley&&(this.nextback=this.loc,console.log("loc will change to "+o.l),this.countdown_to_free_volley=3,this.transitionIn=!1,this.seenMellen&&1!=Math.floor(3*Math.random())&&this.hideMellen())),0!=o.num_clues){if(0!=i)for(var s=0;s<9;s++)if(this.clues[s]!=o.clues[s]){this.doCodePuzzle(s);break}this.clues=o.clues,this.num_clues=o.num_clues,console.log("clues="+this.clues.toString()+" num_clues="+this.num_clues)}if(0!=o.r_pts){var c=this.rombarfillwidth;this.r_pts=o.r_pts,this.r_next=o.r_next,this.r_level!=o.r_level&&(this.r_level=o.r_level,this.initial_oob_refresh||(this.newLevelUp=!0)),this.rombarfillwidth=~~(100*this.r_pts/this.r_next),this.rombarfillwidth>c&&(this.whichBlink=~~(this.rombarfillwidth/6),console.log("whichBlink="+this.whichBlink.toString()),this.blinkCounter=10,this.romBlink=!0),console.log("rlevel="+this.r_level+" rombarfillwidth="+this.rombarfillwidth)}if(-1!=o.a&&(r=o.a),-1!=o.t&&(this.whichTutorialView=o.t,this.showTutorialView=!0),-1!=o.m&&(0==o.m&&this.mood>0&&(this.moodRecovered=!0),this.mood=o.m),o.h&&(console.log("halted autochat"),this.autoChatTimer=-1),-1!=o.o&&(i=o.o,console.log("test system code="+i),this.doSystemCode(i)),o.sc&&!this.showCluesText&&(this.toggleShowCluesText(),this.openedCluesByCommand=!0,setTimeout(()=>{this.openedCluesByCommand=!1},1e3)),""!=o.new_loc){for(var u=o.new_loc,d=0;d<u.length;){var h=u.substring(d,d+2),f=parseInt(h);this.all[f]=1,console.log("set n "+f.toString()+" to 1"),d+=2}this.all[1]>=1&&(this.locationTitleShowable=!0),console.log("locationTitleShowable="+this.locationTitleShowable.toString())}if(""!=o.update_loc){var y=parseInt(o.update_loc);this.all[y]=2,console.log("set u "+y.toString()+" to w")}(this.initial_oob_refresh||o.w>0||-1!=o.devil)&&(this.initial_oob_refresh=!1,o.w>=3&&(this.maxClues=9),1==o.w?(this.fadeUnity=!1,this.fadeDarken=!1):2==o.w||3==o.w||4==o.w||7==o.w?(this.seenMellen=!0,this.fadeUnity=!1,this.fadeDarken=!1):(5==o.w||6==o.w)&&(this.seenMellen=!1,this.fadeUnity=!1,this.fadeDarken=!1),0==o.devil?this.devil=0:1==o.devil?(this.fadeUnity=!0,this.fadeDarken=!0,this.devil=1):2==o.devil&&(this.fadeUnity=!0,this.fadeDarken=!1,this.devil=2))}-1==r&&(r=this.analyzeOutput(e.msgtext)),-1!=r&&(console.log("animation code="+r),this.doAnimationCode(r)),e.isbot=!0,console.log("sys code = "+i.toString()+" emitted_message = "+e.msgtext),(0!=i||""!=e.msgtext)&&(1==this.devil?e.isdevil=!0:2==this.devil&&(e.iscrysanthea=!0),this.messages_emitted.push(e),this.ending||(this.displayChat=!0),this.displayChatText="HIDE",this.needscrolldown=!0),this.volleyCount+=1,this.autoChatTimer>0&&2!=this.devil&&!this.ending&&0==this.timeout_threads?(this.targetCounts.push(this.volleyCount),console.log("pushed volley # "+this.volleyCount.toString()+" with TIMER="+this.autoChatTimer.toString()),this.timeout_threads+=1,console.log("timeout threads now ="+this.timeout_threads.toString()),setTimeout(()=>{var _=this.chatForm.get("msg")?.value;console.log("current user typed msg="+_),0==this.targetCounts.length?(console.log("not executing timeout because targetCounts length==0"),this.resetTimer()):this.timeout_threads>1?(console.log("not executing timeout because more than one timeout_threads"),this.resetTimer()):_&&""!=_?(console.log("not executing timeout because user typing message"),this.resetTimer()):this.targetCounts.shift()==this.volleyCount?(console.log("they matched"),this.chatService.sendMessage(new mo(this.username,"[]")),this.autoChatTimer+=1e3*Math.floor(20*Math.random()),this.autoChatTimer>25e3&&(this.autoChatTimer-=5e3),console.log("TIMER="+this.autoChatTimer.toString())):(console.log("didnt match. volleycount is "+this.volleyCount.toString()),this.resetTimer()),this.timeout_threads-=1},this.autoChatTimer)):this.resetTimer(!0)})}resetTimer(e=!1){var r;r=e?Math.floor(10*Math.random()):Math.floor(3*Math.random()),this.autoChatTimer=this.initialAutoChatTimer+1e3*r,console.log("TIMER="+this.autoChatTimer.toString()),this.volleyCount=0,this.targetCounts=[]}processNewMessageHistory(e){console.log("processing new history with length="+e.length.toString());for(var r=0;r<e.length;r++){var i=e[r];console.log("message="+i.msgtext),i.createdAt=this.formatDate(i.createdAt),""!=i.msgtext&&this.messages_history.unshift(i)}this.moreHistoryToLoad=!!this.chatService.moreToLoad(),console.log("moretoload="+this.moreHistoryToLoad)}loadMore(){console.log("loadMore"),this.messageHistorySubscription=this.chatService.getMoreChatHistory().subscribe(e=>{this.processNewMessageHistory(e)})}ngOnDestroy(){this.chatService.offSocket()}resetData(){this.clues=[0,0,0,0,0,0,0,0,0],this.num_clues=0,this.r_pts=0,this.r_next=0,this.r_level="0",this.rombarfillwidth=0,this.loc="",this.location_name="nowhere",this.all=[],this.newClueText="",this.mellenVisible=!1,this.rotating=!1,this.displayChat=!0,this.displayChatText="HIDE"}sendMessage(e){if(this.unity||console.log("error: no unity!"),e||(e=""),this.countdown_to_free_volley>0&&""==e)return;console.log("sending message:"+e);let r=new mo(this.username,e);this.chatService.sendMessage(r),null!=e&&""!=e&&this.messages_emitted.push(r),this.lastinput=e,this.resetTimer(),":reset"==e&&this.resetData(),"dev"==e&&(this.varsService.developer=!this.varsService.developer),this.needscrolldown=!0,this.submitted=!0}get f(){return this.chatForm.controls}onSubmit(){if(this.displayCodePuzzle){if(this.allowEnterToCloseCodePuzzle&&(console.log("close code puzzle"),this.displayCodePuzzle=!1,this.allowEnterToCloseCodePuzzle=!1,this.codePuzzleSolved&&-1!=this.doingcode)){this.newClueText=this.getClueText(this.doingcode),this.newClueFade=!0,console.log("sending message [ decipher "+this.doingcode.toString()+" ]");var e=new mo(this.username,"[ decipher "+this.doingcode.toString()+" ]");this.chatService.sendMessage(e),this.doingcode=-1}}else if(this.showCluesText)this.openedCluesByCommand||(console.log("close clues text"),this.showCluesText=!1);else if(this.showKnownLocations)console.log("close known locations"),this.showKnownLocations=!1;else if(this.showTutorialView)console.log("close system text"),this.showTutorialView=!1;else{console.log("Form Submitted !");var r=this.chatForm.get("msg")?.value;if(this.invalidMessage="",this.chatForm.invalid)return void(this.invalidMessage="invalid");this.sendMessage(r),""!=r&&(this.autoChatTimer=this.initialAutoChatTimer),this.chatForm.reset()}}formatDate(e){return e}ngAfterViewChecked(){this.needscrolldown&&(this.needscrolldown=!1,this.scroll_to_bottom())}scroll_to_bottom(){var e=document.getElementById("scrollview");e&&(e.scrollTop=e.scrollHeight)}messageClick(e){}toggleDisplayChat(){this.displayChat=!this.displayChat,this.displayChatText=this.displayChat?"HIDE":"SHOW"}copy(e){let r=document.createElement("textarea");r.style.position="fixed",r.style.opacity="0",r.value=e,document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r)}processMessage(e){return e&&e.replace(new RegExp("\n","g"),"<br />")}analyzeOutput(e){if(0!=this.devil)return-1;var o,r=-1,i=e.length;return((o=e.substring(0,3)).includes("No.")||o.includes("NO.")||o.includes("No,")||o.includes("No!")||o.includes("NO!"))&&(r=0,console.log("detected no. a="+r)),((o=e.substring(0,4)).includes("Yes.")||o.includes("YES.")||o.includes("Yes,")||o.includes("Yes!")||o.includes("YES!"))&&(r=1,console.log("detected yes. a="+r)),(e.substring(i-6,i-1).includes("Ehehe")||o.includes("ehehe")||o.includes("Hehe")||o.includes("hehe"))&&(r=2,console.log("detected laugh. a="+r)),(e.includes("I dunno")||e.includes("I don't know")||e.includes("I do not know"))&&(r=3,console.log("detected dunno. a="+r)),-1==r&&e.includes("...")&&(r=14,console.log("detected elipsis. a="+r)),-1==r&&e.includes("Mel, ")&&(r=63,console.log("detected react. a="+r)),-1==r&&e.includes(", Mel")&&(r=35,console.log("detected react. a="+r)),e.includes("murder")&&(r=62,console.log("detected murder. a="+r)),(e.includes("Mel tells")||e.includes("Mellen tells")||e.includes("Mel is telling")||e.includes("Mel is saying"))&&(r=65,console.log("detected mel says. a="+r)),(e.includes("Mel says")||e.includes("Mellen says")||e.includes("says Mel"))&&(r=60,console.log("detected mel says. a="+r)),-1==r&&i>250&&(r=i>350?6:i>300?5:4),-1==r&&this.melAnimFrozen&&(r=201,console.log("unfreeze mel"),this.melAnimFrozen=!1),-1==r&&this.chereeAnimFrozen&&(r=200,console.log("unfreeze cheree"),this.chereeAnimFrozen=!1),14==r&&(this.chereeAnimFrozen=!0),63==r&&(this.melAnimFrozen=!0),console.log("a="+r),r}doSystemCode(e){0==e||(1==e?this.fadeUnity=!0:2==e?this.fadeUnity=!1:3==e?this.fadeBack=!0:4==e?this.fadeBack=!1:6==e?this.hideMellen():7==e?(this.seenMellen=!0,this.showMellen()):8==e?this.eventEmitterService.onToggleDevil():9==e?this.fadeDarken=!0:10==e?this.fadeDarken=!1:11==e&&(this.ending=!0,this.fadeUnity=!0,this.displayChat=!1,console.log("ending")))}doAnimationCode(e){0==this.devil&&(200==e?this.doChereeAnimation(-1):201==e?this.doMellenAnimation(-1):e<50?(20==e&&(e=20+Math.floor(4*Math.random())),this.doChereeAnimation(e),(8==e||10==e)&&this.doMellenAnimation(e),26==e&&this.doMellenAnimation(e)):this.seenMellen&&this.doMellenAnimation(e))}doChereeAnimation(e){try{this.unity.doChereeAnimation(e)}catch{console.log("error calling unity for animation. resetting unity"),this.resetUnity()}}doMellenAnimation(e){try{this.unity.doMellenAnimation(e)}catch{console.log("error calling unity for animation")}}doStopAnimation(){this.showMellen(),this.doCodePuzzle(1)}doCameraToLeft(){this.unity.doCameraToLeft(),this.fadeDarken=!1,this.resetUnity()}doCameraToRight(){this.newClueFade=!this.newClueFade,this.unity.doCameraToRight(),this.hideMellen(),this.fadeDarken=!0}showMellen(){this.seenMellen&&(this.mellenVisible=!0,this.unity.showMellen())}hideMellen(){this.seenMellen&&(this.mellenVisible=!1,this.unity.hideMellen())}mouseDown(){this.rotating=!0,this.rotate_left=!0}mouseUp(){this.rotating=!1}ngAfterContentChecked(){this.rotating&&(this.unity.rotateCheree(this.rotate_left),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(this.rotate_left))}setChereeBase(e){this.unity.setChereeBase(e)}setMellenBase(e){this.unity.setMellenBase(e)}addPrecedingZero(e){return 1==e.length&&(e="0"+e),e}setLocationName(){this.location_name=this.getLocationName(this.loc)}getLocationName(e){var r="here";switch(e=this.addPrecedingZero(e)){case"01":r="Sierra Meadow";break;case"02":r="Steadwell Manse";break;case"03":r="Rollindale River";break;case"04":r="Lighthouse of Selsey";break;case"05":r="Abandoned Factory";break;case"06":r="Phong Nha Ke Bang";break;case"07":r="Doyle Estate";break;case"08":r="Plains of Heather";break;case"09":r="Heritage Centre";break;case"10":r="Willem Bluff";break;case"11":r="Devils Tower";break;case"12":r="Atlantis";break;case"13":r="Duggans Residence";break;case"14":r="Greenwich Industrial Sector";break;case"15":r="Rocky Mountains";break;case"16":r="Siberia";break;case"17":r="Matley Bog";break;case"18":r="African Savannah";break;case"19":r="Noisy Falls";break;case"20":r="Britely Hotel";break;case"21":r="Giza Pyramids";break;case"22":r="George Yard";break;case"23":r="Kentucky Maple Forest";break;case"24":r="Central Lowlands";break;case"25":r="Skies above";break;case"26":r="Kardec Room";break;case"27":r="French Home";break;case"28":r="Kilauea";break;case"29":r="Himachal Pradesh";break;case"30":r="Lake Limides";break;case"31":r="Santorini";break;case"32":r="Crimes Club";break;case"33":r="Wye Valley";break;case"34":r="Blackberry Fields";break;case"35":r="Kingley Vale";break;case"36":r="Private Garden";break;case"37":r="Gasherbrum Peaks";break;case"38":r="Reading Tree";break;case"39":r="Imabari";break;case"40":r="Hong Kong";break;case"41":r="Station Park";break;case"42":r="Gobi Desert";break;case"43":r="Bassey Study";break;case"44":r="Abbott Farm";break;case"45":r="East End";break;case"46":r="Yuletide Parlour";break;case"47":r="St Martin Churchyard";break;case"48":r="Portchester Castle";break;case"49":r="Great Barrier Reef";break;case"50":r="Bukchon Hanok";break;case"51":r="Wasteland";break;case"52":r="South Willamette Infirmary";break;case"53":r="Decebalus Rex";break;case"54":r="Khaju Bridge"}return r}locationIsKnown(e){return this.all[e]>=1}locationUpdated(e){return 2==this.all[e]}clickLocation(e){var r=this.addPrecedingZero(e.toString());this.chatService.sendMessage(new mo(this.username,"go to "+r+" now")),this.showKnownLocations=!1}toggleShowKnownLocations(){this.showKnownLocations=!this.showKnownLocations}toggleShowCluesText(){this.showCluesText=!this.showCluesText}getClueText(e){return 0==e?"Cheree died in the year 1891, away from home.":1==e?"Cheree died from a wound to her head.":2==e?"Cheree's body was found in Hampshire, UK.":3==e?"Cheree once ingested chloroform.":4==e?"Martha Tabram may have been murdered with a bayonet.":5==e?"Faith's fiance Burton had been a guardsman in London.":6==e?"Faith conducted a seance which led Chauncy's investigation astray.":7==e?"Burton left the military despite achieving high rank.":8==e?"Cheree took a carriage ride she cannot remember to Hampshire, UK.":""}handleKeyboardEvent(e){if("Enter"==e.key||"Escape"==e.key){if(this.showKnownLocations||this.showTutorialView)return void this.onSubmit();if(this.displayCodePuzzle)return void("Escape"==e.key?(this.onSubmit(),this.allowEnterToCloseCodePuzzle=!0):this.onSubmit());if(this.showCluesText)return void("Escape"==e.key?(this.onSubmit(),this.openedCluesByCommand=!1):this.onSubmit())}if("."==e.key||("ArrowUp"==e.key&&""!=this.lastinput&&this.chatForm.get("msg")?.setValue(this.lastinput),this.displayCodePuzzle||this.fadeUnity));else if("ArrowLeft"==e.key)for(var r=0;r<100;r++)this.unity.rotateCheree(!1),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(!1);else if("ArrowRight"==e.key)for(r=0;r<100;r++)this.unity.rotateCheree(!0),this.mellenVisible&&this.seenMellen&&this.unity.rotateMellen(!0)}puzzlesolved(){this.clues[this.doingcode]=2,this.codePuzzleSolved=!0}doCodePuzzle(e){this.doingcode=e,this.showCluesText=!1,this.displayCodePuzzle=!0,setTimeout(()=>{this.allowEnterToCloseCodePuzzle=!0},1e3)}updateCodePuzzleButtonText(e){this.codePuzzleButtonText=e}getMood(){switch(this.mood){case 0:return"mood normal";case 1:return"agitated";case 2:return"flustered";case 3:return"neglected";case 4:return"misunderstood";case 5:return"interrogated";case 6:return"creeped"}return""}onQuit(){console.log("onQuit");try{this.unity.closeUnity()}catch(e){console.log("error: "+e),this.router.navigate(["/home"])}}resetUnity(){console.log("resetting unity"),this.unity.closeUnity(!1),this.unity.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(T(vp),T(Tr),T(We),T(C0),T(wp),T(Y0))},n.\u0275cmp=Wn({type:n,selectors:[["interact"]],viewQuery:function(e,r){if(1&e&&uw(eB,7),2&e){let i;nl(i=function rl(){return function Uk(n,t){return n[19].queries[t].queryList}(A(),Hg())}())&&(r.unity=i.first)}},hostBindings:function(e,r){1&e&&k("keyup",function(o){return r.handleKeyboardEvent(o)},0,id)},decls:31,vars:22,consts:[["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["id","gamediv"],["id","scenery"],["id","sceneries"],[4,"ngIf"],["style","background-color:black; display:flex; justify-content:center;",4,"ngIf"],["id","newclue"],["id","cluesview",4,"ngIf"],["class","cluesbar","style","position:absolute;",4,"ngIf"],["id","levelup"],["id","romview",4,"ngIf"],["class","tutorial-view",4,"ngIf"],["id","cluetextview",4,"ngIf"],["id","knownlocationsview",4,"ngIf"],["class","location-title",4,"ngIf"],["id","unitydiv",3,"mousedown","mouseup"],["unity",""],["id","scrollview",4,"ngIf"],["id","beneathscrollview",4,"ngIf"],["id","form-div"],["autocomplete","off","class","form-container",3,"formGroup","ngSubmit",4,"ngIf"],["id","codepuzzleview",4,"ngIf"],["id","bottom_of_doc"],[1,"spinner-border","spinner-border-sm","mr-1"],["id","scenery-img","alt","",3,"src"],["id","scenery-img-m","alt","",3,"src"],["id","scenery-img-s","alt","",3,"src"],[2,"background-color","black","display","flex","justify-content","center"],["id","scenery-ending","alt","",3,"src"],["id","cluesview"],[1,"subtlelink",3,"click"],[2,"font-weight","normal"],[1,"cluesbar",2,"position","absolute"],["class","clue-r",4,"ngIf"],[1,"clue-r"],["class","clue-q",4,"ngIf"],[1,"clue-q"],["id","romview"],["id","rombar"],["class","rombarfill","style","left:10px;",4,"ngIf"],["class","rombarfill","style","left:15px;",4,"ngIf"],["class","rombarfill","style","left:20px;",4,"ngIf"],["class","rombarfill","style","left:25px;",4,"ngIf"],["class","rombarfill","style","left:30px;",4,"ngIf"],["class","rombarfill","style","left:35px;",4,"ngIf"],["class","rombarfill","style","left:40px;",4,"ngIf"],["class","rombarfill","style","left:45px;",4,"ngIf"],["class","rombarfill","style","left:50px;",4,"ngIf"],["class","rombarfill","style","left:55px;",4,"ngIf"],["class","rombarfill","style","left:60px;",4,"ngIf"],["class","rombarfill","style","left:65px;",4,"ngIf"],["class","rombarfill","style","left:70px;",4,"ngIf"],["class","rombarfill","style","left:75px;",4,"ngIf"],["class","rombarfill","style","left:80px;",4,"ngIf"],["class","rombarfill","style","left:85px;",4,"ngIf"],[1,"rombarfill",2,"left","10px"],[1,"rombarfill",2,"left","15px"],[1,"rombarfill",2,"left","20px"],[1,"rombarfill",2,"left","25px"],[1,"rombarfill",2,"left","30px"],[1,"rombarfill",2,"left","35px"],[1,"rombarfill",2,"left","40px"],[1,"rombarfill",2,"left","45px"],[1,"rombarfill",2,"left","50px"],[1,"rombarfill",2,"left","55px"],[1,"rombarfill",2,"left","60px"],[1,"rombarfill",2,"left","65px"],[1,"rombarfill",2,"left","70px"],[1,"rombarfill",2,"left","75px"],[1,"rombarfill",2,"left","80px"],[1,"rombarfill",2,"left","85px"],[1,"tutorial-view"],[3,"whichTutorialView"],["type","button",1,"btn-system","btn",2,"margin-bottom","15px",3,"click"],["id","cluetextview"],[1,"subwindowtitle"],["style","line-height:30px;",4,"ngFor","ngForOf"],[2,"line-height","30px"],["style","visibility:hidden;",4,"ngIf"],["style","cursor:pointer;",4,"ngIf"],["class","clue",4,"ngIf"],[2,"visibility","hidden"],[2,"cursor","pointer"],[3,"click"],[1,"clue"],["id","knownlocationsview"],[1,"subwindowtitle",2,"margin-bottom","25px"],["id","locations-scrollview"],["style","display:inline-block;",4,"ngFor","ngForOf"],[2,"margin-bottom","22px","margin-top","20px","padding-bottom","22px"],["type","button",1,"btn-system","btn",3,"click"],[2,"display","inline-block"],[1,"location-link",3,"click"],["style","color:#3a1;",4,"ngIf"],[2,"color","#3a1"],[1,"location-title"],["id","mood-recovered"],["id","mood-title-shadow"],["id","mood-title",2,"color","#cfc"],["id","mood-title-shadow",2,"color","gray"],["id","mood-title",2,"color","purple"],["id","scrollview"],[4,"ngFor","ngForOf"],["id","bottom_of_scroll"],[2,"color","royalblue","cursor","pointer",3,"click"],["class","container history-user",4,"ngIf"],["class","container history",4,"ngIf"],[1,"container","history-user"],[1,"message-right"],[1,"container","history"],[1,"message-left"],["class","container user",4,"ngIf"],["class","container msg-cheree",4,"ngIf"],["class","container msg-devil",4,"ngIf"],["class","container msg-crysanthea",4,"ngIf"],[1,"container","user"],[1,"container","msg-cheree"],[1,"container","msg-devil"],[1,"container","msg-crysanthea"],["id","beneathscrollview"],[2,"color","royalblue","cursor","pointer","text-decoration","none",3,"click"],["autocomplete","off",1,"form-container",3,"formGroup","ngSubmit"],["input","ngForm"],["style","margin-left:0px; margin-right:5px; display:inline-block;",4,"ngIf"],["style","margin-left:5px; margin-right:0px; display:inline-block;",4,"ngIf"],["id","to-top"],[2,"cursor","pointer",3,"click"],["style","height:20px;",4,"ngIf"],[2,"margin-left","0px","margin-right","5px","display","inline-block"],["type","text","id","inputField","placeholder","Type message...","formControlName","msg","autofocus","",1,"form-container"],["msg",""],[2,"margin-left","5px","margin-right","0px","display","inline-block"],["id","inputSubmit","type","submit",1,"btn","btn-primary",3,"disabled"],[2,"height","20px"],["type","button",1,"btn-primary","btn",3,"click"],["id","codepuzzleview"],[3,"whichCode","buttonTextChange","puzzleSolved"]],template:function(e,r){1&e&&(M(0,"br"),I(1,tB,1,0,"span",0),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"div"),I(6,nB,4,6,"div",4),I(7,rB,2,2,"div",5),g()(),m(8,"div",6),k("@clueTrigger.done",function(){return r.afterNewClueFade()}),p(9),g(),I(10,iB,6,2,"div",7),I(11,pB,10,9,"div",8),I(12,EB,11,9,"div",8),m(13,"div",9),k("@levelUp.done",function(){return r.afterLevelUp()}),p(14," LEVEL UP "),g(),I(15,jB,22,17,"div",10),I(16,$B,6,1,"div",11),I(17,WB,10,1,"div",12),I(18,e3,8,2,"div",13),I(19,t3,3,1,"div",14),I(20,i3,6,3,"div",4),m(21,"div",15),k("mousedown",function(){return r.mouseDown()})("mouseup",function(){return r.mouseUp()}),M(22,"unity",null,16),g(),I(24,p3,7,3,"div",17),I(25,g3,3,1,"div",18),g(),M(26,"br"),m(27,"div",19),I(28,w3,10,5,"form",20),g(),I(29,C3,6,2,"div",21),g(),M(30,"div",22)),2&e&&(v(1),w("ngIf",r.loadingRoom),v(3),w("@Darken",r.fadeDarken?"darken":"lighten"),v(1),w("@GeneralFade",r.fadeBack?"out":"in"),v(1),w("ngIf",!r.ending),v(1),w("ngIf",r.ending),v(1),w("@clueTrigger",r.newClueFade?"faded_in":"faded_out"),v(1),ze(" New clue :\xa0 ",r.newClueText," "),v(1),w("ngIf",!r.fadeUnity),v(1),w("ngIf",!r.fadeUnity),v(1),w("ngIf",!r.fadeUnity),v(1),w("@levelUp",r.newLevelUp?"show":"hide"),v(2),w("ngIf",!r.fadeUnity),v(1),w("ngIf",r.showTutorialView),v(1),w("ngIf",r.showCluesText),v(1),w("ngIf",r.showKnownLocations),v(1),w("ngIf",r.locationTitleShowable&&!r.fadeUnity),v(1),w("ngIf",!r.fadeUnity),v(1),w("@GeneralFade",r.ending?"outfast":r.fadeUnity?"out":"in"),v(3),w("ngIf",r.displayChat),v(1),w("ngIf",r.displayChat),v(3),w("ngIf",r.formVisible),v(1),w("ngIf",r.displayCodePuzzle))},dependencies:[qh,io,np,po,nc,Gf,js,dc,PV,$V,XV],styles:["#gamediv[_ngcontent-%COMP%] {\n      background-color: rgba(155,255,255,0);\n      position:relative;\n      \n      padding-left:5px;\n      padding-right:0px;\n      padding-bottom:5px;\n      max-width: 98%;\n      z-index: 1;\n\n      \n    }\n\n    #unitydiv[_ngcontent-%COMP%] {\n      background-color: rgba(255,255,255,0);\n      position: absolute;\n      z-index: 1;\n      bottom:0px;\n      left:0px;\n      margin:auto;\n      width:86%;\n    }\n\n    #scrollview[_ngcontent-%COMP%] {\n      max-height: 40vh; \n      overflow-y:auto;\n      position: absolute;\n      bottom: 21px;\n      z-index: 3;\n      padding-left: 10px;\n      padding-right: 10px;\n      \n      \n      min-width: 350px;\n      max-width: 640px;\n    }\n  \n    #beneathscrollview[_ngcontent-%COMP%] {\n      position: absolute;\n      bottom: 4px;\n      left: 25px;\n      z-index: 2;\n      font-size: 12px;\n    }\n\n    \n\n    #levelups[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10%;\n      right: 5%;\n      width: 120px;\n      height: 38px;\n\n      z-index: 4;\n      \n\n      padding: 4px 2px;\n\n      font-size: 18px;\n      font-weight: bold;\n\n      margin: auto;\n\n      overflow-y: hidden;\n      \n    }\n\n    #levelup[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10%;\n      right: 5%;\n      width: 120px;\n      height: 38px;\n\n      z-index: 4;\n      \n\n      padding: 4px 2px;\n\n      font-size: 20px;\n      font-weight: bold;\n\n      margin: auto;\n\n      overflow-y: hidden;\n      color: red;\n    \n      background: -webkit-linear-gradient(left, red, gold); \n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      \n      background-image: -o-linear-gradient(right, red, gold); \n      background-image: -moz-linear-gradient(right, red, gold); \n      background-image: linear-gradient(to right, red, gold);   \n      background-clip: text;\n      color: transparent;\n    }\n\n    #newclue[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 20%;\n      left: 10%;\n      right: 10%;\n      min-width: 300px;\n      max-width: 480px;\n\n      z-index: 4;\n      background-color: rgb(241, 158, 222);\n\n      border: 2px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 18px;\n      font-weight: bold;\n      \n\n      margin: auto;\n    }\n\n    #cluesview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 15px;\n      right: 140px;\n      z-index: 2;\n      padding: 10px;\n      padding-top: 5px;\n      font-weight: bold;\n      color: white;\n      font-size: 16px;\n      \n      border: 2px solid white;\n      border-radius: 8px;\n      padding: 0px 12px;\n      border-color: black;\n      \n      background-color: #555;\n      color: white;\n      height: 29px;\n      max-width: max-content;\n      width: auto;\n      opacity: .7;\n    }\n\n    .cluesbar[_ngcontent-%COMP%] {\n      font-size: 16px;\n      margin-top: 5px;\n\n      position: absolute;\n      top: 35px;\n      right: 135px;\n      z-index: 2;\n      padding: 10px;\n      padding-top: 5px;\n    }\n\n    #cluesview[_ngcontent-%COMP%]:hover {\n      \n      background-color: #111;\n    }\n\n\n    .clue-q[_ngcontent-%COMP%] {\n      color: #952;\n      font-family: 'robotoslab',sans-serif;\n      font-weight:normal;\n      padding-right:1px;\n      padding-bottom:1px;\n    }\n\n    .clue-r[_ngcontent-%COMP%] {\n      color: black;\n      font-family: 'robotoslab',sans-serif;\n      font-weight:normal;\n      padding-left:1px;\n      padding-top:1px;\n    }\n\n    .subtlelink[_ngcontent-%COMP%] {\n      text-decoration: none;\n      color: white;\n      cursor: pointer;\n    }\n\n\n    #romview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      z-index: 1;\n      padding: 5px;\n      font-weight: bold;\n      color: white;\n      font-size: 16px;\n    }\n\n    #rombar[_ngcontent-%COMP%] {\n      background-color:white;\n      width: 81px;\n      height: 15px;\n      border: 1px;\n      border-style: solid;\n      border-color: pink;\n      margin: 5px;\n    }\n\n    .rombarfill[_ngcontent-%COMP%] {\n      background-color: black;\n      height: 13px;\n      margin: 0px 1px 1px;\n      width: 4px;\n      position: absolute;\n    }\n\n\n    #cluetextview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      left: 10px;\n      z-index: 4;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: max-content;\n      width: auto;\n      max-height: max-content;\n      margin: auto;\n    }\n\n    #knownlocationsview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      \n      left: 10px;\n      z-index: 4;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 4%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: max-content;\n      width: auto;\n      height: auto;\n      max-height: 620px;  \n\n      overflow-y: hidden;\n\n      bottom: 10px;\n    }\n\n    \n    #locations-scrollview[_ngcontent-%COMP%] {\n      overflow-y: auto;\n      padding-left: 10px;\n      padding-right: 10px;\n      width: auto;\n      height: auto;\n      max-height: 580px;\n    }\n\n    .location-link[_ngcontent-%COMP%] {\n      display: inline-block;\n      cursor: pointer;\n      color: rgb(138, 208, 240);\n      text-decoration: none;\n      padding: 5px 20px;\n      font-family: 'vera','Arial',sans-serif;\n    }\n\n    .tutorial-view[_ngcontent-%COMP%] {\n      position: absolute;\n      width: 380px;\n      max-width: max-content;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      max-height: max-content;\n      z-index: 5;\n      \n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n      margin-left: 10px;\n\n      font-size: 16px;\n      color: white;\n    }\n\n    \n\n    .btn-system[_ngcontent-%COMP%] {\n      border: 1px;\n      border-style: groove;\n      border-color: black;\n      background-color: #ddd;\n      min-width: 80px;\n    }\n\n    .btn-system[_ngcontent-%COMP%]:hover {\n      border: 1px;\n      border-style: groove;\n      border-color: black;\n      background-color: #aaa;\n    }\n\n    #scenery[_ngcontent-%COMP%] {\n      position: relative;\n      z-index: 1;\n      text-align: center;\n      height:1024px;\n      margin-left:5px;\n      margin-right:0px;\n      padding-left:0px;\n      padding-right:0px;\n      overflow:hidden;\n\n      background-color: whitesmoke;\n\n      border: 2px;\n      border-style:ridge;\n      border-color: #aaa;\n    }\n\n    #sceneries[_ngcontent-%COMP%] {\n      filter: brightness(0);\n    }\n\n    \n\n    #form-div[_ngcontent-%COMP%] {\n      margin-left:5px;\n      margin-right:5px;\n    }\n\n\n    #scenery-img[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:1024px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    #scenery-img-m[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:800px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    #scenery-img-s[_ngcontent-%COMP%] {\n      min-width:480px;\n      max-width:none;\n      height:640px;\n      margin:0 -100%;\n      display:none;\n    }\n\n    #scenery-ending[_ngcontent-%COMP%] {\n      width: 1000px;\n      height: 800px;\n      border: 4px;\n      border-style: groove;\n      border-color: #ddd;\n      margin: auto;\n      display:block;\n      \n    }\n\n    .actionspopup[_ngcontent-%COMP%] {\n      position: sticky; \n      padding-top: 15px; \n      float:right; \n      z-index:2;\n      margin-left: 10px;\n      margin-right: 10px;\n    }\n  \n    .action[_ngcontent-%COMP%] {\n      border: 0px;\n      border-style: solid;\n      padding: 1px 5px;\n      font-size: 14px;\n      z-index: 3;\n      margin-left: 2px;\n      margin-right: 2px;\n      max-height: 25px;\n      width: 25px;\n      color: dodgerblue;\n    }\n  \n    .action[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%] {\n      color: royalblue;\n      cursor: pointer;\n    }\n\n\n\n  \n  .container[_ngcontent-%COMP%] {\n    border: 2px solid #dedede;\n    background-color: #f1f1f1;\n    border-radius: 8px;\n    padding: 10px 12px;\n    margin: 10px 0;\n    \n    border-color: black;\n    \n    background-color: rgb(250, 169, 232);\n    color: black;\n    flex-wrap: wrap;\n\t\t\n\t\theight: auto;\n\t\tmax-width: max-content;\n    width: auto;\n  }\n\n\n  .msg-cheree[_ngcontent-%COMP%] {\n    opacity: 0;\n  }\n\n  \n  \n  \n  .user[_ngcontent-%COMP%] {\n    \n    \n    background-color: #eee;\n    color: black;\n  }\n\n  .msg-devil[_ngcontent-%COMP%] {\n    background-color: #111;\n    color: #f55;\n  }\n\n  .msg-crysanthea[_ngcontent-%COMP%] {\n    background-color: white;\n    color: #555;\n    font-weight: bold;\n    opacity: 0;\n  }\n\n   \n   .history[_ngcontent-%COMP%] {\n    \n    background-color: #666;\n    color: #ccd;\n  }\n\n   \n   .history-user[_ngcontent-%COMP%] {\n    \n    background-color: #888;\n    color: #ccd;\n  }\n  \n  \n  .container[_ngcontent-%COMP%]::after {\n    content: \"\";\n    clear: both;\n    display: table;\n  }\n  \n  \n  \n  .time-right[_ngcontent-%COMP%] {\n    float: right;\n    color: #aaa;\n    padding: 10px;\n    font-size: 12px;\n  }\n  \n  \n  .time-left[_ngcontent-%COMP%] {\n    float: left;\n    color: #999;\n    padding: 10px;\n    font-size: 12px;\n  }\n\n  .message-left[_ngcontent-%COMP%] {\n    float: left;\n    text-align: justify;\n    font-size: 16px;\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n  \n    margin: auto;\n  }\n\n  .message-right[_ngcontent-%COMP%] {\n    float: right;\n    text-align: justify;\n  }\n\n\n  \n.form-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\n    width: 95%;\n\n    padding: 10px;\n    margin: 0 0 0 0;\n    border: 1px;\n    border-style: solid;\n    background: #f1f1f1;\n    resize: none;\n    height: 46px;\n    \n  }\n\n  #bottom-locked[_ngcontent-%COMP%] {\n    bottom: 0px;\n    left: 0;\n    position: fixed;\n    right: 0;\n    margin: 25px;\n  }\n  \n  \n\n\n  #inputField[_ngcontent-%COMP%] {\n\t\tmargin-bottom:10px;\n    padding:7px 10px;\n    line-height: 16px;\n\t\tfont-size: 16px;\n\t\tmargin-left:5px;\n\t\tmargin-right:5px;\n    width: 330px;\n    font-family:Verdana, Geneva, Tahoma, sans-serif;  \n\t  }\n\n  #inputSubmit[_ngcontent-%COMP%] {\n    padding:10px 9px;\n    line-height: 18px;\n\t\tfont-size: 15px;\n\t\tmargin-left:5px;\n\t\tmargin-right:5px;\n    font-family: 'vera', Arial, 'Tahoma', sans-serif;\n    background-color: #610;\n    color: white;\n    border-color: #fcc;\n\t}\n\n  #inputSubmit[_ngcontent-%COMP%]:hover {\n    background-color: #a54;\n  }\n\n  .stat[_ngcontent-%COMP%] {\n    color: darkslategrey;\n    font-size: 18px;\n    padding: 2px 10px;\n  }\n\n  .location-title[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 15px;\n    left: 15px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    \n    border: 2px solid white;\n    background-color: #555;\n    \n    border-radius: 8px;\n    padding: 0px 12px;\n    border-color: black;\n    \n    \n    color: white;\n\t\theight: 29px;\n\t\tmax-width: max-content;\n    width: auto;\n    opacity: .7;\n  }\n\n  .location-title[_ngcontent-%COMP%]:hover {\n    background-color: #111;\n  }\n\n  #mood-title[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 20px;\n    left: 240px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    \n  }\n\n  #mood-title-shadow[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 21px;\n    left: 241px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    color: black;\n    \n  }\n\n\n  #codepuzzleview[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      bottom: 10px;\n      left: 15px;\n      z-index: 4;\n      background-color: #222;\n\n      border: 5px;\n      border-style: solid;\n      border-color: black;\n      border-radius: 10px;\n\n      padding: 10px 5%;\n\n      font-size: 16px;\n      color: white;\n\n      max-width: 800px;\n      width: auto;\n      max-height: max-content;\n      height: auto;\n      margin: auto;\n  \n\n      min-width: 250px;\n      min-height: 400px;\n  }\n\n\n  .clue[_ngcontent-%COMP%] {\n      font-style: italic; \n      font-family:'columbia','Times New Roman', serif;\n      font-size: 16px;\n  }\n\n  .subwindowtitle[_ngcontent-%COMP%] {\n    font-size:18px;\n    font-weight:bold;\n    color:#edc;\n    font-family:'playfair'; \n  }\n\n  #to-top[_ngcontent-%COMP%] {\n    font-size: 14px;\n    font-family:Verdana, Geneva, Tahoma, sans-serif;\n    \n    text-align: right;\n    float: right;\n    margin-left: 20px;\n  }\n\n  #mood-recovered[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 44px;\n    left: 240px;\n    z-index: 2;\n    font-weight: bold;\n    font-size: 16px;\n    height: 30px;\n    max-width: max-content;\n    width: auto;\n    opacity: .8;\n    color: white;\n  }\n\n\n    @media screen and (min-width:0px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:1024px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1600px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:800px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1140px) {\n      #scenery[_ngcontent-%COMP%] {\n        height:640px;\n      }\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: inline-block;}\n\n    }\n\n    @media screen and (max-width:900) {\n      #codepuzzleview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      #knownlocationsview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      #cluetextview[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      .tutorial-view[_ngcontent-%COMP%] {\n        border: 2px;\n      }\n\n      \n    }\n\n    @media screen and (max-width:720px) {\n\n      #mood-title[_ngcontent-%COMP%] {\n        top: 50px;\n        left: 10px;\n        padding: 10px;\n        font-size: 16px;\n      }\n      #mood-title-shadow[_ngcontent-%COMP%] {\n        top: 51px;\n        left: 11px;\n        padding: 10px;\n        font-size: 16px;\n      }\n      #mood-recovered[_ngcontent-%COMP%] {\n        top: 74px;\n        left: 10px;\n        padding: 10px;\n        font-size: 16px;\n      }\n\n      .clue[_ngcontent-%COMP%] {\n        font-size: 14px;\n      }\n\n    }\n \n    @media screen and (max-width:600px) {\n      \n      #cluesview[_ngcontent-%COMP%] {\n        top: 72px;\n        right: 10px;\n\n        padding-right: 5px;\n        font-size: 16px;\n      }\n\n      .cluesbar[_ngcontent-%COMP%] {\n        top: 92px;\n        right: 5px;\n      }\n\n      #inputField[_ngcontent-%COMP%] {\n        width: 260px;\n      }\n\n      \n      #to-top[_ngcontent-%COMP%] {\n      margin-top: 20px;\n      }\n\n\n    }"],data:{animation:[Ln("clueTrigger",[Te("faded_in",ve({opacity:1})),Te("faded_out",ve({opacity:0})),nt("faded_out => faded_in",[tt(".3s")]),nt("faded_in => faded_out",[tt("4.5s 5s")])]),Ln("moodRecoveredTrigger",[Te("faded_in",ve({opacity:1})),Te("faded_out",ve({opacity:0})),nt("faded_out => faded_in",[tt(".3s")]),nt("faded_in => faded_out",[tt("2.5s 5s")])]),Ln("BackTransition",[Te("out",ve({backgroundColor:"orange",opacity:"0"})),Te("in",ve({backgroundColor:"purple",opacity:"1"})),nt("* => out",[tt(2e3)]),nt("* => in",[tt("2s .5s")])]),Ln("GeneralFade",[Te("out",ve({opacity:"0"})),Te("in",ve({opacity:"1"})),Te("outfast",ve({opacity:"0"})),nt("* => out",[tt("5s")]),nt("* => in",[tt(2e3)]),nt("* => outfast",[tt(100)])]),Ln("Darken",[Te("darken",ve({filter:"brightness(0%)"})),Te("lighten",ve({filter:"brightness(100%)"})),nt("* => darken",[tt(4e3)]),nt("* => lighten",[tt(2500)])]),Ln("romTrigger",[Te("blink_in",ve({filter:"opacity(100%)"})),Te("blink_out",ve({filter:"opacity(0%)"})),nt("* => blink_in",[tt(150)]),nt("* => blink_out",[tt(150)])]),Ln("newMessage",[Te("expand",ve({opacity:"1"})),nt("* => expand",[tt(600)])]),Ln("levelUp",[Te("show",ve({opacity:1,height:"38px"})),Te("hide",ve({opacity:0,height:"0px"})),nt("hide => show",[tt("2s")]),nt("show => hide",[tt("6s 2s")])])]}}),n})();function D3(n,t){if(1&n){const e=re();m(0,"div")(1,"div",3),p(2," Resume your game \xa0 \xa0 "),m(3,"span",15),p(4),g()(),m(5,"div",16)(6,"button",17),k("click",function(){return B(e),U(b().onResume())}),p(7," RESUME "),g()(),M(8,"br")(9,"br"),g()}if(2&n){const e=b();v(4),ze(" ",e.username," ")}}function E3(n,t){1&n&&(m(0,"div",18),p(1," (forgetting old game) "),g())}function S3(n,t){if(1&n){const e=re();m(0,"form",19,20),k("ngSubmit",function(){return B(e),U(b().onBegin())}),m(2,"div",21)(3,"div",22),M(4,"input",23,24),g()(),m(6,"div",25)(7,"button",17),k("click",function(){return B(e),U(b().onBegin())}),p(8," BEGIN "),g()()()}2&n&&w("formGroup",b().beginForm)}function T3(n,t){1&n&&(m(0,"div",26)(1,"p")(2,"span",27),p(3,"Cheree: Remembering My Murder"),g(),p(4," is a parser-based visual novel by Chatty Fiction (Robert Goodwin) with CG models by Sabao3179. "),M(5,"br"),m(6,"span",28),p(7," No deep learning generative neural nets are used in this project, and no data has been scraped from the internet. "),g(),p(8," All AI is handcrafted. All art is handcrafted. All photographs are handtaken. (either royalty-free, or in a couple cases personally taken by me) "),g(),m(9,"p"),p(10," The game belongs to a rare class of NLP or natural language games going back at least as far as 1998's "),m(11,"span",27),p(12,"Starship Titanic"),g(),p(13," where the primary input method is a text parser that understands natural English. (never remotely close to perfectly, but we do our best!) Other NLP titles worth noting include 2016's "),m(14,"span",27),p(15,"Event[0]"),g(),p(16," and "),p(17," 2005's "),m(18,"span",27),p(19,"Fa\xe7ade"),g(),p(20,". More recently, a host of games with AI powered by LLMs and deep learning such as 2019's "),m(21,"span",27),p(22,"AI Dungeon"),g(),p(23," have come onto the scene, which do a superior job of responding to input at the cost of the author losing control of the story; narrative that is open-ended (no human author is controlling where the story goes) might best be considered a different thing. "),g(),m(24,"p")(25,"span",27),p(26,"Cheree: Remembering My Murder"),g(),p(27," is a handcrafted story with handcrafted (rule-based) AI that might be as advanced as can be found in any game with set narrative yet made. It was developed in Chatscript, the same framework used to make 2022's "),m(28,"a",29)(29,"span",27),p(30,"Thanatophobia"),g()(),p(31," (which albeit short, itself may have had the most advanced AI in any game with set narrative until now). The front end is built in Angular, the back end in NodeJS with PostgreSQL. The 3D model is rendered with Unity WebGL. "),g(),m(32,"p")(33,"span",27),p(34,"Cheree: Remembering My Murder"),g(),p(35," also traces its roots to the visual novel and is, to my knowledge, the first NLP game in visual novel style, where the content of the dialogue is linked to a character's poses/animations. It has a romantic element best enjoyed as B x G (male PC, female NPC). "),g(),m(36,"p"),p(37," The story of "),m(38,"span",27),p(39,"Cheree: Remembering My Murder"),g(),p(40," draws upon historical figures and events, most notably Jack the Ripper & the Whitechapel Murders. Locations both real and fictional comprise the setting. Strong supernatural themes come into play, with horror taking the stage in the story's final act. "),m(41,"span",27),p(42,"Cheree: Remembering My Murder"),g(),p(43," is not recommended for young children. "),g()())}function M3(n,t){1&n&&(m(0,"div",26)(1,"p"),p(2," Type in English the thoughts you wish to convey to Cheree. (you can press \u2191 to auto-type your last input) "),M(3,"br"),p(4,"\xa0\xa0\xa0 At times you will want to let her lead the conversation; you can simply press Enter or chime in with occasional comments and questions. Cheree will often speak on her own, as well. "),M(5,"br"),p(6,"\xa0\xa0\xa0 At times you should lead the conversation yourself. Discovering the clues needed to solve the mystery will require bringing up certain topics and discussing them. "),g(),m(7,"p"),p(8,"Your progress is stored on the server automatically and there is no need to manually save."),g(),m(9,"p"),p(10,"Cheree will, of course, not always understand your words the way you intended. If you receive a poor response to something you typed, rest assured that the developer is reading the logs and making improvements accordingly such that future players will receive better responses to the inputs you tried! "),M(11,"br")(12,"br"),p(13," Remember that you can not only ask what Cheree thinks about a person or thing, but you can ask what "),m(14,"span",27),p(15,"another person"),g(),p(16," thinks about a person or thing. "),g(),m(17,"p"),p(18," At certain locations you will need to steer the conversation in such a way that Cheree remembers a clue. A clue once discovered must be deciphered by solving a puzzle in which each letter in the alphabet codes for another letter. Click on Clues in the upper right corner to review the clues you've discovered, and click on an undeciphered clue to attempt to decipher it. "),g(),M(19,"p"),m(20,"p"),p(21," You can return to old locations to look for clues you may have missed. Click on the location title to bring up the list. Location names in blue may or may not have a yet undiscovered clue. Clues can be collected in any order. The game should never wind up in an unwinnable state. "),g(),m(22,"p"),p(23,"The above and all important game concepts are also explained in-game. "),g()())}function I3(n,t){1&n&&(m(0,"div",30)(1,"p")(2,"span",31),p(3,"Tips for collecting clues"),g()(),m(4,"p"),p(5," It is fine and well to let Cheree lead you around from location to location, but at a certain point you will be unable to progress until you have found and deciphered a number of clues. The very first clue is found at Steadwell Manse, and it is mandatory to at least acquire it before Cheree will introduce any further locations. (whether you decipher it then or at a later time is up to you) "),M(6,"br")(7,"br"),p(8," The Location List (click on the location title in the upper left corner to bring it up) will display all locations Cheree can show you so far. Location names in green have no further clues. Location names in blue may or may not have a clue. Spend some time at such a location and eventually Cheree will either sense that there are no clues around, or may drop hints about whatever clue is there. "),M(9,"br")(10,"br"),p(11,' If you return to a previously visited location and Cheree begins the new conversation saying, "This is where I told you about x", that is also an indication that a clue remains there. '),M(12,"br")(13,"br"),p(14,' The visual appearance of a location is not necessarily what matters. Each clue is suggested by something Cheree has mentioned in the dialogue there. It could be a person, an object, a concept, or a past experience. Usually, words along the lines of "Can you tell me more about x?" is sufficient for the clue to be found. '),M(15,"br")(16,"br"),p(17," A clue once found must be deciphered. The Clue List (click on Clues in the upper right corner to bring it up) will display which clues you have discovered, and you can attempt to decipher clues yet undeciphered by clicking on them there. "),g(),m(18,"p")(19,"span",31),p(20,"Tips for deciphering clues"),g()(),m(21,"span",27),p(22,' "As you are aware, E is the most common letter in the English alphabet, and it predominates to so marked an extent that even in a short sentence one would expect to find it most often." '),g(),m(23,"div",32),M(24,"br"),p(25,"\xa0\xa0\xa0 -- The Return of Sherlock Holmes "),M(26,"br"),p(27,"\xa0\xa0\xa0 Sir Arthur Conan Doyle "),M(28,"br"),p(29,"\xa0\xa0\xa0 CHAPTER III: \u201cTHE ADVENTURE OF THE DANCING MEN\u201d "),g(),M(30,"br")(31,"br"),p(32,' Begin with short words. A 1-letter word can only be either "I" or "a". '),M(33,"br")(34,"br"),p(35,' The most commonly occuring 3-letter word is "the". If changing a coded word to "the" results in 4-letter words elsewhere in the puzzle having their first two letters as "th" then you are probably on the right track; such a word could be "this", "that", "they", "them", "than", or "then". '),M(36,"br")(37,"br"),p(38,' For longer words, look for repeat occurences of letters. A doubled-up letter could be many things, but in most cases will be followed by a vowel, typically \'e\'. (examples: "arrest", "sinned", "dessert"). '),M(39,"br")(40,"br"),p(41," Some decipher puzzles have permanently capitalized words in them. Most likely, a capitalized word has been mentioned by Cheree, so it may be worth reviewing recent dialogue. "),M(42,"br")(43,"br"),p(44," If you are absolutely unable to solve a decipher puzzle, email me and I'll share the cheat code. "),M(45,"br")(46,"br"),m(47,"p")(48,"span",31),p(49,"Tips for Cheree's moods"),g()(),m(50,"p"),p(51," Cheree can get into the following moods: "),M(52,"br")(53,"br"),p(54,"Agitated - Triggered by using too much negative language "),M(55,"br"),p(56,"Neglected - Triggered by thinking too many short thoughts "),M(57,"br"),p(58,"Misunderstood - Triggered by only making statements, not asking questions "),M(59,"br"),p(60,"Interrogated - Triggered by only asking questions, not making statements "),M(61,"br"),p(62,"Flustered - Triggered by changing topics too frequently "),M(63,"br"),p(64,"Creeped - Triggered by excessive flirting (at sufficiently high relationship level does not trigger) "),M(65,"br")(66,"br"),p(67," Since the above moods halt or slow down acquisition of relationship points, which informs some of the conversational topics she might bring up on her own, it is a sort of advanced strategy to chat with her in such a way to avoid mood changes. "),M(68,"br")(69,"br"),p(70,"Certain actions will break her out of a bad mood immediately. For instance, you could try asking her to do a dance. "),g(),m(71,"p")(72,"span",31),p(73,"Trajectory of the game"),g()(),m(74,"p"),p(75," The game could be considered to consist of 3 phases: "),M(76,"br")(77,"br"),p(78,"In the 1st phase of the game you are looking for the first batch of clues. You must have found and deciphered 4 clues in order to progress to the 2nd phase. "),M(79,"br")(80,"br"),p(81,"In the 2nd phase of the game you are looking for the second batch of clues. You must have found and deciphered all 9 clues in order to progress to the 3rd phase. "),M(82,"br")(83,"br"),p(84,"You enter the 3rd and final phase of the game once you have found and deciphered all 9 clues. Ask Cheree about it and she will discuss with you who her killer is, following which she will show you the location where she was killed, and at last remember what happened that night. But the story isn't over yet.... "),M(85,"br")(86,"br"),p(87,"If you are having trouble progressing in the final sequence of the game, try to recall certain fictional concepts that have been introduced. "),g()())}function A3(n,t){1&n&&(m(0,"div",33)(1,"p")(2,"span",31),p(3,"If Cheree and the interface do not appear"),g()(),m(4,"p"),p(5," After the opening few minutes of dialogue, Cheree should become visible on the screen and stay visible thereafter, excepting when she is walking or dancing off-screen, or at certain points in the story when it is obvious her disappearance is scripted. If several lines of dialogue go by while both Cheree AND the game's interface (location title, relationship title, clues, etc) are not visible and it seems as if they ought to be, please try the following: "),M(6,"br")(7,"br"),p(8," 1. Quit to the title screen (this screen) "),M(9,"br"),p(10," 2. Reload the page "),M(11,"br"),p(12," 3. Resume your game again "),M(13,"br")(14,"br"),p(15,"If Cheree still does not appear, try freeing some memory on your device by closing apps. (the problem may be more common on mobile) "),g(),m(16,"p")(17,"span",31),p(18,"If Mel does not appear"),g()(),m(19,"p"),p(20," After Mel is introduced she becomes visible on the screen. As you visit different locations, Cheree will sometimes Manifest Mel too. Sometime she will not. This is not a bug, provided Cheree herself is visible. If you would like to see Mel again you can ask Cheree to show her to you. "),g(),m(21,"p")(22,"span",31),p(23,"If Cheree repeats herself"),g()(),m(24,"p"),p(25," Cheree will normally not repeat lengthy lines of dialogue. The most common reason this glitch might happen is that the system has recently been updated, which can cause specific parts of specific conversations to get reset (depending on what was updated). You can simply cycle through those conversation again with repeated empty input. (press ENTER repeatedly) "),g(),m(26,"p")(27,"span",31),p(28,"If Cheree has nothing to say"),g()(),m(29,"p"),p(30," Cheree, like anyone, can run out of meaningful things to say. Although there is a vast amount of dialogue she is holding back for the appropriate topic to be raised, most stalls in the flow of the conversation occur when you have been at a location long enough that she has no further comments to make about it. Assuming there are no clues to find there (the name of the location in the location list will be green if there are no clues), you are probably best off visiting another location. "),g(),m(31,"p")(32,"span",31),p(33,"If Cheree has too much to say"),g()(),m(34,"p"),p(35," It is normal behavior for Cheree to sometimes speak on her own when you're not typing anything. She will eventually pause and wait for you at pointed moments, or when she has nothing more to say. (You can also tell her to stop talking) "),g(),m(36,"p")(37,"span",31),p(38,"If Cheree misunderstands you"),g()(),m(39,"p"),p(40," Yes, it will happen! Cheree is continually being improved based on play data, but she will never have human-like comprehension. As well, sometimes Cheree will misunderstand a thing said, resulting in the context of prior dialogue being lost. However, you will never get locked out of dialogue critical to completing the game. "),g()())}function x3(n,t){1&n&&(m(0,"div",30)(1,"p"),p(2," The game can be played on any browser including mobile, though a computer with full-sized screen and keyboard is recommended. "),M(3,"br"),p(4,"Your data is saved automatically, and your username remembered for the device you begin the game on. "),g(),m(5,"p"),p(6," It is possible to migrate to a new device by doing the following: "),g(),m(7,"ol")(8,"li"),p(9,'On the old device, click or hover the cursor over "Resume your game".'),g(),m(10,"li"),p(11,'Copy down the username that appears to the right. (example: "Fred-J7CveP2w1b")'),g(),m(12,"li"),p(13,"On the new device, enter the username you copied into the 'your name' field and begin the game."),g()()())}function k3(n,t){1&n&&(m(0,"div",30)(1,"p")(2,"span",34),p(3,"Does the game contain explicit content?"),g()(),m(4,"p"),p(5," There is no substantial sexual content. (subject to change) "),M(6,"br"),p(7,"There is no nudity (only one character who dresses skimpily). "),M(8,"br"),p(9,"There are textual descriptions of violence, but no visual depictions of it. "),M(10,"br"),p(11,"There is abundant strong language. "),M(12,"br"),p(13,"There is content both textual and visual that may be too frightening for young children. "),g(),m(14,"p")(15,"span",34),p(16,"What is the gameplay like?"),g()(),m(17,"p"),p(18," Most players will pick up on the fact that the bulk of the story is on auto-pilot and one does not strictly need to be engaging Cheree in meaningful conversation all of the time. That much is in the tradition of visual novels, to say the least! Unlike other visual novels, the player can always chime in at will with questions and comments, change the topic of conversation, and make other requests of Cheree. Indeed, the player is expected to stay actively involved. Only by paying attention to names and concepts mentioned and by probing deeper can clues to solving the mystery be obtained. "),M(19,"br")(20,"br"),p(21,' Once a clue is discovered, the player must "make sense" of the clue in a deciphering mini-game, a break from the usual chat flow. '),M(22,"br")(23,"br"),p(24," Building a relationship with Cheree is also at the core of the game. Thus, not all dialogue is important to the plot; much of it is quite peripheral. "),g(),m(25,"p")(26,"span",34),p(27,"How long is the game?"),g()(),m(28,"p"),p(29," It is tricky to measure this when each of us has our own style of chatting, but a very rough estimate of the time to completion is 5 hours. It could well be longer for some players. "),g(),m(30,"p")(31,"span",34),p(32,"How smart is the AI?"),g()(),m(33,"p"),p(34," Though the answer depends on the metric, obviously Cheree cannot handle the seemingly infinite range of inputs that deep learning models and LLMs can. Nor is she likely to be passing a Turing Test. There may be areas where she does comparatively well, such as long-term memory, but it isn't fair anyway to be comparing massive machine-learned models to that found in a game hand-crafted to suit the purpose of a human-authored story --a hand-crafted story calls for hand-crafted AI. Else it could make up dialogue inconsistent with everything. "),M(35,"br")(36,"br"),p(37," As games go, Cheree (like "),m(38,"a",29)(39,"span",27),p(40,"Thanatophobia"),g()(),p(41," before it) possibly has the most advanced AI yet built for a game with set narrative. "),g(),m(42,"p")(43,"span",34),p(44,"What else does the game have to offer?"),g()(),m(45,"p"),p(46," As if it could be revealed without spoiling the surprise! Suffice to say that late in the story there is a segment of gameplay unlike anything found in any other game. "),g()())}function P3(n,t){1&n&&(m(0,"div",26)(1,"p"),p(2," This game exists for entertainment. Your chat history is stored on the server in order to improve the game. It is never shared with third parties. Your chat history may be deleted after (normally) a month of inactivity. "),g(),m(3,"p"),p(4," The game will never ask for sensitive personal information such as credit card numbers or phone numbers and you should never share such information. "),g()())}function N3(n,t){1&n&&(m(0,"div",35)(1,"p"),p(2," Feel free to reach out to me for help completing the game or any other feedback you'd like to offer. "),g(),m(3,"p"),p(4," Email: flowerthief00atyahoodotcom "),M(5,"br"),p(6,"(replace at with @ and dot with .) "),g()())}let J0=(()=>{class n{constructor(e,r,i){this.formBuilder=e,this.router=r,this.chatService=i,this.username="",this.maxNameLength=20,this.resumable=!1,this.showPrivacy=!1,this.showMigrating=!1,this.showAbout=!1,this.showPlaying=!1,this.showContact=!1,this.showTroubleshooting=!1,this.showFAQ=!1,this.showTips=!1,this.beginForm=new ai({inputname:new li("",[Xl.minLength(1),Xl.maxLength(this.maxNameLength)])})}ngOnInit(){this.get_username(),""!=this.username&&(console.log("already had name = "+this.username),this.resumable=!0)}store_username(e){localStorage.setItem("stored",JSON.stringify(e)),console.log("set stored "+e)}get_username(){const e=localStorage.getItem("stored");this.username=null!==e?JSON.parse(e):"",console.log("got username "+this.username)}delete_username(){localStorage.removeItem("stored")}random_string(e=10){let r="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<e;o++)r+=i.charAt(Math.floor(Math.random()*i.length));return r}onBegin(){var e=this.beginForm.get("inputname")?.value;if(this.beginForm.reset(),e){if(this.beginForm.invalid)return void console.log("invalid name");var r="";r="Pablo"==e?"Pablo-123":-1!=e.indexOf("-")?e:e+"-"+this.random_string(),console.log("begun with name="+r),this.onDelete(),this.resumable=!0,this.store_username(r),this.username=r,this.router.navigate(["/game"])}}onResume(){this.get_username(),""!=this.username&&this.router.navigate(["/game"])}onDelete(){""!=this.username&&this.chatService.deleteUser(this.username),this.delete_username(),this.resumable=!1}togglePrivacy(){this.showPrivacy=!this.showPrivacy}toggleMigrating(){this.showMigrating=!this.showMigrating}toggleAbout(){this.showAbout=!this.showAbout}togglePlaying(){this.showPlaying=!this.showPlaying}toggleContact(){this.showContact=!this.showContact}toggleTroubleshooting(){this.showTroubleshooting=!this.showTroubleshooting}toggleFAQ(){this.showFAQ=!this.showFAQ}toggleTips(){this.showTips=!this.showTips}}return n.\u0275fac=function(e){return new(e||n)(T(C0),T(We),T(vp))},n.\u0275cmp=Wn({type:n,selectors:[["home"]],decls:59,vars:11,consts:[[2,"display","flex"],[2,"margin","20px 5%","float","left","min-width","350px"],[4,"ngIf"],[1,"title"],["style","font-size:14px; color:#aaa;",4,"ngIf"],["autocomplete","off","class","form-container","style","margin-top:0px;",3,"formGroup","ngSubmit",4,"ngIf"],[2,"width","100%","margin-right","10%"],[2,"float","right"],["src","assets/cheree_trans.png","width","200"],[1,"text-center"],[1,"reveal-info",3,"click"],["class","info","id","privacy",4,"ngIf"],["class","info","id","about",4,"ngIf"],["class","info","id","troubleshooting",4,"ngIf"],["class","info","id","contact",4,"ngIf"],["id","username"],[2,"margin-bottom","22px","margin-top","15px","padding-bottom","22px","display","inline-block"],["type","button",1,"btn-system",2,"margin-bottom","15px",3,"click"],[2,"font-size","14px","color","#aaa"],["autocomplete","off",1,"form-container",2,"margin-top","0px",3,"formGroup","ngSubmit"],["input","ngForm"],[2,"display","inline-block"],[2,"margin-left","0px","margin-right","10px","display","inline-block"],["type","text","id","inputField","placeholder","Your name","formControlName","inputname","autofocus","",1,"form-container"],["msg",""],[2,"margin-bottom","22px","margin-top","20px","padding-bottom","22px","display","inline-block"],["id","privacy",1,"info"],[2,"font-style","italic"],[2,"color","gold","font-weight","bold"],["href","https://www.chattyfiction.cyou/index.php"],["id","about",1,"info"],[1,"troubleshooting-heading"],[2,"font-size","smaller"],["id","troubleshooting",1,"info"],[1,"faq-heading"],["id","contact",1,"info"]],template:function(e,r){1&e&&(M(0,"br")(1,"br"),m(2,"div",0)(3,"div",1),I(4,D3,10,1,"div",2),m(5,"div",3),p(6," Begin new game "),g(),I(7,E3,2,0,"div",4),I(8,S3,9,1,"form",5),p(9," \xa0 "),g(),m(10,"div",6)(11,"div",7),M(12,"img",8),g()()(),M(13,"br")(14,"br"),m(15,"div")(16,"div",9)(17,"a",10),k("click",function(){return r.toggleAbout()}),p(18," About the game "),g()(),M(19,"br"),I(20,T3,44,0,"div",11),m(21,"div",9)(22,"a",10),k("click",function(){return r.togglePlaying()}),p(23," How to play "),g()(),M(24,"br"),I(25,M3,24,0,"div",11),m(26,"div",9)(27,"a",10),k("click",function(){return r.toggleTips()}),p(28," Hints & Tips "),g()(),M(29,"br"),I(30,I3,88,0,"div",12),m(31,"div",9)(32,"a",10),k("click",function(){return r.toggleTroubleshooting()}),p(33," Troubleshooting "),g()(),M(34,"br"),I(35,A3,41,0,"div",13),m(36,"div",9)(37,"a",10),k("click",function(){return r.toggleMigrating()}),p(38," Migrating to a new device "),g()(),M(39,"br"),I(40,x3,14,0,"div",12),m(41,"div",9)(42,"a",10),k("click",function(){return r.toggleFAQ()}),p(43," FAQ "),g()(),M(44,"br"),I(45,k3,47,0,"div",12),m(46,"div",9)(47,"a",10),k("click",function(){return r.togglePrivacy()}),p(48," Privacy Policy "),g()(),M(49,"br"),I(50,P3,5,0,"div",11),m(51,"div",9)(52,"a",10),k("click",function(){return r.toggleContact()}),p(53," Contact the author "),g()(),M(54,"br"),I(55,N3,7,0,"div",14),M(56,"br")(57,"br")(58,"br"),g()),2&e&&(v(4),w("ngIf",r.resumable),v(3),w("ngIf",r.resumable),v(1),w("ngIf",!0),v(12),w("ngIf",r.showAbout),v(5),w("ngIf",r.showPlaying),v(5),w("ngIf",r.showTips),v(5),w("ngIf",r.showTroubleshooting),v(5),w("ngIf",r.showMigrating),v(5),w("ngIf",r.showFAQ),v(5),w("ngIf",r.showPrivacy),v(5),w("ngIf",r.showContact))},dependencies:[io,np,po,nc,Gf,js,dc],styles:[".title[_ngcontent-%COMP%] {\n        font-size: 22px;\n        color: white;\n    }\n\n    button[_ngcontent-%COMP%] {\n        background-color: #620;\n        color: white;\n        padding: 8px 12px;\n        border-radius: 8px;\n       \n        border: 1px;\n        border-style: solid;\n        border-color: grey;\n    }\n\n    button[_ngcontent-%COMP%]:hover {\n        background-color: #953;\n    }\n\n    #inputField[_ngcontent-%COMP%] {\n        width: 120px;\n    }\n\n    #username[_ngcontent-%COMP%] {\n        font-size:12px;\n        color:#888;\n        visibility: hidden;\n    }\n\n    .title[_ngcontent-%COMP%]:hover   #username[_ngcontent-%COMP%] { visibility: visible; }\n\n\n    .info[_ngcontent-%COMP%] {\n        margin:15px 30px 30px;\n        align-items:center;\n        justify-content:center;\n        font-size:14px;\n        width: 90%;\n        color: white;\n    }\n\n    .reveal-info[_ngcontent-%COMP%] {\n        cursor:pointer;\n        color:#ccccee;\n        font-size:18px;\n        text-decoration: none;\n    }\n\n    .troubleshooting-heading[_ngcontent-%COMP%] {\n        font-weight: bold;\n        font-size: 16px;\n        color: gold;\n    }\n\n    .faq-heading[_ngcontent-%COMP%] {\n        font-weight: bold;\n        font-size: 16px;\n        color: gold\n    }"]}),n})();const R3=[{path:"",component:J0},{path:"home",component:J0},{path:"game",component:b3}];let O3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({imports:[jf.forRoot(R3),jf]}),n})();function F3(n,t){1&n&&(m(0,"div",6)(1,"span",7),p(2," Cheree: Remembering My Murder "),g()())}function L3(n,t){1&n&&M(0,"div",8)}function V3(n,t){if(1&n){const e=re();m(0,"div",9)(1,"img",10),k("@DevilTransition.done",function(){return B(e),U(b().afterTransition())}),g(),m(2,"img",11),k("@DevilTransition.done",function(){return B(e),U(b().afterTransition())}),g(),m(3,"img",12),k("@DevilTransition.done",function(){return B(e),U(b().afterTransition())}),g(),m(4,"img",13),k("@DevilTransition.done",function(){return B(e),U(b().afterTransition())}),g(),m(5,"img",14),k("@DevilTransition.done",function(){return B(e),U(b().afterTransition())}),g()()}if(2&n){const e=b();v(1),w("@DevilTransition",e.fadeDevil?"out":"in"),v(1),w("@DevilTransition",e.fadeDevil?"out":"in"),v(1),w("@DevilTransition",e.fadeDevil?"out":"in"),v(1),w("@DevilTransition",e.fadeDevil?"out":"in"),v(1),w("@DevilTransition",e.fadeDevil?"out":"in")}}let B3=(()=>{class n{constructor(e){this.eventEmitterService=e,this.title="chatng",this.showDevil=!1,this.fadeDevil=!1,this.subsVar=new at}ngOnInit(){this.subsVar=this.eventEmitterService.invokeToggleDevilFunction.subscribe(()=>{console.log("heyyy"),this.toggleDevil()})}toggleDevil(){this.showDevil=!this.showDevil,console.log("toggled devil to "+this.showDevil.toString()),this.fadeDevil=!0}afterTransition(){this.fadeDevil&&(this.fadeDevil=!1,this.showDevil=!1,console.log("here?"))}}return n.\u0275fac=function(e){return new(e||n)(T(wp))},n.\u0275cmp=Wn({type:n,selectors:[["app-root"]],decls:7,vars:3,consts:[[2,"position","relative","background-color","#422"],["role","banner","id","top","class","text-center",4,"ngIf"],["id","main-content"],["role","main",1,"content"],["id","bottom",4,"ngIf"],["id","devildiv",4,"ngIf"],["role","banner","id","top",1,"text-center"],["id","game-title"],["id","bottom"],["id","devildiv"],["id","scenery-img-b","src","assets/devilb.jpg","alt",""],["id","scenery-img","src","assets/devil.jpg","alt",""],["id","scenery-img-m","src","assets/devilm.jpg","alt",""],["id","scenery-img-s","src","assets/devils.jpg","alt",""],["id","scenery-img-x","src","assets/devilx.jpg","alt",""]],template:function(e,r){1&e&&(m(0,"div",0),I(1,F3,3,0,"div",1),m(2,"div",2)(3,"div",3),M(4,"router-outlet"),g(),I(5,L3,1,0,"div",4),g(),I(6,V3,6,5,"div",5),g()),2&e&&(v(1),w("ngIf",!r.showDevil),v(4),w("ngIf",!r.showDevil),v(1),w("ngIf",r.showDevil))},dependencies:[io,Tf],styles:['[_nghost-%COMP%] {\n    \n    font-family: Cambria, Cochin, Georgia, Times, \'Times New Roman\', serif;\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  #main-content[_ngcontent-%COMP%] {\n    background-color: #222;\n    background-image: url("./assets/pattern.png");\n\n    position: absolute;\n    left:0px;\n    top: 33px;\n    \n    width: 100%;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: block;\n    margin: 0px 30px 0px;\n    padding: 0 2%;\n    max-width: 1792px;\n    flex-direction: column;\n    align-items: center;\n    background-color: black;\n    \n\n  }\n\n  @media screen and (min-width: 1852px) {\n\n    .content[_ngcontent-%COMP%] {\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n\n  @media screen and (max-width: 1080px) {\n\n    .content[_ngcontent-%COMP%] {\n      margin-left: 2px;\n      margin-right: 2px;\n    }\n  }\n\n  \n\n  @font-face {\n    font-family: "robotoslab";\n    src: url("./assets/fonts/RobotoSlab.ttf") format("truetype");\n  }\n\n\n  #game-title[_ngcontent-%COMP%] {\n    \n    font-family: "robotoslab"; \n    font-size: 18px;\n    font-weight: bold;\n    text-align: center;\n  }\n\n  \n\n  #top[_ngcontent-%COMP%] {\n    background-color:darkred;\n    border-style:solid;\n    border: 0px 0px 3px;\n    border-color: black;\n    \n    height:34px;\n    padding:5px;\n    padding-top:0px; \n    color:white;\n  }\n\n  #bottom[_ngcontent-%COMP%] {\n    background-color: darkred;\n    border-style:solid;\n    border: 0px 0px 3px;\n    border-color: black;\n    height:14px;\n  }',"#devildiv[_ngcontent-%COMP%] {\n      z-index: 10;\n      display: block;\n      object-fit: cover;\n      position: absolute;\n      left: 50%;\n      transform: translate(-50%);\n      \n    }\n\n\n    @media screen and (min-width:0px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: inline-block;}\n    }\n\n    @media screen and (min-width:1550px) {\n      #scenery-img[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:1200px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:950px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }\n\n    @media screen and (max-width:570px) {\n      #scenery-img[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-m[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-s[_ngcontent-%COMP%] {display: none;}\n      #scenery-img-x[_ngcontent-%COMP%] {display: inline-block;}\n      #scenery-img-b[_ngcontent-%COMP%] {display: none;}\n    }"],data:{animation:[Ln("DevilTransition",[Te("out",ve({backgroundColor:"orange",filter:"brightness(0%)"})),Te("in",ve({backgroundColor:"purple",opacity:"1"})),nt("* => in",[tt(2e3)]),nt("* => out",[tt("4s .5s")])])]}}),n})();const Cp_production=!0,Cp_socketUrl="https://www.chattyfiction.cyou:2096/chat";function X0(n){return new S(3e3,!1)}function CU(){return typeof window<"u"&&typeof window.document<"u"}function bp(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Nr(n){switch(n.length){case 0:return new $s;case 1:return n[0];default:return new S0(n)}}function eE(n,t,e,r,i=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((y,_)=>{let C=_,E=y;if("offset"!==_)switch(C=t.normalizePropertyName(C,s),E){case"!":E=i.get(_);break;case dr:E=o.get(_);break;default:E=t.normalizeStyleValue(_,C,E,s)}f.set(C,E)}),h||a.push(f),c=f,l=d}),s.length)throw function cU(n){return new S(3502,!1)}();return a}function Dp(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Ep(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Ep(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Ep(e,"destroy",n)))}}function Ep(n,t,e){const o=Sp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Sp(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Zt(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function tE(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Tp=(n,t)=>!1,nE=(n,t,e)=>[],rE=null;function Mp(n){const t=n.parentNode||n.host;return t===rE?null:t}(bp()||typeof Element<"u")&&(CU()?(rE=(()=>document.documentElement)(),Tp=(n,t)=>{for(;t;){if(t===n)return!0;t=Mp(t)}return!1}):Tp=(n,t)=>n.contains(t),nE=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let ui=null,iE=!1;const oE=Tp,sE=nE;let aE=(()=>{class n{validateStyleProperty(e){return function DU(n){ui||(ui=function EU(){return typeof document<"u"?document.body:null}()||{},iE=!!ui.style&&"WebkitAppearance"in ui.style);let t=!0;return ui.style&&!function bU(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ui.style,!t&&iE&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ui.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return oE(e,r)}getParentElement(e){return Mp(e)}query(e,r,i){return sE(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new $s(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Ip=(()=>{class n{}return n.NOOP=new aE,n})();const Ap="ng-enter",vc="ng-leave",wc="ng-trigger",Cc=".ng-trigger",cE="ng-animating",xp=".ng-animating";function hr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:kp(parseFloat(t[1]),t[2])}function kp(n,t){return"s"===t?1e3*n:n}function bc(n,t,e){return n.hasOwnProperty("duration")?n:function MU(n,t,e){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(X0()),{duration:0,delay:0,easing:""};i=kp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=kp(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(function j3(){return new S(3100,!1)}()),a=!0),o<0&&(t.push(function $3(){return new S(3101,!1)}()),a=!0),a&&t.splice(l,0,X0())}return{duration:i,delay:o,easing:s}}(n,t,e)}function Gs(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function uE(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Rr(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function hE(n,t,e){return e?t+":"+e+";":""}function fE(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=hE(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=hE(0,kU(e),n.style[e]));n.setAttribute("style",t)}function Bn(n,t,e){n.style&&(t.forEach((r,i)=>{const o=Np(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),bp()&&fE(n))}function di(n,t){n.style&&(t.forEach((e,r)=>{const i=Np(r);n.style[i]=""}),bp()&&fE(n))}function qs(n){return Array.isArray(n)?1==n.length?n[0]:D0(n):n}const Pp=new RegExp("{{\\s*(.+?)\\s*}}","g");function pE(n){let t=[];if("string"==typeof n){let e;for(;e=Pp.exec(n);)t.push(e[1]);Pp.lastIndex=0}return t}function Ws(n,t,e){const r=n.toString(),i=r.replace(Pp,(o,s)=>{let a=t[s];return null==a&&(e.push(function z3(n){return new S(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Dc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const xU=/-+([a-z0-9])/g;function Np(n){return n.replace(xU,(...t)=>t[1].toUpperCase())}function kU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jt(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function G3(n){return new S(3004,!1)}()}}function gE(n,t){return window.getComputedStyle(n)[t]}function LU(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function VU(n,t,e){if(":"==n[0]){const l=function BU(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function oU(n){return new S(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function iU(n){return new S(3015,!1)}()),t;const i=r[1],o=r[2],s=r[3];t.push(mE(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&t.push(mE(s,i))}(r,e,t)):e.push(n),e}const Mc=new Set(["true","1"]),Ic=new Set(["false","0"]);function mE(n,t){const e=Mc.has(n)||Ic.has(n),r=Mc.has(t)||Ic.has(t);return(i,o)=>{let s="*"==n||n==i,a="*"==t||t==o;return!s&&e&&"boolean"==typeof i&&(s=i?Mc.has(n):Ic.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?Mc.has(t):Ic.has(t)),s&&a}}const UU=new RegExp("s*:selfs*,?","g");function Rp(n,t,e,r){return new jU(n).build(t,e,r)}class jU{constructor(t){this._driver=t}build(t,e,r){const i=new zU(e);return this._resetContextStyleTimingState(i),Jt(this,qs(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function W3(){return new S(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(function K3(){return new S(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{pE(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Dc(o.values()),e.errors.push(function Q3(n,t){return new S(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Jt(this,qs(t.animation),e);return{type:1,matchers:LU(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:hi(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Jt(this,r,e)),options:hi(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(s=>{e.currentTime=r;const a=Jt(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:hi(t.options)}}visitAnimate(t,e){const r=function qU(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Op(bc(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Op(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=bc(e,t);return Op(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:ve({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=ve(c)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===dr?r.push(a):e.errors.push(new S(3002,!1)):r.push(uE(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(e.errors.push(function Z3(n,t,e,r,i){return new S(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),e.options&&function AU(n,t,e){const r=t.params||{},i=pE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function H3(n){return new S(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function J3(){return new S(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(E=>{const x=this._makeStyleAst(E,e);let D=null!=x.offset?x.offset:function GU(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(x.styles),P=0;return null!=D&&(o++,P=x.offset=D),l=l||P<0||P>1,a=a||P<c,c=P,s.push(P),x});l&&e.errors.push(function X3(){return new S(3012,!1)}()),a&&e.errors.push(function eU(){return new S(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function tU(){return new S(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,y=e.currentTime,_=e.currentAnimateTimings,C=_.duration;return u.forEach((E,x)=>{const D=h>0?x==f?1:h*x:s[x],P=D*C;e.currentTime=y+_.delay+P,_.duration=P,this._validateStyleAst(E,e),E.offset=D,r.styles.push(E)}),r}visitReference(t,e){return{type:8,animation:Jt(this,qs(t.animation),e),options:hi(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:hi(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:hi(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function $U(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(UU,"")),n=n.replace(/@\*/g,Cc).replace(/@\w+/g,e=>Cc+"-"+e.slice(1)).replace(/:animating/g,xp),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Zt(e.collectedStyles,e.currentQuerySelector,new Map);const a=Jt(this,qs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:hi(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function nU(){return new S(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:bc(t.timings,e.errors,!0);return{type:12,animation:Jt(this,qs(t.animation),e),timings:r,options:null}}}class zU{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hi(n){return n?(n=Gs(n)).params&&(n.params=function HU(n){return n?Gs(n):null}(n.params)):n={},n}function Op(n,t,e){return{duration:n,delay:t,easing:e}}function Fp(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Ac{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const QU=new RegExp(":enter","g"),ZU=new RegExp(":leave","g");function Lp(n,t,e,r,i,o=new Map,s=new Map,a,l,c=[]){return(new JU).buildKeyframes(n,t,e,r,i,o,s,a,l,c)}class JU{buildKeyframes(t,e,r,i,o,s,a,l,c,u=[]){c=c||new Ac;const d=new Vp(t,e,c,i,o,u,[]);d.options=l;const h=l.delay?hr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),Jt(this,r,d);const f=d.timelines.filter(y=>y.containsAnimation());if(f.length&&a.size){let y;for(let _=f.length-1;_>=0;_--){const C=f[_];if(C.element===e){y=C;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,l)}return f.length?f.map(y=>y.buildKeyframes()):[Fp(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimateRefDelay(t.animation,e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimateRefDelay(t,e,r){const i=t.options?.delay;if(!i)return;let o;o="string"==typeof i?hr(Ws(i,t.options?.params??{},e.errors)):i,r.delayNextStep(o)}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const s=null!=r.duration?hr(r.duration):null,a=null!=r.delay?hr(r.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Jt(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xc);const s=hr(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Jt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?hr(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Jt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return bc(e.params?Ws(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?hr(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xc);let s=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),Jt(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Jt(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const xc={};class Vp{constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new kc(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=hr(r.duration)),null!=r.delay&&(i.delay=hr(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Ws(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new Vp(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=xc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new XU(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(QU,"."+this._enterClassName)).replace(ZU,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function rU(n){return new S(3014,!1)}()),a}}class kc{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new kc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||dr),this._currentKeyframe.set(e,dr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function ej(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,dr)}else Rr(i,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Ws(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??dr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Rr(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===dr&&e.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=t.size?Dc(t.values()):[],s=e.size?Dc(e.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Fp(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class XU extends kc{constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=r+e,a=e/s,l=Rr(t[0]);l.set("offset",0),o.push(l);const c=Rr(t[0]);c.set("offset",vE(a)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Rr(t[d]);const f=h.get("offset");h.set("offset",vE((e+f*r)/s)),o.push(h)}r=s,e=0,i="",t=o}return Fp(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function vE(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Bp{}const tj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class nj extends Bp{normalizePropertyName(t,e){return Np(t)}normalizeStyleValue(t,e,r,i){let o="";const s=r.toString().trim();if(tj.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function q3(n,t){return new S(3005,!1)}())}return s+o}}function wE(n,t,e,r,i,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Up={};class CE{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function rj(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Up,y=this.buildStyles(r,a&&a.params||Up,d),_=l&&l.params||Up,C=this.buildStyles(i,_,d),E=new Set,x=new Map,D=new Map,P="void"===i,J={params:ij(_,h),delay:this.ast.options?.delay},oe=u?[]:Lp(t,e,this.ast.animation,o,s,y,C,J,c,d);let Ie=0;if(oe.forEach(St=>{Ie=Math.max(St.duration+St.delay,Ie)}),d.length)return wE(e,this._triggerName,r,i,P,y,C,[],[],x,D,Ie,d);oe.forEach(St=>{const Tt=St.element,Un=Zt(x,Tt,new Set);St.preStyleProps.forEach(Ot=>Un.add(Ot));const Tn=Zt(D,Tt,new Set);St.postStyleProps.forEach(Ot=>Tn.add(Ot)),Tt!==e&&E.add(Tt)});const st=Dc(E.values());return wE(e,this._triggerName,r,i,P,y,C,oe,st,x,D,Ie)}}function ij(n,t){const e=Gs(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class oj{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=Gs(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ws(s,i,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(l,s)})}),r}}class aj{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new oj(i.style,i.options&&i.options.params||{},r))}),bE(this.states,"true","1"),bE(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new CE(t,i,this.states))}),this.fallbackTransition=function lj(n,t,e){return new CE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function bE(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const cj=new Ac;class uj{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=Rp(this._driver,e,r,[]);if(r.length)throw function uU(n){return new S(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=eE(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=Lp(this._driver,e,o,Ap,vc,new Map,new Map,r,cj,i),s.forEach(u=>{const d=Zt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function dU(){return new S(3300,!1)}()),s=[]),i.length)throw function hU(n){return new S(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,dr))})});const c=Nr(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function fU(n){return new S(3301,!1)}();return e}listen(t,e,r,i){const o=Sp(e,"","","");return Dp(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const DE="ng-animate-queued",jp="ng-animate-disabled",gj=[],EE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ln="__ng_removed";class $p{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function wj(n){return n??null}(r?t.value:t),r){const o=Gs(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Ks="void",Hp=new $p(Ks);class yj{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,cn(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function pU(n,t){return new S(3302,!1)}();if(null==r||0==r.length)throw function gU(n){return new S(3303,!1)}();if(!function Cj(n){return"start"==n||"done"==n}(r))throw function mU(n,t){return new S(3400,!1)}();const o=Zt(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);const a=Zt(this._engine.statesByElement,t,new Map);return a.has(e)||(cn(t,wc),cn(t,wc+"-"+e),a.set(e,Hp)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function yU(n){return new S(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),s=new zp(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(cn(t,wc),cn(t,wc+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new $p(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Hp),c.value!==Ks&&l.value===c.value){if(!function Ej(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const _=[],C=o.matchStyles(l.value,l.params,_),E=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{di(t,C),Bn(t,E)})}return}const h=Zt(this._engine.playersByElement,t,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),y=!1;if(!f){if(!i)return;f=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(cn(t,DE),s.onStart(()=>{vo(t,DE)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);const C=this._engine.playersByElement.get(t);if(C){let E=C.indexOf(s);E>=0&&C.splice(E,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Cc,!0);r.forEach(i=>{if(i[ln])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Ks,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&Nr(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||Hp,u=new $p(Ks),d=new zp(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[ln];(!o||o===EE)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){cn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=Sp(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,Dp(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class _j{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new yj(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(Pc(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Pc(e))return;const o=e[ln];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),cn(t,jp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vo(t,jp))}removeNode(t,e,r,i){if(Pc(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[ln]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Pc(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Cc,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,xp,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Nr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ln];if(e&&e.setForRemoval){if(t[ln]=EE,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(jp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)cn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Nr(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function _U(n){return new S(3402,!1)}()}_flushAnimations(t,e){const r=new Ac,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const V=this.driver.query(O,".ng-animate-queued",!0);for(let j=0;j<V.length;j++)u.add(V[j])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=ME(h,this.collectedEnterElements),y=new Map;let _=0;f.forEach((O,V)=>{const j=Ap+_++;y.set(V,j),O.forEach(ce=>cn(ce,j))});const C=[],E=new Set,x=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const V=this.collectedLeaveElements[O],j=V[ln];j&&j.setForRemoval&&(C.push(V),E.add(V),j.hasAnimation?this.driver.query(V,".ng-star-inserted",!0).forEach(ce=>E.add(ce)):x.add(V))}const D=new Map,P=ME(h,Array.from(E));P.forEach((O,V)=>{const j=vc+_++;D.set(V,j),O.forEach(ce=>cn(ce,j))}),t.push(()=>{f.forEach((O,V)=>{const j=y.get(V);O.forEach(ce=>vo(ce,j))}),P.forEach((O,V)=>{const j=D.get(V);O.forEach(ce=>vo(ce,j))}),C.forEach(O=>{this.processLeaveNode(O)})});const J=[],oe=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(j=>{const ce=j.player,Qe=j.element;if(J.push(ce),this.collectedEnterElements.length){const Pe=Qe[ln];if(Pe&&Pe.setForMove){if(Pe.previousTriggersValues&&Pe.previousTriggersValues.has(j.triggerName)){const fi=Pe.previousTriggersValues.get(j.triggerName),un=this.statesByElement.get(j.element);if(un&&un.has(j.triggerName)){const Vc=un.get(j.triggerName);Vc.value=fi,un.set(j.triggerName,Vc)}}return void ce.destroy()}}const Ft=!d||!this.driver.containsElement(d,Qe),Mt=D.get(Qe),$n=y.get(Qe),_e=this._buildInstruction(j,r,$n,Mt,Ft);if(_e.errors&&_e.errors.length)return void oe.push(_e);if(Ft)return ce.onStart(()=>di(Qe,_e.fromStyles)),ce.onDestroy(()=>Bn(Qe,_e.toStyles)),void i.push(ce);if(j.isFallbackTransition)return ce.onStart(()=>di(Qe,_e.fromStyles)),ce.onDestroy(()=>Bn(Qe,_e.toStyles)),void i.push(ce);const wo=[];_e.timelines.forEach(Pe=>{Pe.stretchStartingKeyframe=!0,this.disabledNodes.has(Pe.element)||wo.push(Pe)}),_e.timelines=wo,r.append(Qe,_e.timelines),s.push({instruction:_e,player:ce,element:Qe}),_e.queriedElements.forEach(Pe=>Zt(a,Pe,[]).push(ce)),_e.preStyleProps.forEach((Pe,fi)=>{if(Pe.size){let un=l.get(fi);un||l.set(fi,un=new Set),Pe.forEach((Vc,Qp)=>un.add(Qp))}}),_e.postStyleProps.forEach((Pe,fi)=>{let un=c.get(fi);un||c.set(fi,un=new Set),Pe.forEach((Vc,Qp)=>un.add(Qp))})});if(oe.length){const O=[];oe.forEach(V=>{O.push(function vU(n,t){return new S(3505,!1)}())}),J.forEach(V=>V.destroy()),this.reportError(O)}const Ie=new Map,st=new Map;s.forEach(O=>{const V=O.element;r.has(V)&&(st.set(V,V),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,Ie))}),i.forEach(O=>{const V=O.element;this._getPreviousPlayers(V,!1,O.namespaceId,O.triggerName,null).forEach(ce=>{Zt(Ie,V,[]).push(ce),ce.destroy()})});const St=C.filter(O=>AE(O,l,c)),Tt=new Map;TE(Tt,this.driver,x,c,dr).forEach(O=>{AE(O,l,c)&&St.push(O)});const Tn=new Map;f.forEach((O,V)=>{TE(Tn,this.driver,new Set(O),l,"!")}),St.forEach(O=>{const V=Tt.get(O),j=Tn.get(O);Tt.set(O,new Map([...Array.from(V?.entries()??[]),...Array.from(j?.entries()??[])]))});const Ot=[],Fr=[],jn={};s.forEach(O=>{const{element:V,player:j,instruction:ce}=O;if(r.has(V)){if(u.has(V))return j.onDestroy(()=>Bn(V,ce.toStyles)),j.disabled=!0,j.overrideTotalTime(ce.totalTime),void i.push(j);let Qe=jn;if(st.size>1){let Mt=V;const $n=[];for(;Mt=Mt.parentNode;){const _e=st.get(Mt);if(_e){Qe=_e;break}$n.push(Mt)}$n.forEach(_e=>st.set(_e,Qe))}const Ft=this._buildAnimation(j.namespaceId,ce,Ie,o,Tn,Tt);if(j.setRealPlayer(Ft),Qe===jn)Ot.push(j);else{const Mt=this.playersByElement.get(Qe);Mt&&Mt.length&&(j.parentPlayer=Nr(Mt)),i.push(j)}}else di(V,ce.fromStyles),j.onDestroy(()=>Bn(V,ce.toStyles)),Fr.push(j),u.has(V)&&i.push(j)}),Fr.forEach(O=>{const V=o.get(O.element);if(V&&V.length){const j=Nr(V);O.setRealPlayer(j)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<C.length;O++){const V=C[O],j=V[ln];if(vo(V,vc),j&&j.hasAnimation)continue;let ce=[];if(a.size){let Ft=a.get(V);Ft&&Ft.length&&ce.push(...Ft);let Mt=this.driver.query(V,xp,!0);for(let $n=0;$n<Mt.length;$n++){let _e=a.get(Mt[$n]);_e&&_e.length&&ce.push(..._e)}}const Qe=ce.filter(Ft=>!Ft.destroyed);Qe.length?bj(this,V,Qe):this.processLeaveNode(V)}return C.length=0,Ot.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const V=this.players.indexOf(O);this.players.splice(V,1)}),O.play()}),Ot}elementContainsData(t,e){let r=!1;const i=e[ln];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Ks;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=Zt(r,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const y=f.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),f.destroy(),d.push(f)})}di(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(y=>{const _=y.element;u.add(_);const C=_[ln];if(C&&C.removedBeforeQueried)return new $s(y.duration,y.delay);const E=_!==l,x=function Dj(n){const t=[];return IE(n,t),t}((r.get(_)||gj).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===_),D=o.get(_),P=s.get(_),J=eE(0,this._normalizer,0,y.keyframes,D,P),oe=this._buildPlayer(y,J,x);if(y.subTimeline&&i&&d.add(_),E){const Ie=new zp(t,a,_);Ie.setRealPlayer(oe),c.push(Ie)}return oe});c.forEach(y=>{Zt(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function vj(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>cn(y,cE));const f=Nr(h);return f.onDestroy(()=>{u.forEach(y=>vo(y,cE)),Bn(l,e.toStyles)}),d.forEach(y=>{Zt(i,y,[]).push(f)}),f}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new $s(t.duration,t.delay)}}class zp{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new $s,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Dp(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Zt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Pc(n){return n&&1===n.nodeType}function SE(n,t){const e=n.style.display;return n.style.display=t??"none",e}function TE(n,t,e,r,i){const o=[];e.forEach(l=>o.push(SE(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[ln]=mj,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>SE(l,o[a++])),s}function ME(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function cn(n,t){n.classList?.add(t)}function vo(n,t){n.classList?.remove(t)}function bj(n,t,e){Nr(e).onDone(()=>n.processLeaveNode(t))}function IE(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof S0?IE(r.players,t):t.push(r)}}function AE(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class Nc{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new _j(t,e,r),this._timelineEngine=new uj(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=Rp(this._driver,o,l,[]);if(l.length)throw function lU(n,t){return new S(3404,!1)}();a=function sj(n,t,e){return new aj(n,t,e)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,s]=tE(r);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[s,a]=tE(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Tj=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Bn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bn(this._element,this._initialStyles),this._endStyles&&(Bn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(di(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(di(this._element,this._endStyles),this._endStyles=null),Bn(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Gp(n){let t=null;return n.forEach((e,r)=>{(function Mj(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class xE{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:gE(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Ij{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return oE(t,e)}getParentElement(t){return Mp(t)}query(t,e,r){return sE(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof xE);(function PU(n,t){return 0===n||0===t})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((y,_)=>c.set(_,y))});let d=function IU(n){return n.length?n[0]instanceof Map?n:n.map(t=>uE(t)):[]}(e).map(f=>Rr(f));d=function NU(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,gE(n,a)))}}return t}(t,d,c);const h=function Sj(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Gp(t[0]),t.length>1&&(r=Gp(t[t.length-1]))):t instanceof Map&&(e=Gp(t)),e||r?new Tj(n,e,r):null}(t,d);return new xE(t,d,l,h)}}let Aj=(()=>{class n extends b0{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:hn.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?D0(e):e;return kE(this._renderer,null,r,"register",[i]),new xj(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(F(Yo),F(ft))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class xj extends class UL{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new kj(this._id,t,e||{},this._renderer)}}class kj{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return kE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function kE(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const PE="@.disabled";let Pj=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new NE("",o,this.engine),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return r.data.animation.forEach(l),new Nj(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(F(Yo),F(Nc),F(Fe))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class NE{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==PE?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Nj extends NE{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==PE?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function Rj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Oj(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}const RE=[{provide:b0,useClass:Aj},{provide:Bp,useFactory:function Lj(){return new nj}},{provide:Nc,useClass:(()=>{class n extends Nc{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(F(ft),F(Ip),F(Bp),F(ro))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})()},{provide:Yo,useFactory:function Vj(n,t,e){return new Pj(n,t,e)},deps:[Al,Nc,Fe]}],qp=[{provide:Ip,useFactory:()=>new Ij},{provide:Ow,useValue:"BrowserAnimations"},...RE],OE=[{provide:Ip,useClass:aE},{provide:Ow,useValue:"NoopAnimations"},...RE];let Bj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?OE:qp}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({providers:qp,imports:[ZC]}),n})();const Uj=["addListener","removeListener"],jj=["addEventListener","removeEventListener"],$j=["on","off"];function Oc(n,t,e,r){if(de(e)&&(r=e,e=void 0),r)return Oc(n,t,e).pipe(af(r));const[i,o]=function Gj(n){return de(n.addEventListener)&&de(n.removeEventListener)}(n)?jj.map(s=>a=>n[s](t,a,e)):function Hj(n){return de(n.addListener)&&de(n.removeListener)}(n)?Uj.map(FE(n,t)):function zj(n){return de(n.on)&&de(n.off)}(n)?$j.map(FE(n,t)):[];if(!i&&Qc(n))return Ye(s=>Oc(s,t,e))(Vt(n));if(!i)throw new TypeError("Invalid event target");return new pe(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function FE(n,t){return e=>r=>n[e](t,r)}const Or=new pe(Xs),Wj={connector:()=>new Lt};function LE(n,t=Wj){const{connector:e}=t;return Be((r,i)=>{const o=e();Vt(n(function qj(n){return new pe(t=>n.subscribe(t))}(o))).subscribe(i),i.add(r.subscribe(o))})}class Yj extends at{constructor(t,e){super()}schedule(t,e=0){return this}}const Fc={setInterval(n,t,...e){const{delegate:r}=Fc;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Fc;return(t?.clearInterval||clearInterval)(n)},delegate:void 0},VE={now:()=>(VE.delegate||Date).now(),delegate:void 0};class Qs{constructor(t,e=Qs.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Qs.now=VE.now;const BE=new class Jj extends Qs{constructor(t,e=Qs.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}(class Zj extends Yj{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,r=0){return Fc.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;Fc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Zs(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),Xj=BE;function UE(n,t){return t?e=>Ds(t.pipe(Yt(1),function e$(){return Be((n,t)=>{n.subscribe(Ue(t,Xs))})}()),e.pipe(UE(n))):Ye((e,r)=>n(e,r).pipe(Yt(1),lb(e)))}const Ys="Service workers are disabled or not supported by this browser";class Lc{constructor(t){if(this.serviceWorker=t,t){const r=Oc(t,"controllerchange").pipe(ee(()=>t.controller)),o=Ds(kl(()=>L(t.controller)),r);this.worker=o.pipe(Rt(u=>!!u)),this.registration=this.worker.pipe(Nt(()=>t.getRegistration()));const c=Oc(t,"message").pipe(ee(u=>u.data)).pipe(Rt(u=>u&&u.type)).pipe(function Qj(n){return n?t=>LE(n)(t):t=>function Kj(n,t){const e=de(n)?n:()=>n;return de(t)?LE(t,{connector:e}):r=>new cf(r,e)}(new Lt)(t)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function i$(n){return kl(()=>oo(new Error(n)))}(Ys)}postMessage(t,e){return this.worker.pipe(Yt(1),it(r=>{r.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(t,e);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe(Rt(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Yt(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Rt(e=>e.nonce===t),Yt(1),ee(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let o$=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new Lt,!e.isEnabled)return this.messages=Or,this.notificationClicks=Or,void(this.subscription=Or);this.messages=this.sw.eventsOfType("PUSH").pipe(ee(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ee(i=>i.data)),this.pushManager=this.sw.registration.pipe(ee(i=>i.pushManager));const r=this.pushManager.pipe(Nt(i=>i.getSubscription()));this.subscription=Zc(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(Ys));const r={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Nt(s=>s.subscribe(r)),Yt(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Yt(1),Nt(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ys))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Lc))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),s$=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Or,this.available=Or,this.activated=Or,void(this.unrecoverable=Or);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Rt(r=>"VERSION_READY"===r.type),ee(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ys));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ys));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(F(Lc))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class Wp{}const jE=new $("NGSW_REGISTER_SCRIPT");function a$(n,t,e,r){return()=>{if(!kC(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=L(null);break;case"registerWithDelay":i=$E(+a[0]||0);break;case"registerWhenStable":i=a[0]?Zc(HE(n),$E(+a[0])):HE(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(Fe).runOutsideAngular(()=>i.pipe(Yt(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function $E(n){return L(null).pipe(function r$(n,t=BE){const e=function n$(n=0,t,e=Xj){let r=-1;return null!=t&&(yg(t)?e=t:r=t),new pe(i=>{let o=function t$(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,t);return UE(()=>e)}(n))}function HE(n){return n.get(ro).isStable.pipe(Rt(e=>e))}function l$(n,t){return new Lc(kC(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let c$=(()=>{class n{static register(e,r={}){return{ngModule:n,providers:[{provide:jE,useValue:e},{provide:Wp,useValue:r},{provide:Lc,useFactory:l$,deps:[Wp,al]},{provide:gs,useFactory:a$,deps:[Kt,jE,Wp,al],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n}),n.\u0275inj=mt({providers:[o$,s$]}),n})();const u$={url:Cp_socketUrl,options:{}};let d$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=It({type:n,bootstrap:[B3]}),n.\u0275inj=mt({providers:[vp,wp],imports:[ZC,O3,VL,_0,xV.forRoot(u$),Bj,jf,c$.register("ngsw-worker.js",{enabled:Cp_production,registrationStrategy:"registerWhenStable:30000"})]}),n})();Cp_production&&function MP(){Jw=!1}(),iO().bootstrapModule(d$).catch(n=>console.error(n))}},Bc=>{Bc(Bc.s=652)}]);